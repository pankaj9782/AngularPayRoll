(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{eDec:function(e,t,s){"use strict";s.r(t),s.d(t,"RolesModule",(function(){return H}));var i=s("ofXK"),r=s("tyNb"),o=s("3Pt+"),l=s("CG1p"),a=s("fXoL");let c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Nb({type:e,selectors:[["app-roles"]],decls:1,vars:0,template:function(e,t){1&e&&a.Ub(0,"router-outlet")},directives:[r.g],styles:[""]}),e})();var n=s("4SUy"),b=s("OyPL"),d=s("8fwW");function u(e,t){if(1&e&&(a.Zb(0,"p",29),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){const e=a.jc();a.Hb(2),a.Jc(e.errMsg)}}function p(e,t){if(1&e&&(a.Zb(0,"p",30),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){const e=a.jc();a.Hb(2),a.Jc(e.successMsg)}}function h(e,t){if(1&e&&(a.Zb(0,"div",32),a.Ic(1),a.Yb()),2&e){const e=a.jc().$implicit;a.Hb(1),a.Kc(" ",e.message," ")}}function m(e,t){if(1&e&&(a.Zb(0,"div"),a.Gc(1,h,2,1,"div",31),a.Yb()),2&e){const e=t.$implicit,s=a.jc();a.Hb(1),a.pc("ngIf",s.addRoleForm.get("title").hasError(e.type)&&(s.addRoleForm.get("title").dirty||s.addRoleForm.get("title").touched))}}Object(n.G)(!0);let g=(()=>{class e{constructor(e,t,s){this.rolesApi=e,this.formBuilder=t,this.Router=s,this.errorFlag=!1,this.successFlag=!1,this.errMsg="",this.successMsg="",this.addRoleValidationMessage={title:[{type:"required",message:"Title is required"}]}}ngOnInit(){this.addRoleFormData(),this.rolesApi.getRolesListData().subscribe(e=>{"success"===e.status&&(b.b.Inject(b.a),this.createMultiObj=new b.b({dataSource:e.data.create,fields:{text:"Name",value:"Name"},mode:"CheckBox",placeholder:"Select Create Permission",showDropDownIcon:!0,filterBarPlaceholder:"Search Create Permission",popupHeight:"350px"}),this.createMultiObj.appendTo("#createCheckbox"),b.b.Inject(b.a),this.editMultiObj=new b.b({dataSource:e.data.edit,fields:{text:"Name",value:"Name"},mode:"CheckBox",placeholder:"Select Edit Permission",showDropDownIcon:!0,filterBarPlaceholder:"Search Edit Permission",popupHeight:"350px"}),this.editMultiObj.appendTo("#editCheckbox"),b.b.Inject(b.a),this.deleteMultiObj=new b.b({dataSource:e.data.delete,fields:{text:"Name",value:"Name"},mode:"CheckBox",placeholder:"Select Delete Permission",showDropDownIcon:!0,filterBarPlaceholder:"Search Delete Permission",popupHeight:"350px"}),this.deleteMultiObj.appendTo("#deleteCheckbox"))})}addRoleFormData(){try{this.addRoleForm=this.formBuilder.group({title:new o.f("",o.v.required),description:new o.f(""),permission:this.formBuilder.group({create:[],edit:[],delete:[]})})}catch(e){console.log(e.message)}}submitRoles(){try{null===this.createMultiObj.value&&null===this.editMultiObj.value&&null===this.deleteMultiObj.value?this.addRoleForm.removeControl("permission"):(null!==this.createMultiObj.value?this.addRoleForm.get("permission.create").setValue(this.createMultiObj.value):this.addRoleForm.get("permission").removeControl("create"),null!==this.editMultiObj.value?this.addRoleForm.get("permission.edit").setValue(this.editMultiObj.value):this.addRoleForm.get("permission").removeControl("edit"),null!==this.deleteMultiObj.value?this.addRoleForm.get("permission.delete").setValue(this.deleteMultiObj.value):this.addRoleForm.get("permission").removeControl("delete")),this.addRoleForm.get("title").setValue(this.addRoleForm.get("title").value.trim()),null===this.addRoleForm.get("description").value?this.addRoleForm.get("description").setValue(""):this.addRoleForm.get("description").setValue(this.addRoleForm.get("description").value.trim()),this.rolesApi.addRole(this.addRoleForm.value).subscribe(e=>{"success"===e.status?(this.successFlag=!0,this.successMsg=e.message,this.errorFlag=!1,setTimeout(()=>{this.handleErrorMessage(),this.Router.navigateByUrl("/pages/roles/list-role")},1e3)):(e.status="error")&&(this.errorFlag=!0,this.errMsg=e.message,this.successFlag=!1,setTimeout(()=>{this.handleErrorMessage()},2e3))})}catch(e){console.log(e)}}handleErrorMessage(){this.successFlag=!1,this.errorFlag=!1,this.errMsg="",this.successMsg=""}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(d.a),a.Tb(o.e),a.Tb(r.b))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-add-role"]],decls:68,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","title","placeholder","Enter Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["type","text","id","title","placeholder","Enter Description","formControlName","description",1,"form-control"],[1,"permission-form"],[1,"contain"],[1,"col-md-4"],[1,"create-section"],[1,"stackblitz-container","material"],[1,"control-section"],[1,"control-wrapper"],["type","text","id","createCheckbox"],[1,"col-lg-4","property-section"],["id","property","title","Properties"],["type","text","id","editCheckbox"],["type","text","id","deleteCheckbox"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","/pages/roles/list-role",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2",2),a.Ic(3,"Add Roles"),a.Yb(),a.Yb(),a.Zb(4,"div",3),a.Zb(5,"div",4),a.Gc(6,u,3,1,"p",5),a.Yb(),a.Zb(7,"div",4),a.Gc(8,p,3,1,"p",6),a.Yb(),a.Zb(9,"form",7),a.gc("ngSubmit",(function(){return t.submitRoles()})),a.Zb(10,"div",8),a.Zb(11,"div",9),a.Zb(12,"label",10),a.Zb(13,"strong"),a.Ic(14,"Title:\xa0"),a.Zb(15,"span",11),a.Ic(16,"*"),a.Yb(),a.Yb(),a.Yb(),a.Zb(17,"div",4),a.Ub(18,"input",12),a.Gc(19,m,2,1,"div",13),a.Yb(),a.Yb(),a.Zb(20,"div",9),a.Zb(21,"label",10),a.Zb(22,"strong"),a.Ic(23,"Description:\xa0"),a.Zb(24,"span",11),a.Ic(25,"*"),a.Yb(),a.Yb(),a.Yb(),a.Zb(26,"div",4),a.Ub(27,"input",14),a.Yb(),a.Yb(),a.Yb(),a.Zb(28,"div",15),a.Zb(29,"h4",2),a.Ic(30,"Permissions"),a.Yb(),a.Zb(31,"div",16),a.Zb(32,"div",8),a.Zb(33,"div",17),a.Zb(34,"div",18),a.Zb(35,"h5"),a.Ic(36,"Create"),a.Yb(),a.Zb(37,"div",19),a.Zb(38,"div",20),a.Zb(39,"div",21),a.Ub(40,"input",22),a.Yb(),a.Yb(),a.Zb(41,"div",23),a.Zb(42,"div",24),a.Ub(43,"table",24),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(44,"div",17),a.Zb(45,"h5"),a.Ic(46,"Edit"),a.Yb(),a.Zb(47,"div",19),a.Zb(48,"div",20),a.Zb(49,"div",21),a.Ub(50,"input",25),a.Yb(),a.Yb(),a.Zb(51,"div",23),a.Zb(52,"div",24),a.Ub(53,"table",24),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(54,"div",17),a.Zb(55,"h5"),a.Ic(56,"Delete"),a.Yb(),a.Zb(57,"div",19),a.Zb(58,"div",20),a.Zb(59,"div",21),a.Ub(60,"input",26),a.Yb(),a.Yb(),a.Zb(61,"div",23),a.Zb(62,"div",24),a.Ub(63,"table",24),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(64,"button",27),a.Ic(65,"Submit"),a.Yb(),a.Zb(66,"button",28),a.Ic(67,"Cancel"),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(6),a.pc("ngIf",t.errorFlag),a.Hb(2),a.pc("ngIf",t.successFlag),a.Hb(1),a.pc("formGroup",t.addRoleForm),a.Hb(10),a.pc("ngForOf",t.addRoleValidationMessage.title),a.Hb(45),a.pc("disabled",t.addRoleForm.invalid))},directives:[i.m,o.x,o.o,o.i,o.c,o.n,o.g,i.l,r.c],styles:[".permission-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:40px;font-size:30px;color:#000}.contain[_ngcontent-%COMP%]{width:88%;margin:auto auto 20px}"]}),e})();function f(e,t){if(1&e&&(a.Zb(0,"p",16),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){const e=a.jc();a.Hb(2),a.Jc(e.errMsg)}}function v(e,t){if(1&e&&(a.Zb(0,"p",17),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){const e=a.jc();a.Hb(2),a.Jc(e.successMsg)}}function Y(e,t){if(1&e&&(a.Zb(0,"div",19),a.Ic(1),a.Yb()),2&e){const e=a.jc().$implicit;a.Hb(1),a.Kc(" ",e.message," ")}}function Z(e,t){if(1&e&&(a.Zb(0,"div"),a.Gc(1,Y,2,1,"div",18),a.Yb()),2&e){const e=t.$implicit,s=a.jc();a.Hb(1),a.pc("ngIf",s.updateRoleForm.get("title").hasError(e.type)&&(s.updateRoleForm.get("title").dirty||s.updateRoleForm.get("title").touched))}}let I=(()=>{class e{constructor(e,t,s,i){this.FormBuilder=e,this.updateRoleAPI=t,this.ActivatedRoute=s,this.Route=i,this.errorFlag=!1,this.successFlag=!1,this.errMsg="",this.successMsg="",this.updateRoleValidationMessage={title:[{type:"required",message:"Title is required"}]}}ngOnInit(){this.roleId=this.ActivatedRoute.snapshot.paramMap.get("roleId"),this.updateRoleFormStruct(),this.updateRoleFormExist()}updateRoleFormStruct(){try{this.updateRoleForm=this.FormBuilder.group({title:new o.f("",o.v.required),description:new o.f("")})}catch(e){console.log(e)}}updateRoleFormExist(){try{this.updateRoleAPI.listIndividualRole(this.roleId).subscribe(e=>{"success"===e.status&&(this.updateRoleForm=this.FormBuilder.group({title:new o.f(e.data.title,o.v.required),description:new o.f(e.data.description)}))})}catch(e){console.log(e)}}handleErrorMessage(){this.successFlag=!1,this.errorFlag=!1,this.errMsg="",this.successMsg=""}updateRole(){try{this.updateRoleForm.get("title").setValue(this.updateRoleForm.get("title").value.trim()),null===this.updateRoleForm.get("description").value?this.updateRoleForm.get("description").setValue(""):this.updateRoleForm.get("description").setValue(this.updateRoleForm.get("description").value.trim()),this.updateRoleAPI.updateRole(this.updateRoleForm.value,this.roleId).subscribe(e=>{"success"===e.status?(this.successFlag=!0,this.successMsg=e.message,this.errorFlag=!1,setTimeout(()=>{this.handleErrorMessage(),this.Route.navigateByUrl("/pages/roles/list-role")},2e3)):"error"===e.status&&(this.errorFlag=!0,this.successFlag=!1,this.errMsg=e.message)})}catch(e){console.log(e)}}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(o.e),a.Tb(d.a),a.Tb(r.a),a.Tb(r.b))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-update-role"]],decls:28,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","placeholder","Enter Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["type","text","placeholder","Enter Description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","/pages/roles/list-role",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2",2),a.Ic(3,"Update Role"),a.Yb(),a.Yb(),a.Zb(4,"div",3),a.Zb(5,"div",4),a.Gc(6,f,3,1,"p",5),a.Yb(),a.Zb(7,"div",4),a.Gc(8,v,3,1,"p",6),a.Yb(),a.Zb(9,"form",7),a.gc("ngSubmit",(function(){return t.updateRole()})),a.Zb(10,"div",8),a.Zb(11,"label",9),a.Zb(12,"strong"),a.Ic(13,"Title:\xa0"),a.Zb(14,"span",10),a.Ic(15,"*"),a.Yb(),a.Yb(),a.Yb(),a.Zb(16,"div",4),a.Ub(17,"input",11),a.Gc(18,Z,2,1,"div",12),a.Yb(),a.Zb(19,"div",4),a.Zb(20,"label",9),a.Zb(21,"strong"),a.Ic(22,"Description:"),a.Yb(),a.Yb(),a.Ub(23,"input",13),a.Yb(),a.Yb(),a.Zb(24,"button",14),a.Ic(25,"Update"),a.Yb(),a.Zb(26,"button",15),a.Ic(27,"Cancel"),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(6),a.pc("ngIf",t.errorFlag),a.Hb(2),a.pc("ngIf",t.successFlag),a.Hb(1),a.pc("formGroup",t.updateRoleForm),a.Hb(9),a.pc("ngForOf",t.updateRoleValidationMessage.title),a.Hb(6),a.pc("disabled",t.updateRoleForm.invalid))},directives:[i.m,o.x,o.o,o.i,o.c,o.n,o.g,i.l,r.c],styles:[""]}),e})();function F(e,t){if(1&e&&(a.Zb(0,"p",25),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){const e=a.jc();a.Hb(2),a.Jc(e.errMsg)}}function R(e,t){if(1&e&&(a.Zb(0,"p",26),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){const e=a.jc();a.Hb(2),a.Jc(e.successMsg)}}Object(n.G)(!0);let y=(()=>{class e{constructor(e,t,s,i){this.ActivatedRoute=e,this.updatePermissionAPI=t,this.FormBuilder=s,this.Router=i,this.errorFlag=!1,this.successFlag=!1,this.errMsg="",this.successMsg=""}ngOnInit(){this.roleId=this.ActivatedRoute.snapshot.paramMap.get("roleId"),this.updatePermissionAPI.listIndividualPermissions(this.roleId).subscribe(e=>{this.roleTitle=e.data.title,"success"===e.status&&this.updatePermissionAPI.getRolesListData().subscribe(t=>{b.b.Inject(b.a),this.createMultiObj=new b.b({dataSource:t.data.create,fields:{text:"Name",value:"Name"},mode:"CheckBox",placeholder:"Select Create Permission",showDropDownIcon:!0,filterBarPlaceholder:"Search Create Permission",popupHeight:"350px"}),this.createMultiObj.appendTo("#createCheckbox"),this.createMultiObj.value=e.data.create,b.b.Inject(b.a),this.editMultiObj=new b.b({dataSource:t.data.edit,fields:{text:"Name",value:"Name"},mode:"CheckBox",placeholder:"Select Edit Permission",showDropDownIcon:!0,filterBarPlaceholder:"Search Edit Permission",popupHeight:"350px"}),this.editMultiObj.appendTo("#editCheckbox"),this.editMultiObj.value=e.data.edit,b.b.Inject(b.a),this.deleteMultiObj=new b.b({dataSource:t.data.delete,fields:{text:"Name",value:"Name"},mode:"CheckBox",placeholder:"Select Delete Permission",showDropDownIcon:!0,filterBarPlaceholder:"Search Delete Permission",popupHeight:"350px"}),this.deleteMultiObj.appendTo("#deleteCheckbox"),this.deleteMultiObj.value=e.data.delete})}),this.updatePermissionForm=this.FormBuilder.group({permission:this.FormBuilder.group({create:[],edit:[],delete:[]})})}submitPermissions(){try{0===this.createMultiObj.value.length&&0===this.editMultiObj.value.length&&0===this.deleteMultiObj.value.length?this.updatePermissionForm.removeControl("permission"):(this.createMultiObj.value.length>0?this.updatePermissionForm.get("permission.create").setValue(this.createMultiObj.value):this.updatePermissionForm.get("permission").removeControl("create"),this.editMultiObj.value.length>0?this.updatePermissionForm.get("permission.edit").setValue(this.editMultiObj.value):this.updatePermissionForm.get("permission").removeControl("edit"),this.deleteMultiObj.value.length>0?this.updatePermissionForm.get("permission.delete").setValue(this.deleteMultiObj.value):this.updatePermissionForm.get("permission").removeControl("delete")),this.updatePermissionAPI.updateRolePermissions(this.updatePermissionForm.value,this.roleId).subscribe(e=>{"success"===e.status?(this.successFlag=!0,this.successMsg=e.message,this.errorFlag=!1,setTimeout(()=>{this.handleErrorMessage(),this.Router.navigateByUrl("/pages/roles/list-permission/"+this.roleId)},1e3)):(e.status="error")&&(this.errorFlag=!0,this.errMsg=e.message,this.successFlag=!1,setTimeout(()=>{this.handleErrorMessage()},2e3))})}catch(e){console.log(e)}}handleErrorMessage(){this.successFlag=!1,this.errorFlag=!1,this.errMsg="",this.successMsg=""}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(r.a),a.Tb(d.a),a.Tb(o.e),a.Tb(r.b))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-update-permission"]],decls:52,vars:4,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-title","text-center","titleHeading"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"ngSubmit"],[1,"permission-form"],[1,"contain"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-4"],[1,"create-section"],[1,"stackblitz-container","material"],[1,"control-section"],[1,"control-wrapper"],["type","text","id","createCheckbox"],[1,"col-lg-4","property-section"],["id","property","title","Properties"],[1,"col-md-4"],["type","text","id","editCheckbox"],["type","text","id","deleteCheckbox"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-danger",3,"routerLink"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2",2),a.Ic(3,"Update Permissions"),a.Yb(),a.Zb(4,"h4",3),a.Ic(5),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"div",5),a.Gc(8,F,3,1,"p",6),a.Yb(),a.Zb(9,"div",5),a.Gc(10,R,3,1,"p",7),a.Yb(),a.Zb(11,"form",8),a.gc("ngSubmit",(function(){return t.submitPermissions()})),a.Zb(12,"div",9),a.Zb(13,"h4",2),a.Ic(14,"Permissions"),a.Yb(),a.Zb(15,"div",10),a.Zb(16,"div",11),a.Zb(17,"div",12),a.Zb(18,"div",13),a.Zb(19,"h5"),a.Ic(20,"Create"),a.Yb(),a.Zb(21,"div",14),a.Zb(22,"div",15),a.Zb(23,"div",16),a.Ub(24,"input",17),a.Yb(),a.Yb(),a.Zb(25,"div",18),a.Zb(26,"div",19),a.Ub(27,"table",19),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(28,"div",20),a.Zb(29,"h5"),a.Ic(30,"Edit"),a.Yb(),a.Zb(31,"div",14),a.Zb(32,"div",15),a.Zb(33,"div",16),a.Ub(34,"input",21),a.Yb(),a.Yb(),a.Zb(35,"div",18),a.Zb(36,"div",19),a.Ub(37,"table",19),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(38,"div",20),a.Zb(39,"h5"),a.Ic(40,"Delete"),a.Yb(),a.Zb(41,"div",14),a.Zb(42,"div",15),a.Zb(43,"div",16),a.Ub(44,"input",22),a.Yb(),a.Yb(),a.Zb(45,"div",18),a.Zb(46,"div",19),a.Ub(47,"table",19),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(48,"button",23),a.Ic(49,"Submit"),a.Yb(),a.Zb(50,"button",24),a.Ic(51,"Cancel"),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(5),a.Kc("Role Title: ",t.roleTitle,""),a.Hb(3),a.pc("ngIf",t.errorFlag),a.Hb(2),a.pc("ngIf",t.successFlag),a.Hb(40),a.rc("routerLink","/pages/roles/list-permission/",t.roleId,""))},directives:[i.m,o.x,o.o,o.p,r.c],styles:[".titleHeading[_ngcontent-%COMP%]{color:#51bcda}"]}),e})();function M(e,t){if(1&e&&(a.Zb(0,"tbody"),a.Zb(1,"tr"),a.Zb(2,"td"),a.Zb(3,"strong"),a.Ic(4),a.Yb(),a.Yb(),a.Zb(5,"td"),a.Ic(6),a.Yb(),a.Zb(7,"td"),a.Ic(8),a.Yb(),a.Zb(9,"td"),a.Zb(10,"a",7),a.Ub(11,"i",8),a.Yb(),a.Ic(12,"\xa0 "),a.Zb(13,"button",9),a.Ic(14,"Manage Role Permissions"),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e){const e=t.$implicit,s=t.index;a.Hb(4),a.Kc("",s+1,"."),a.Hb(2),a.Kc(" ",e.title," "),a.Hb(2),a.Kc(" ",e.description," "),a.Hb(2),a.rc("routerLink","/pages/roles/update-role/",e._id,""),a.Hb(3),a.rc("routerLink","/pages/roles/list-permission/",e._id,"")}}let P=(()=>{class e{constructor(e,t){this.roleListAPI=e,this.router=t}ngOnInit(){this.listAllRole()}listAllRole(){try{this.roleListAPI.listAllRole().subscribe(e=>{"success"===e.status&&(0===e.data.length?this.router.navigateByUrl("/pages/roles/add-role"):this.rolesInfo=e.data)})}catch(e){console.log(e)}}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(d.a),a.Tb(r.b))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-list-role"]],decls:19,vars:1,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["type","button","routerLink","/pages/roles/add-role",1,"btn","btn-primary",2,"float","right"],[1,"fa","fa-plus-square"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-info",3,"routerLink"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2"),a.Ic(3,"Roles"),a.Yb(),a.Zb(4,"button",2),a.Ub(5,"i",3),a.Ic(6,"\xa0 Add Role"),a.Yb(),a.Yb(),a.Zb(7,"table",4),a.Zb(8,"thead",5),a.Zb(9,"tr"),a.Zb(10,"th"),a.Ic(11," S.No "),a.Yb(),a.Zb(12,"th"),a.Ic(13," Title "),a.Yb(),a.Zb(14,"th"),a.Ic(15," Description "),a.Yb(),a.Zb(16,"th"),a.Ic(17," Action "),a.Yb(),a.Yb(),a.Yb(),a.Gc(18,M,15,5,"tbody",6),a.Yb(),a.Yb()),2&e&&(a.Hb(18),a.pc("ngForOf",t.rolesInfo))},directives:[r.c,i.l,r.e],styles:[""]}),e})();var x=s("PSD3"),O=s.n(x);function j(e,t){if(1&e){const e=a.ac();a.Zb(0,"tbody"),a.Zb(1,"tr"),a.Zb(2,"td"),a.Zb(3,"b"),a.Ic(4),a.Yb(),a.Yb(),a.Zb(5,"td"),a.Ic(6),a.Yb(),a.Zb(7,"td"),a.Zb(8,"button",10),a.gc("click",(function(){a.Bc(e);const s=t.$implicit;return a.jc().deletePermission(s._id)})),a.Ub(9,"i",11),a.Yb(),a.Ic(10,"\xa0 "),a.Yb(),a.Yb(),a.Yb()}if(2&e){const e=t.$implicit,s=t.index;a.Hb(4),a.Kc("",s+1,"."),a.Hb(2),a.Kc(" ",e.title," ")}}const C=[{path:"",component:c,canActivate:[l.a],children:[{path:"add-role",component:g},{path:"update-role/:roleId",component:I},{path:"update-permission/:roleId",component:y},{path:"list-role",component:P},{path:"list-permission/:roleId",component:(()=>{class e{constructor(e,t){this.ActivatedRoute=e,this.permissionListAPI=t}ngOnInit(){this.roleId=this.ActivatedRoute.snapshot.paramMap.get("roleId"),this.permissionList()}permissionList(){try{this.permissionListAPI.listIndividualRole(this.roleId).subscribe(e=>{"success"===e.status&&(this.roleTitle=e.data.title,this.permissionInfo=e.data.permission)})}catch(e){console.log(e)}}deletePermission(e){const t=O.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});t.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then(s=>{s.value?this.permissionListAPI.deletePermission(this.roleId,e).subscribe(e=>{"success"===e.status&&(t.fire("Deleted!",e.message,"success"),this.permissionList())}):s.dismiss===O.a.DismissReason.cancel&&t.fire("Cancelled","Your list data safe","error")})}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(r.a),a.Tb(d.a))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-list-permission"]],decls:21,vars:3,consts:[[1,"card"],[1,"card-header"],[2,"text-align","center"],["type","button",1,"btn","btn-primary",2,"float","right",3,"routerLink"],[1,"fa","fa-plus-square"],["type","button","routerLink","/pages/roles/list-role",1,"btn","btn-primary",2,"float","right"],[1,"fa","fa-arrow-left"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2",2),a.Ic(3,"Permissions List"),a.Yb(),a.Zb(4,"button",3),a.Ub(5,"i",4),a.Ic(6,"\xa0 Update Permissions"),a.Yb(),a.Zb(7,"button",5),a.Ub(8,"i",6),a.Yb(),a.Zb(9,"h4"),a.Ic(10),a.Yb(),a.Yb(),a.Zb(11,"table",7),a.Zb(12,"thead",8),a.Zb(13,"tr"),a.Zb(14,"th"),a.Ic(15,"S.No"),a.Yb(),a.Zb(16,"th"),a.Ic(17,"Permissions Given"),a.Yb(),a.Zb(18,"th"),a.Ic(19,"Action"),a.Yb(),a.Yb(),a.Yb(),a.Gc(20,j,11,2,"tbody",9),a.Yb(),a.Yb()),2&e&&(a.Hb(4),a.rc("routerLink","/pages/roles/update-permission/",t.roleId,""),a.Hb(6),a.Jc(t.roleTitle),a.Hb(10),a.pc("ngForOf",t.permissionInfo))},directives:[r.c,i.l],styles:[".card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;color:#50cbce}"]}),e})()},{path:"",redirectTo:"list-role",pathMatch:"full"}]}];let w=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},imports:[[i.c,r.f.forChild(C)]]}),e})(),H=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(t){return new(t||e)},providers:[d.a],imports:[[i.c,r.f,o.j,o.s,w]]}),e})()}}]);
//# sourceMappingURL=26-es2015.59bb44d7bdb29a2ee844.js.map