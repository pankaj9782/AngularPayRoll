(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{zrcO:function(s,t,e){"use strict";e.r(t),e.d(t,"UsersModule",(function(){return A}));var r=e("ofXK"),o=e("tyNb"),i=e("fXoL");let a=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=i.Nb({type:s,selectors:[["app-users"]],decls:1,vars:0,template:function(s,t){1&s&&i.Ub(0,"router-outlet")},directives:[o.g],styles:[""]}),s})();var n=e("3Pt+"),c=e("H+bZ"),l=e("cnwL");function b(s,t){if(1&s&&(i.Zb(0,"p",19),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.errorMessageServer)}}function g(s,t){if(1&s&&(i.Zb(0,"p",20),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.successMessage)}}function d(s,t){if(1&s&&(i.Zb(0,"div",22),i.Ic(1),i.Yb()),2&s){const s=i.jc().$implicit;i.Hb(1),i.Kc(" ",s.message," ")}}function m(s,t){if(1&s&&(i.Zb(0,"div"),i.Gc(1,d,2,1,"div",21),i.Yb()),2&s){const s=t.$implicit,e=i.jc();i.Hb(1),i.pc("ngIf",e.loginForm.get("email").hasError(s.type)&&(e.loginForm.get("email").dirty||e.loginForm.get("email").touched))}}function p(s,t){if(1&s&&(i.Zb(0,"div",22),i.Ic(1),i.Yb()),2&s){const s=i.jc().$implicit;i.Hb(1),i.Kc(" ",s.message," ")}}function u(s,t){if(1&s&&(i.Zb(0,"div"),i.Gc(1,p,2,1,"div",23),i.Yb()),2&s){const s=t.$implicit,e=i.jc();i.Hb(1),i.pc("ngIf",e.loginForm.get("password").hasError(s.type)&&(e.loginForm.get("password").dirty||e.loginForm.get("password").touched))}}let f=(()=>{class s{constructor(s,t,e,r,o,i){this.api=s,this.fb=t,this.ngZone=e,this.router=r,this.permissionAPI=o,this.util=i,this.flag=!1,this.loginFlag=!1,this.adminLogin=!1,this.userLogin=!1,this.validationErrorMessage={email:[{type:"required",message:"Email is required"}],password:[{type:"required",message:"Password is required"}]}}ngOnInit(){this.loginData()}loginData(){try{this.loginForm=this.fb.group({email:new n.f(null,n.v.required),password:new n.f(null,n.v.required)})}catch(s){console.log(s.message)}}login(){try{this.loginForm.valid&&this.api.submitLogin(this.loginForm.value).subscribe(s=>{"success"===s.status||200===s.status?(localStorage.setItem("myVal",JSON.stringify(s.user.local.email)),localStorage.setItem("token",s.user._id),this.loginFlag=!0,this.successMessage=s.message,this.flag=!1,this.getCompanyList(),this.permissionAPI.permissionDetails().subscribe(s=>{"success"===s.status&&(this.util.permissionRoleInfo=s.data)})):"error"!==s.status&&404!==s.status||(this.flag=!0,this.errorMessageServer=s.message,this.loginFlag=!1,setTimeout(()=>{this.handleErrors()},4e3))})}catch(s){console.log(s.message)}}getCompanyList(){try{this.api.getListData().subscribe(s=>{"success"!==s.status&&200!==s.status||(0===s.company.length?(this.ngZone.run(()=>this.router.navigateByUrl("/pages/company/add-company")),sessionStorage.setItem("companyId",void 0)):(sessionStorage.setItem("companyId",s.company[0]._id),localStorage.setItem("companyId",s.company[0]._id),setTimeout(()=>{this.ngZone.run(()=>this.router.navigateByUrl("/pages/dashboard/company-list"))},500)))})}catch(s){console.log(s.message)}}handleErrors(){try{this.loginFlag=!1,this.successMessage="",this.errorMessageServer="",this.flag=!1}catch(s){console.log(s)}}}return s.\u0275fac=function(t){return new(t||s)(i.Tb(c.a),i.Tb(n.e),i.Tb(i.E),i.Tb(o.b),i.Tb(c.a),i.Tb(l.a))},s.\u0275cmp=i.Nb({type:s,selectors:[["app-login"]],decls:40,vars:6,consts:[["src","assets/image/logo.png",1,"imgLogo"],[2,"text-align","center","color","#0098cd"],[1,"card","card-user"],[1,"card-body"],[1,"card-header"],[1,"card-title"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],["type","email","id","inputEmail","placeholder","Enter Your Email","formControlName","email",1,"form-control"],[4,"ngFor","ngForOf"],["type","password","id","inputPassword","placeholder","Enter Your Password","formControlName","password",1,"form-control"],["id","forgot","routerLink","../forgot-password","routerLinkActive","active",1,"text-link"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["routerLink","../register","routerLinkAcitve","active",1,"text-link"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"]],template:function(s,t){1&s&&(i.Ub(0,"img",0),i.Zb(1,"h3",1),i.Zb(2,"b"),i.Ic(3,"PAYROLL"),i.Yb(),i.Yb(),i.Zb(4,"div",2),i.Zb(5,"div",3),i.Zb(6,"div",4),i.Zb(7,"h1",5),i.Ic(8,"Login"),i.Yb(),i.Yb(),i.Zb(9,"div",6),i.Gc(10,b,3,1,"p",7),i.Yb(),i.Zb(11,"div",6),i.Gc(12,g,3,1,"p",8),i.Yb(),i.Zb(13,"form",9),i.gc("ngSubmit",(function(){return t.login()})),i.Zb(14,"div",10),i.Zb(15,"label",11),i.Zb(16,"b"),i.Ic(17,"Email:"),i.Yb(),i.Yb(),i.Zb(18,"div",6),i.Ub(19,"input",12),i.Gc(20,m,2,1,"div",13),i.Yb(),i.Yb(),i.Zb(21,"div",10),i.Zb(22,"label",11),i.Zb(23,"b"),i.Ic(24,"Password:"),i.Yb(),i.Yb(),i.Zb(25,"div",6),i.Ub(26,"input",14),i.Gc(27,u,2,1,"div",13),i.Zb(28,"a",15),i.Ic(29,"Forgot-Password?"),i.Yb(),i.Yb(),i.Yb(),i.Zb(30,"div",10),i.Zb(31,"div",16),i.Zb(32,"button",17),i.Ic(33,"Login"),i.Yb(),i.Yb(),i.Yb(),i.Zb(34,"div",10),i.Zb(35,"div",16),i.Zb(36,"section"),i.Ic(37,"Already have an account? \xa0"),i.Zb(38,"a",18),i.Ic(39,"REGISTER"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&s&&(i.Hb(10),i.pc("ngIf",t.flag),i.Hb(2),i.pc("ngIf",t.loginFlag),i.Hb(1),i.pc("formGroup",t.loginForm),i.Hb(7),i.pc("ngForOf",t.validationErrorMessage.email),i.Hb(7),i.pc("ngForOf",t.validationErrorMessage.password),i.Hb(5),i.pc("disabled",t.loginForm.invalid))},directives:[r.m,n.x,n.o,n.i,n.c,n.n,n.g,r.l,o.e,o.d],styles:[".card[_ngcontent-%COMP%]{max-width:400px;margin:25px auto auto;background-color:bisque}.imgLogo[_ngcontent-%COMP%]{margin-top:4%;display:block;margin-left:auto;margin-right:auto;width:100px;height:auto}.card-header[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{justify-content:center;margin-left:120px}.control-label[_ngcontent-%COMP%]{font-size:16px}#forgot[_ngcontent-%COMP%]{float:right}"]}),s})();var h=e("JqCM");function v(s,t){if(1&s&&(i.Zb(0,"p",19),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.successMessage)}}function Z(s,t){if(1&s&&(i.Zb(0,"p",20),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.errMessage)}}function w(s,t){if(1&s&&(i.Zb(0,"div",22),i.Ic(1),i.Yb()),2&s){const s=i.jc().$implicit;i.Hb(1),i.Kc(" ",s.message," ")}}function Y(s,t){if(1&s&&(i.Zb(0,"div"),i.Gc(1,w,2,1,"div",21),i.Yb()),2&s){const s=t.$implicit,e=i.jc();i.Hb(1),i.pc("ngIf",e.registerForm.get("email").hasError(s.type)&&(e.registerForm.get("email").dirty||e.registerForm.get("email").touched))}}let y=(()=>{class s{constructor(s,t,e,r,o){this.api=s,this.fb=t,this.ngZone=e,this.router=r,this.spinner=o,this.signupFlag=!0,this.successFlag=!0,this.validationErrorMessage={email:[{type:"required",message:"Email is required"},{type:"pattern",message:"Enter a valid email"}]}}ngOnInit(){this.submitData()}submitData(){try{this.registerForm=this.fb.group({email:new n.f(null,n.v.compose([n.v.required,n.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")]))})}catch(s){console.log(s)}}register(){try{this.spinner.show(),this.api.submitSignup(this.registerForm.value).subscribe(s=>{"error"===s.status||404===s.status?(this.signupFlag=!1,this.errMessage=s.message,this.successFlag=!0,this.spinner.hide(),setTimeout(()=>{this.handleErrors()},5e3)):"success"!==s.status&&200!==s.status||(this.successFlag=!1,this.successMessage=s.message,this.signupFlag=!0,this.spinner.hide(),setTimeout(()=>{this.ngZone.run(()=>this.router.navigateByUrl("/users/login")),this.handleErrors()},1e4))})}catch(s){console.log(s)}}handleErrors(){try{this.signupFlag=!1,this.errMessage="",this.successFlag=!0,this.successMessage=""}catch(s){console.log(s)}}}return s.\u0275fac=function(t){return new(t||s)(i.Tb(c.a),i.Tb(n.e),i.Tb(i.E),i.Tb(o.b),i.Tb(h.c))},s.\u0275cmp=i.Nb({type:s,selectors:[["app-register"]],decls:34,vars:5,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-ripple-multiple"],[2,"font-size","20px","color","white"],["src","assets/image/logo.png",1,"imgLogo"],[2,"text-align","center","color","#0098cd"],[1,"card","card-user"],[1,"card-body"],[1,"card-header"],[1,"card-title"],[1,"col-sm-offset-2"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],["for","inputEmail",1,"col-sm-6","control-label"],["type","email","id","inputEmail","placeholder","Enter Your Email","formControlName","email",1,"form-control"],[4,"ngFor","ngForOf"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["routerLink","../login",1,"text-link"],[1,"alert","alert-success"],[1,"alert","alert-danger"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(s,t){1&s&&(i.Zb(0,"ngx-spinner",0),i.Zb(1,"p",1),i.Ic(2,"Loading..."),i.Yb(),i.Yb(),i.Ub(3,"img",2),i.Zb(4,"h3",3),i.Zb(5,"b"),i.Ic(6,"PAYROLL"),i.Yb(),i.Yb(),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Zb(9,"div",6),i.Zb(10,"h1",7),i.Ic(11,"Register"),i.Yb(),i.Yb(),i.Zb(12,"div",8),i.Gc(13,v,3,1,"p",9),i.Yb(),i.Zb(14,"div",8),i.Gc(15,Z,3,1,"p",10),i.Yb(),i.Zb(16,"form",11),i.gc("ngSubmit",(function(){return t.register()})),i.Zb(17,"div",12),i.Zb(18,"label",13),i.Zb(19,"b"),i.Ic(20,"Enter Your Email: "),i.Yb(),i.Yb(),i.Zb(21,"div",8),i.Ub(22,"input",14),i.Gc(23,Y,2,1,"div",15),i.Yb(),i.Yb(),i.Zb(24,"div",12),i.Zb(25,"div",16),i.Zb(26,"button",17),i.Ic(27,"Register"),i.Yb(),i.Yb(),i.Yb(),i.Zb(28,"div",12),i.Zb(29,"div",16),i.Zb(30,"section"),i.Ic(31,"Already have an account?\xa0"),i.Zb(32,"a",18),i.Ic(33,"LOGIN"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&s&&(i.Hb(13),i.pc("ngIf",!t.successFlag),i.Hb(2),i.pc("ngIf",!t.signupFlag),i.Hb(1),i.pc("formGroup",t.registerForm),i.Hb(7),i.pc("ngForOf",t.validationErrorMessage.email),i.Hb(3),i.pc("disabled",t.registerForm.pristine||t.registerForm.invalid))},directives:[h.a,r.m,n.x,n.o,n.i,n.c,n.n,n.g,r.l,o.e],styles:[".card[_ngcontent-%COMP%]{max-width:400px;margin:25px auto auto;background-color:bisque}.imgLogo[_ngcontent-%COMP%]{margin-top:4%;display:block;margin-left:auto;margin-right:auto;width:100px;height:auto}.card-header[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{justify-content:center;margin-left:120px}.control-label[_ngcontent-%COMP%]{font-size:16px}"]}),s})();var P=e("etMh");function F(s,t){if(1&s&&(i.Zb(0,"p",18),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.errMessage)}}function I(s,t){if(1&s&&(i.Zb(0,"p",19),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.successMsg)}}function M(s,t){if(1&s&&(i.Zb(0,"div",21),i.Ic(1),i.Yb()),2&s){const s=i.jc().$implicit;i.Hb(1),i.Kc(" ",s.message," ")}}function x(s,t){if(1&s&&(i.Zb(0,"div"),i.Gc(1,M,2,1,"div",20),i.Yb()),2&s){const s=t.$implicit,e=i.jc();i.Hb(1),i.pc("ngIf",e.setPasswordForm.get("password").hasError(s.type)&&(e.setPasswordForm.get("password").dirty||e.setPasswordForm.get("password").touched))}}function E(s,t){if(1&s&&(i.Zb(0,"div",21),i.Ic(1),i.Yb()),2&s){const s=i.jc().$implicit;i.Hb(1),i.Kc(" ",s.message," ")}}function C(s,t){if(1&s&&(i.Zb(0,"div"),i.Gc(1,E,2,1,"div",20),i.Yb()),2&s){const s=t.$implicit,e=i.jc();i.Hb(1),i.pc("ngIf",e.setPasswordForm.get("passwordConfirmation").hasError(s.type)&&(e.setPasswordForm.get("passwordConfirmation").dirty||e.setPasswordForm.get("passwordConfirmation").touched))}}function H(s,t){if(1&s&&(i.Zb(0,"p",19),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.successMsg)}}function O(s,t){if(1&s&&(i.Zb(0,"p",20),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.errMessage)}}function L(s,t){if(1&s&&(i.Zb(0,"div",22),i.Ic(1),i.Yb()),2&s){const s=i.jc().$implicit;i.Hb(1),i.Kc(" ",s.message," ")}}function G(s,t){if(1&s&&(i.Zb(0,"div"),i.Gc(1,L,2,1,"div",21),i.Yb()),2&s){const s=t.$implicit,e=i.jc();i.Hb(1),i.pc("ngIf",e.forgotPassForm.get("email").hasError(s.type)&&(e.forgotPassForm.get("email").dirty||e.forgotPassForm.get("email").touched))}}function T(s,t){if(1&s&&(i.Zb(0,"p",18),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.errMessage)}}function j(s,t){if(1&s&&(i.Zb(0,"p",19),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&s){const s=i.jc();i.Hb(2),i.Jc(s.successMsg)}}function _(s,t){if(1&s&&(i.Zb(0,"div",21),i.Ic(1),i.Yb()),2&s){const s=i.jc().$implicit;i.Hb(1),i.Kc(" ",s.message," ")}}function q(s,t){if(1&s&&(i.Zb(0,"div"),i.Gc(1,_,2,1,"div",20),i.Yb()),2&s){const s=t.$implicit,e=i.jc();i.Hb(1),i.pc("ngIf",e.resetPasswordForm.get("password").hasError(s.type)&&(e.resetPasswordForm.get("password").dirty||e.resetPasswordForm.get("password").touched))}}function S(s,t){if(1&s&&(i.Zb(0,"div",21),i.Ic(1),i.Yb()),2&s){const s=i.jc().$implicit;i.Hb(1),i.Kc(" ",s.message," ")}}function k(s,t){if(1&s&&(i.Zb(0,"div"),i.Gc(1,S,2,1,"div",20),i.Yb()),2&s){const s=t.$implicit,e=i.jc();i.Hb(1),i.pc("ngIf",e.resetPasswordForm.get("passwordConfirmation").hasError(s.type)&&(e.resetPasswordForm.get("passwordConfirmation").dirty||e.resetPasswordForm.get("passwordConfirmation").touched))}}const $=[{path:"",component:a,children:[{path:"login",component:f},{path:"register",component:y},{path:"generate-password/:token",component:(()=>{class s{constructor(s,t,e,r,o){this.route=s,this.apiService=t,this.fb=e,this.ngZone=r,this.router=o,this.passwordFlag=!0,this.successFlag=!1,this.validationErrorMessage={password:[{type:"required",message:"Password is required"},{type:"minlength",message:"Password must be at least 8 characters long"},{type:"maxlength",message:"Password is too large(maximum length 12)"},{type:"pattern",message:"Your password must contain at least one uppercase, one lowercase, one digit and one special characters"}],passwordConfirmation:[{type:"required",message:"Confirm Password is required"},{type:"compare",message:"Password not match"}]}}ngOnInit(){this.submitPassword(),this.snapshotParam=this.route.snapshot.paramMap.get("token"),P.a.set({validationMessage:{compare:"Input does not match"}})}submitPassword(){this.setPasswordForm=this.fb.group({password:new n.f("",n.v.compose([n.v.minLength(8),n.v.maxLength(12),n.v.required,n.v.pattern(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/)])),passwordConfirmation:new n.f("",n.v.compose([n.v.required,P.b.compare({fieldName:"password"})]))})}setPassword(){try{this.setPasswordForm.valid&&this.apiService.submitPasswordData(this.setPasswordForm.value,this.snapshotParam).subscribe(s=>{"success"===s.status||200===s.status?(this.successFlag=!0,this.successMsg=s.message,this.passwordFlag=!0,setTimeout(()=>{this.ngZone.run(()=>this.router.navigateByUrl("/users/login"))},1e3)):"error"!=s.status&&404!==s.status||(this.passwordFlag=!1,this.errMessage=s.message,this.successFlag=!1)})}catch(s){console.log(s)}}}return s.\u0275fac=function(t){return new(t||s)(i.Tb(o.a),i.Tb(c.a),i.Tb(n.e),i.Tb(i.E),i.Tb(o.b))},s.\u0275cmp=i.Nb({type:s,selectors:[["app-generate-password"]],decls:31,vars:6,consts:[["src","assets/image/logo.png",1,"imgLogo"],[2,"text-align","center","color","#0098cd"],[1,"card","card-user"],[1,"card-body"],[1,"card-header"],[1,"card-title"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],["type","password","formControlName","password","placeholder","Enter Password",1,"form-control"],[4,"ngFor","ngForOf"],[1,"col-sm-8","control-label"],["type","password","formControlName","passwordConfirmation","placeholder","Confirm Password",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(s,t){1&s&&(i.Ub(0,"img",0),i.Zb(1,"h3",1),i.Zb(2,"b"),i.Ic(3,"PAYROLL"),i.Yb(),i.Yb(),i.Zb(4,"div",2),i.Zb(5,"div",3),i.Zb(6,"div",4),i.Zb(7,"h2",5),i.Ic(8,"Set Password"),i.Yb(),i.Yb(),i.Zb(9,"div",6),i.Gc(10,F,3,1,"p",7),i.Yb(),i.Zb(11,"div",6),i.Gc(12,I,3,1,"p",8),i.Yb(),i.Zb(13,"div"),i.Zb(14,"form",9),i.gc("ngSubmit",(function(){return t.setPassword()})),i.Zb(15,"div",10),i.Zb(16,"label",11),i.Zb(17,"b"),i.Ic(18,"Password:"),i.Yb(),i.Yb(),i.Ub(19,"input",12),i.Gc(20,x,2,1,"div",13),i.Yb(),i.Zb(21,"div",10),i.Zb(22,"label",14),i.Zb(23,"b"),i.Ic(24,"Confirm Password:"),i.Yb(),i.Yb(),i.Ub(25,"input",15),i.Gc(26,C,2,1,"div",13),i.Yb(),i.Zb(27,"div",10),i.Zb(28,"div",16),i.Zb(29,"button",17),i.Ic(30,"Submit Password"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&s&&(i.Hb(10),i.pc("ngIf",!t.passwordFlag),i.Hb(2),i.pc("ngIf",t.successFlag),i.Hb(2),i.pc("formGroup",t.setPasswordForm),i.Hb(6),i.pc("ngForOf",t.validationErrorMessage.password),i.Hb(6),i.pc("ngForOf",t.validationErrorMessage.passwordConfirmation),i.Hb(3),i.pc("disabled",t.setPasswordForm.pristine||t.setPasswordForm.invalid))},directives:[r.m,n.x,n.o,n.i,n.c,n.n,n.g,r.l],styles:[".card[_ngcontent-%COMP%]{max-width:400px;margin:25px auto auto;background-color:bisque}.imgLogo[_ngcontent-%COMP%]{margin-top:4%;display:block;margin-left:auto;margin-right:auto;width:100px;height:auto}.card-header[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{justify-content:center;margin:auto}.control-label[_ngcontent-%COMP%]{font-size:16px}"]}),s})()},{path:"forgot-password",component:(()=>{class s{constructor(s,t,e,r,o){this.api=s,this.fb=t,this.ngZone=e,this.router=r,this.spinner=o,this.forgotFlag=!0,this.flag=!1,this.validationErrorMessage={email:[{type:"required",message:"Email is required"},{type:"pattern",message:"Enter a valid email"}]}}ngOnInit(){this.submitEmail()}submitEmail(){try{this.forgotPassForm=this.fb.group({email:new n.f(null,n.v.compose([n.v.required,n.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")]))})}catch(s){console.log(s)}}forgotPassword(){try{this.spinner.show(),this.api.submitForgotPasswordData(this.forgotPassForm.value).subscribe(s=>{"error"===s.status||404===s.status?(this.forgotFlag=!1,this.errMessage=s.message,this.flag=!1,this.spinner.hide(),setTimeout(()=>{this.handleErrors()},5e3)):"success"!=s.status&&200!==s.status||(this.flag=!0,this.successMsg=s.message,this.forgotFlag=!0,this.spinner.hide(),setTimeout(()=>{this.ngZone.run(()=>this.router.navigateByUrl("/users/login")),this.handleErrors()},3e3))})}catch(s){console.log(s)}}handleErrors(){try{this.forgotFlag=!1,this.errMessage="",this.flag=!1,this.successMsg=""}catch(s){console.log(s)}}}return s.\u0275fac=function(t){return new(t||s)(i.Tb(c.a),i.Tb(n.e),i.Tb(i.E),i.Tb(o.b),i.Tb(h.c))},s.\u0275cmp=i.Nb({type:s,selectors:[["app-forgot-password"]],decls:34,vars:5,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-ripple-multiple"],[2,"font-size","20px","color","white"],["src","assets/image/logo.png",1,"imgLogo"],[2,"text-align","center","color","#0098cd"],[1,"card","card-user"],[1,"card-body"],[1,"card-header"],[1,"card-title"],[1,"col-sm-offset-2"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],["for","inputEmail",1,"col-sm-6","control-label"],["type","email","id","inputEmail","placeholder","Enter Your Registered Email","formControlName","email",1,"form-control"],[4,"ngFor","ngForOf"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["routerLink","../login",1,"text-link"],[1,"alert","alert-success"],[1,"alert","alert-danger"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(s,t){1&s&&(i.Zb(0,"ngx-spinner",0),i.Zb(1,"p",1),i.Ic(2,"Loading..."),i.Yb(),i.Yb(),i.Ub(3,"img",2),i.Zb(4,"h3",3),i.Zb(5,"b"),i.Ic(6,"PAYROLL"),i.Yb(),i.Yb(),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Zb(9,"div",6),i.Zb(10,"h2",7),i.Ic(11,"Forgot-Password"),i.Yb(),i.Yb(),i.Zb(12,"div",8),i.Gc(13,H,3,1,"p",9),i.Yb(),i.Zb(14,"div",8),i.Gc(15,O,3,1,"p",10),i.Yb(),i.Zb(16,"form",11),i.gc("ngSubmit",(function(){return t.forgotPassword()})),i.Zb(17,"div",12),i.Zb(18,"label",13),i.Zb(19,"b"),i.Ic(20,"Email: "),i.Yb(),i.Yb(),i.Zb(21,"div",8),i.Ub(22,"input",14),i.Gc(23,G,2,1,"div",15),i.Yb(),i.Yb(),i.Zb(24,"div",12),i.Zb(25,"div",16),i.Zb(26,"button",17),i.Ic(27,"Submit"),i.Yb(),i.Yb(),i.Yb(),i.Zb(28,"div",12),i.Zb(29,"div",16),i.Zb(30,"section"),i.Ic(31,"Go Back?\xa0"),i.Zb(32,"a",18),i.Ic(33,"LOGIN"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&s&&(i.Hb(13),i.pc("ngIf",t.flag),i.Hb(2),i.pc("ngIf",!t.forgotFlag),i.Hb(1),i.pc("formGroup",t.forgotPassForm),i.Hb(7),i.pc("ngForOf",t.validationErrorMessage.email),i.Hb(3),i.pc("disabled",t.forgotPassForm.pristine||t.forgotPassForm.invalid))},directives:[h.a,r.m,n.x,n.o,n.i,n.c,n.n,n.g,r.l,o.e],styles:[".card[_ngcontent-%COMP%]{max-width:400px;margin:25px auto auto;background-color:bisque}.imgLogo[_ngcontent-%COMP%]{margin-top:4%;display:block;margin-left:auto;margin-right:auto;width:100px;height:auto}.card-header[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{justify-content:center;margin-left:120px}.control-label[_ngcontent-%COMP%]{font-size:16px}"]}),s})()},{path:"reset-password/:token",component:(()=>{class s{constructor(s,t,e,r,o){this.route=s,this.apiService=t,this.fb=e,this.ngZone=r,this.router=o,this.passwordFlag=!0,this.successFlag=!1,this.validationErrorMessage={password:[{type:"required",message:"Password is required"},{type:"minlength",message:"Password must be at least 8 characters long"},{type:"maxlength",message:"Password should not be greater than 12 characters"},{type:"pattern",message:"Your password must contain at least one uppercase, one lowercase, one digit and one special characters"}],passwordConfirmation:[{type:"required",message:"Confirm Password is required"},{type:"compare",message:"Passwords do not match"}]}}ngOnInit(){this.submitResetPassword(),this.snapshotParam=this.route.snapshot.paramMap.get("token")}submitResetPassword(){try{this.resetPasswordForm=this.fb.group({password:new n.f("",n.v.compose([n.v.minLength(8),n.v.maxLength(12),n.v.required,n.v.pattern(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/)])),passwordConfirmation:new n.f("",n.v.compose([n.v.required,P.b.compare({fieldName:"password"})]))})}catch(s){console.log(s)}}resetPassword(){try{this.resetPasswordForm.valid&&this.apiService.submitResetPasswordData(this.resetPasswordForm.value,this.snapshotParam).subscribe(s=>{"success"===s.status||200===s.status?(this.successFlag=!0,this.successMsg=s.message,this.passwordFlag=!0,setTimeout(()=>{this.ngZone.run(()=>this.router.navigateByUrl("/users/login"))},1e3)):"error"!==s.status&&404!==s.status||(this.passwordFlag=!1,this.errMessage=s.message)})}catch(s){console.log(s)}}}return s.\u0275fac=function(t){return new(t||s)(i.Tb(o.a),i.Tb(c.a),i.Tb(n.e),i.Tb(i.E),i.Tb(o.b))},s.\u0275cmp=i.Nb({type:s,selectors:[["app-reset-password"]],decls:31,vars:6,consts:[["src","assets/image/logo.png",1,"imgLogo"],[2,"text-align","center","color","#0098cd"],[1,"card","card-user"],[1,"card-body"],[1,"card-header"],[1,"card-title"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],["type","password","formControlName","password","placeholder","Enter Password",1,"form-control"],[4,"ngFor","ngForOf"],[1,"col-sm-8","control-label"],["type","password","formControlName","passwordConfirmation","placeholder","Confirm Password",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(s,t){1&s&&(i.Ub(0,"img",0),i.Zb(1,"h3",1),i.Zb(2,"b"),i.Ic(3,"PAYROLL"),i.Yb(),i.Yb(),i.Zb(4,"div",2),i.Zb(5,"div",3),i.Zb(6,"div",4),i.Zb(7,"h2",5),i.Ic(8,"Reset Password"),i.Yb(),i.Yb(),i.Zb(9,"div",6),i.Gc(10,T,3,1,"p",7),i.Yb(),i.Zb(11,"div",6),i.Gc(12,j,3,1,"p",8),i.Yb(),i.Zb(13,"div"),i.Zb(14,"form",9),i.gc("ngSubmit",(function(){return t.resetPassword()})),i.Zb(15,"div",10),i.Zb(16,"label",11),i.Zb(17,"b"),i.Ic(18,"Password:"),i.Yb(),i.Yb(),i.Ub(19,"input",12),i.Gc(20,q,2,1,"div",13),i.Yb(),i.Zb(21,"div",10),i.Zb(22,"label",14),i.Zb(23,"b"),i.Ic(24,"Confirm Password:"),i.Yb(),i.Yb(),i.Ub(25,"input",15),i.Gc(26,k,2,1,"div",13),i.Yb(),i.Zb(27,"div",10),i.Zb(28,"div",16),i.Zb(29,"button",17),i.Ic(30,"Submit"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&s&&(i.Hb(10),i.pc("ngIf",!t.passwordFlag),i.Hb(2),i.pc("ngIf",t.successFlag),i.Hb(2),i.pc("formGroup",t.resetPasswordForm),i.Hb(6),i.pc("ngForOf",t.validationErrorMessage.password),i.Hb(6),i.pc("ngForOf",t.validationErrorMessage.passwordConfirmation),i.Hb(3),i.pc("disabled",!t.resetPasswordForm.valid))},directives:[r.m,n.x,n.o,n.i,n.c,n.n,n.g,r.l],styles:[".card[_ngcontent-%COMP%]{max-width:400px;margin:25px auto auto;background-color:bisque}.imgLogo[_ngcontent-%COMP%]{margin-top:4%;display:block;margin-left:auto;margin-right:auto;width:100px;height:auto}.card-header[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{justify-content:center;margin:auto}.control-label[_ngcontent-%COMP%]{font-size:16px}"]}),s})()},{path:"",redirectTo:"login",pathMatch:"full"}]}];let z=(()=>{class s{}return s.\u0275mod=i.Rb({type:s}),s.\u0275inj=i.Qb({factory:function(t){return new(t||s)},imports:[[r.c,o.f.forChild($)]]}),s})(),A=(()=>{class s{}return s.\u0275mod=i.Rb({type:s}),s.\u0275inj=i.Qb({factory:function(t){return new(t||s)},imports:[[r.c,z,n.s,o.f,h.b]]}),s})()}}]);
//# sourceMappingURL=29-es2015.7880b0c8f93d8a4b7676.js.map