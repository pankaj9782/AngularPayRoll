(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{pnYl:function(e,t,a){"use strict";a.r(t),a.d(t,"LeaveManagementModule",(function(){return Te}));var o=a("ofXK"),r=a("tyNb"),n=a("CG1p"),s=a("fXoL");let i=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Nb({type:e,selectors:[["app-leave-management"]],decls:1,vars:0,template:function(e,t){1&e&&s.Ub(0,"router-outlet")},directives:[r.g],styles:[""]}),e})();var c=a("3Pt+"),l=a("qp47"),d=a("tk/3"),b=a("AytR"),p=a("z6cu"),m=a("JIr8");let u=(()=>{class e{constructor(e){this.http=e,this.endpoint=b.a.apiBaseUrl,this.headers=(new d.c).set("Content-Type","application/x-www-form-urlencoded")}errorMgmt(e){try{let t="";return t=e.error instanceof ErrorEvent?e.error.message:`Error code:${e.status}\nMessage:${t}`,console.log(t),Object(p.a)(t)}catch(t){console.log(t.message)}}addEarnedLeave(e,t){try{let a=localStorage.getItem("token");return this.http.post(`${this.endpoint}/employee/add-earned-leave/${t}/${a}`,e).pipe(Object(m.a)(this.errorMgmt))}catch(a){console.log(a)}}listAllEarnedLeave(e,t){try{let a=sessionStorage.getItem("companyId");return this.http.get(`${this.endpoint}/employee/list-all-eraned-leave/${a}/${e}/${t}`).pipe(Object(m.a)(this.errorMgmt))}catch(a){console.log(a)}}filterEarnedLeaveDetails(e,t,a){try{return this.http.get(`${this.endpoint}/employee/earned-leave-details/${e}/${t}/${a}`).pipe(Object(m.a)(this.errorMgmt))}catch(o){console.log(o)}}existingEarnedLeaveDetails(e,t){try{return this.http.get(`${this.endpoint}/employee/earned-leave-details/${e}/${t}`).pipe(Object(m.a)(this.errorMgmt))}catch(a){console.log(a)}}updateEarnedLeave(e,t,a){try{let o=localStorage.getItem("token");return this.http.post(`${this.endpoint}/employee/update-earned-leave/${t}/${a}/${o}`,e).pipe(Object(m.a)(this.errorMgmt))}catch(o){console.log(o)}}fetchHistory(e,t,a){try{return this.http.get(`${this.endpoint}/employee/earned-leave-history/${e}/${t}/${a}`).pipe(Object(m.a)(this.errorMgmt))}catch(o){console.log(o)}}deleteEarnedLeave(e,t,a,o){try{return this.http.delete(`${this.endpoint}/employee/delete-earned-leave/${e}/${t}/${a}/${o}`).pipe(Object(m.a)(this.errorMgmt))}catch(r){console.log(r)}}}return e.\u0275fac=function(t){return new(t||e)(s.dc(d.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=a("cnwL");function g(e,t){if(1&e&&(s.Zb(0,"p",24),s.Zb(1,"strong"),s.Ic(2),s.Yb(),s.Yb()),2&e){const e=s.jc();s.Hb(2),s.Jc(e.errMsg)}}function h(e,t){if(1&e&&(s.Zb(0,"p",25),s.Zb(1,"strong"),s.Ic(2),s.Yb(),s.Yb()),2&e){const e=s.jc();s.Hb(2),s.Jc(e.successMsg)}}function f(e,t){if(1&e&&(s.Zb(0,"option",26),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e._id),s.Hb(1),s.Kc(" ",e.name," ")}}function y(e,t){if(1&e&&(s.Zb(0,"div",28),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function Y(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,y,2,1,"div",27),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEarnedLeaveForm.get("employeeId").hasError(e.type)&&(a.addEarnedLeaveForm.get("employeeId").dirty||a.addEarnedLeaveForm.get("employeeId").touched))}}function L(e,t){if(1&e&&(s.Zb(0,"option",26),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e),s.Hb(1),s.Kc(" ",e," ")}}function Z(e,t){if(1&e&&(s.Zb(0,"div",28),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function I(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,Z,2,1,"div",27),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEarnedLeaveForm.get("earnedLeave.month").hasError(e.type)&&(a.addEarnedLeaveForm.get("earnedLeave.month").dirty||a.addEarnedLeaveForm.get("earnedLeave.month").touched))}}function E(e,t){if(1&e&&(s.Zb(0,"div",28),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function F(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,E,2,1,"div",27),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEarnedLeaveForm.get("earnedLeave.year").hasError(e.type)&&(a.addEarnedLeaveForm.get("earnedLeave.year").dirty||a.addEarnedLeaveForm.get("earnedLeave.year").touched))}}function w(e,t){if(1&e&&(s.Zb(0,"div",28),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function H(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,w,2,1,"div",27),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEarnedLeaveForm.get("earnedLeave.leaveCount").hasError(e.type)&&(a.addEarnedLeaveForm.get("earnedLeave.leaveCount").dirty||a.addEarnedLeaveForm.get("earnedLeave.leaveCount").touched))}}let M=(()=>{class e{constructor(e,t,a,o,r){this.fb=e,this.employeeListAPI=t,this.api=a,this.router=o,this.util=r,this.earnedLeaveMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.status="Active",this.earnedLeavevalidationMessage={month:[{type:"required",message:"Month is Required"}],year:[{type:"required",message:"Year is Required"},{type:"pattern",message:"Value is not acceptable"}],leaveCount:[{type:"required",message:"Earned Balance is Required"},{type:"pattern",message:"Value is not acceptable"}],employeeId:[{type:"required",message:"Employee Name is Required"}]}}ngOnInit(){this.employeeList(),this.manageEarnedLeaveForm(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Create EarnedLeave")&&this.addEarnedLeaveForm.disable()}manageEarnedLeaveForm(){try{this.addEarnedLeaveForm=this.fb.group({earnedLeave:new c.h({month:new c.f("",c.v.required),year:new c.f("",c.v.compose([c.v.required,c.v.pattern(/^(19|20)\d{2}$/)])),leaveCount:new c.f("",c.v.compose([c.v.required,c.v.pattern(/(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,2})?$)/i)])),reason:new c.f("")}),employeeId:new c.f("",c.v.required)})}catch(e){console.log(e)}}employeeList(){try{this.employeeListAPI.getEmployeeList(this.status).subscribe(e=>{"success"===e.status&&(this.employeeDetails=e.data)})}catch(e){console.log(e)}}addLeaveForm(){try{console.log(this.addEarnedLeaveForm.get("employeeId").value),this.api.addEarnedLeave(this.addEarnedLeaveForm.value,this.addEarnedLeaveForm.get("employeeId").value).subscribe(e=>{"success"===e.status?(this.successMessage=!0,this.errorMsg=!1,this.successMsg=e.message,setTimeout(()=>{this.handleErrors(),this.router.navigateByUrl("/pages/leave-management/list-earned-leave")},2e3)):(this.errorMsg=!0,this.successMessage=!1,this.errMsg=e.message,setTimeout(()=>{this.handleErrors()},3e3))})}catch(e){console.log(e)}}handleErrors(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}return e.\u0275fac=function(t){return new(t||e)(s.Tb(c.e),s.Tb(l.a),s.Tb(u),s.Tb(r.b),s.Tb(v.a))},e.\u0275cmp=s.Nb({type:e,selectors:[["app-add-earned-leave"]],decls:65,vars:11,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["formControlName","employeeId",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"row",3,"formGroup"],[1,"form-group","col-md-6"],["formControlName","month",1,"dropdown","dropdown-toggle","form-control"],["type","text","id","inputPhone","placeholder","Enter Year","formControlName","year",1,"form-control"],["type","email","id","inputEmail","placeholder","Enter Earned Leave balance ","formControlName","leaveCount",1,"form-control"],["type","email","id","inputEmail","placeholder","Enter Reason","formControlName","reason",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-earned-leave",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"dropdown-item",3,"value"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"]],template:function(e,t){1&e&&(s.Zb(0,"div",0),s.Zb(1,"div",1),s.Zb(2,"h2",2),s.Ic(3,"Earned Leave Details"),s.Yb(),s.Yb(),s.Zb(4,"div",3),s.Zb(5,"div",4),s.Gc(6,g,3,1,"p",5),s.Yb(),s.Zb(7,"div",4),s.Gc(8,h,3,1,"p",6),s.Yb(),s.Zb(9,"form",7),s.gc("ngSubmit",(function(){return t.addLeaveForm()})),s.Zb(10,"div",8),s.Zb(11,"label",9),s.Zb(12,"b"),s.Ic(13,"Employee Name:\xa0"),s.Zb(14,"span",10),s.Ic(15,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(16,"div",4),s.Zb(17,"select",11),s.Zb(18,"option",12),s.Ic(19,"----------Select Employee----------"),s.Yb(),s.Gc(20,f,2,2,"option",13),s.Yb(),s.Gc(21,Y,2,1,"div",14),s.Yb(),s.Yb(),s.Zb(22,"div",15),s.Zb(23,"div",16),s.Zb(24,"label",9),s.Zb(25,"b"),s.Ic(26,"Month:\xa0"),s.Zb(27,"span",10),s.Ic(28,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(29,"div",4),s.Zb(30,"select",17),s.Zb(31,"option",12),s.Ic(32,"----------Select Month----------"),s.Yb(),s.Gc(33,L,2,2,"option",13),s.Yb(),s.Gc(34,I,2,1,"div",14),s.Yb(),s.Yb(),s.Zb(35,"div",16),s.Zb(36,"label",9),s.Zb(37,"b"),s.Ic(38,"Year:\xa0"),s.Zb(39,"span",10),s.Ic(40,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(41,"div",4),s.Ub(42,"input",18),s.Gc(43,F,2,1,"div",14),s.Yb(),s.Yb(),s.Zb(44,"div",16),s.Zb(45,"label",9),s.Zb(46,"b"),s.Ic(47,"Earned Balance:\xa0(in days)\xa0"),s.Zb(48,"span",10),s.Ic(49,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(50,"div",4),s.Ub(51,"input",19),s.Gc(52,H,2,1,"div",14),s.Yb(),s.Yb(),s.Zb(53,"div",16),s.Zb(54,"label",9),s.Zb(55,"b"),s.Ic(56,"Reason:"),s.Yb(),s.Yb(),s.Zb(57,"div",4),s.Ub(58,"input",20),s.Yb(),s.Yb(),s.Yb(),s.Zb(59,"div",8),s.Zb(60,"div",21),s.Zb(61,"button",22),s.Ic(62,"Submit"),s.Yb(),s.Zb(63,"button",23),s.Ic(64,"Cancel"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb()),2&e&&(s.Hb(6),s.pc("ngIf",t.errorMsg),s.Hb(2),s.pc("ngIf",t.successMessage),s.Hb(1),s.pc("formGroup",t.addEarnedLeaveForm),s.Hb(11),s.pc("ngForOf",t.employeeDetails),s.Hb(1),s.pc("ngForOf",t.earnedLeavevalidationMessage.employeeId),s.Hb(1),s.pc("formGroup",t.addEarnedLeaveForm.get("earnedLeave")),s.Hb(11),s.pc("ngForOf",t.earnedLeaveMonths),s.Hb(1),s.pc("ngForOf",t.earnedLeavevalidationMessage.month),s.Hb(9),s.pc("ngForOf",t.earnedLeavevalidationMessage.year),s.Hb(9),s.pc("ngForOf",t.earnedLeavevalidationMessage.leaveCount),s.Hb(9),s.pc("disabled",t.addEarnedLeaveForm.invalid||-1===t.permissionInfo.search("Create EarnedLeave")))},directives:[o.m,c.x,c.o,c.i,c.u,c.n,c.g,c.q,c.w,o.l,c.c,r.c],styles:[""]}),e})();var D=a("PSD3"),A=a.n(D);function $(e,t){if(1&e&&(s.Zb(0,"option",30),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e._id),s.Hb(1),s.Kc(" ",e.name," ")}}function T(e,t){if(1&e&&(s.Zb(0,"option",30),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e),s.Hb(1),s.Kc(" ",e," ")}}function q(e,t){if(1&e&&(s.Zb(0,"table",40),s.Zb(1,"tr"),s.Zb(2,"th"),s.Ic(3,"Reason:"),s.Yb(),s.Zb(4,"td"),s.Ic(5),s.Yb(),s.Zb(6,"th"),s.Ic(7,"Earned Leave Balance:"),s.Yb(),s.Zb(8,"td"),s.Ic(9),s.Yb(),s.Yb(),s.Zb(10,"tr"),s.Zb(11,"th"),s.Ic(12,"Earned Date:"),s.Yb(),s.Zb(13,"td"),s.Ic(14),s.kc(15,"date"),s.kc(16,"date"),s.Yb(),s.Ub(17,"th"),s.Ub(18,"td"),s.Yb(),s.Yb()),2&e){const e=t.$implicit;s.Hb(5),s.Jc(e.reason),s.Hb(4),s.Jc(e.leaveCount),s.Hb(5),s.Lc("",s.mc(15,4,e.metaData.createdAt,"fullDate")," ",s.mc(16,7,e.metaData.createdAt,"shortTime")," ")}}function C(e,t){if(1&e&&(s.Zb(0,"table",40),s.Zb(1,"tr"),s.Zb(2,"th"),s.Ic(3,"Reason:"),s.Yb(),s.Zb(4,"td"),s.Ic(5),s.Yb(),s.Zb(6,"th"),s.Ic(7,"Earned Leave Balance:"),s.Yb(),s.Zb(8,"td"),s.Ic(9),s.Yb(),s.Yb(),s.Zb(10,"tr"),s.Zb(11,"th"),s.Ic(12,"Deducted Date:"),s.Yb(),s.Zb(13,"td"),s.Ic(14),s.kc(15,"date"),s.kc(16,"date"),s.Yb(),s.Ub(17,"th"),s.Ub(18,"td"),s.Yb(),s.Yb()),2&e){const e=t.$implicit;s.Hb(5),s.Jc(e.reason),s.Hb(4),s.Jc(e.leaveCount),s.Hb(5),s.Lc("",s.mc(15,4,e.metaData.createdAt,"fullDate")," ",s.mc(16,7,e.metaData.createdAt,"shortTime")," ")}}function O(e,t){if(1&e){const e=s.ac();s.Zb(0,"tbody"),s.Zb(1,"tr"),s.Zb(2,"td"),s.Ic(3),s.Yb(),s.Zb(4,"td"),s.Ic(5),s.Yb(),s.Zb(6,"td"),s.Ic(7),s.Yb(),s.Zb(8,"td"),s.Ic(9),s.Yb(),s.Zb(10,"td"),s.Ic(11),s.Yb(),s.Zb(12,"td"),s.Zb(13,"button",31),s.Ub(14,"i",32),s.Yb(),s.Ic(15,"\xa0 "),s.Zb(16,"button",33),s.gc("click",(function(){s.Bc(e);const a=t.$implicit;return s.jc().fetchHistory(a._id)})),s.Ub(17,"i",34),s.Yb(),s.Ic(18,"\xa0 "),s.Zb(19,"button",35),s.gc("click",(function(){s.Bc(e);const a=t.$implicit;return s.jc().deleteEarnedLeave(a._id,a.year,a.month,a.leaveCount)})),s.Ub(20,"i",36),s.Yb(),s.Yb(),s.Yb(),s.Zb(21,"tr"),s.Zb(22,"td",37),s.Zb(23,"div",38),s.Zb(24,"h4",2),s.Ic(25,"Earned Leave History"),s.Yb(),s.Gc(26,q,19,10,"table",39),s.Zb(27,"h4",2),s.Ic(28,"Earned Leave Deduction History"),s.Yb(),s.Gc(29,C,19,10,"table",39),s.Yb(),s.Yb(),s.Yb(),s.Yb()}if(2&e){const e=t.$implicit,a=s.jc();s.Hb(3),s.Kc(" ",e.name," "),s.Hb(2),s.Kc(" ",e.month," "),s.Hb(2),s.Kc(" ",e.year," "),s.Hb(2),s.Kc(" ",e.leaveCount,""),s.Hb(2),s.Kc(" ",e.reason,""),s.Hb(2),s.sc("routerLink","/pages/leave-management/update-earned-leave/",e.earnedLeaveId,"/",e._id,""),s.pc("disabled",-1===a.permissionInfo.search("Edit EarnedLeave")),s.Hb(10),s.pc("hidden",a.showHistoryCards[e._id]),s.Hb(3),s.pc("ngForOf",a.earnedLeaveHistory),s.Hb(3),s.pc("ngForOf",a.deductionLeaveHistory)}}function G(e,t){if(1&e&&(s.Zb(0,"div"),s.Zb(1,"h3",2),s.Ic(2),s.Yb(),s.Yb()),2&e){const e=s.jc();s.Hb(2),s.Jc(e.earnedLeaveDataMsg)}}let j=(()=>{class e{constructor(e,t,a){this.earnedLeaveListAPI=e,this.employeeListAPI=t,this.util=a,this.earnedLeaveMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.earnedLeaveYearMsg="",this.earnedLeaveDataMsg="",this.showHistoryCards={},this.status="Active"}ngOnInit(){this.employeeList(),this.leaveListEmployee(),this.permissionInfo=this.util.permissionRoleInfo}employeeList(){try{this.employeeListAPI.getEmployeeList(this.status).subscribe(e=>{"success"===e.status&&(this.companyEmployeelist=e.data)})}catch(e){console.log(e)}}leaveListEmployee(){try{let e=new Date,t=e.getFullYear().toString(),a=e.toString().substring(4,8);this.earnedLeaveListAPI.listAllEarnedLeave(t,a).subscribe(a=>{if("success"===a.status)if(document.getElementById("earnedLeaveYear").value=t,document.getElementById("earnedLeaveMonth").value=this.earnedLeaveMonths[e.getMonth()],a.data.length>0){this.earnedLeaveList=a.data,this.earnedLeaveDataMsg="";for(let e=0;e<this.earnedLeaveList.length;e++)this.showHistoryCards[this.earnedLeaveList[e]._id]=!0}else 0===a.data.length&&(this.earnedLeaveList=[],this.earnedLeaveDataMsg="No Data Found")})}catch(e){console.log(e)}}yearValidation(){try{let e=document.getElementById("earnedLeaveYear").value,t=e.match(/^(19|20)\d{2}$/);this.earnedLeaveYearMsg=0===e.length&&null===t?"":null===t?"Year Value is not acceptable":""}catch(e){console.log(e)}}filterFunctionality(){try{let e=new Date,t=document.getElementById("earnedLeaveYear").value,a=document.getElementById("earnedLeaveMonth").value,o=document.getElementById("earendLeaveEmployee").value;0===t.length&&0===a.length&&0===o.length||(0!==t.length&&0===o.length||0!==a.length&&0===o.length?(0===t.length?(t=e.getFullYear().toString(),document.getElementById("earnedLeaveYear").value=t):0===a.length&&(a=e.toString().substring(4,8),document.getElementById("earnedLeaveMonth").value=this.earnedLeaveMonths[e.getMonth()]),this.earnedLeaveDetails(t,a)):0===t.length&&0!==o.length||0===a.length&&0!==o.length?(0===t.length?(t=e.getFullYear().toString(),document.getElementById("earnedLeaveYear").value=t):0===a.length&&(a=e.toString().substring(4,8),document.getElementById("earnedLeaveMonth").value=this.earnedLeaveMonths[e.getMonth()]),this.filterEarnedLeaveDetails(o,t,a)):this.filterEarnedLeaveDetails(o,t,a))}catch(e){console.log(e)}}earnedLeaveDetails(e,t){try{this.earnedLeaveListAPI.listAllEarnedLeave(e,t).subscribe(e=>{"success"===e.status&&(e.data.length>0?(this.earnedLeaveList=e.data,this.earnedLeaveDataMsg=""):0===e.data.length&&(this.earnedLeaveList=[],this.earnedLeaveDataMsg="No Data Found"))})}catch(a){console.log(a)}}filterEarnedLeaveDetails(e,t,a){try{this.earnedLeaveListAPI.filterEarnedLeaveDetails(e,t,a).subscribe(e=>{"success"===e.status&&(0===e.data.length?(this.earnedLeaveList=[],this.earnedLeaveDataMsg="No Data Found"):e.data.length>0&&(this.earnedLeaveList=e.data,this.earnedLeaveDataMsg=""))})}catch(o){console.log(o)}}fetchHistory(e){try{let t=document.getElementById("earnedLeaveYear").value,a=document.getElementById("earnedLeaveMonth").value;this.earnedLeaveListAPI.fetchHistory(e,t,a).subscribe(e=>{"success"===e.status&&(this.earnedLeaveHistory=e.data.earnedLeave,this.deductionLeaveHistory=e.data.deductLeave)}),this.showHistoryCards[""+e]=!this.showHistoryCards[""+e]}catch(t){console.log(t)}}resetFunctionality(){try{let e=new Date,t=e.getFullYear().toString();document.getElementById("earnedLeaveYear").value=t,document.getElementById("earnedLeaveMonth").value=this.earnedLeaveMonths[e.getMonth()],document.getElementById("earendLeaveEmployee").value="",this.filterFunctionality()}catch(e){console.log(e)}}deleteEarnedLeave(e,t,a,o){const r=A.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});r.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0,allowOutsideClick:!1}).then(n=>{n.value?this.earnedLeaveListAPI.deleteEarnedLeave(e,t,a,o).subscribe(e=>{"success"===e.status&&(r.fire("Deleted!",e.message,"success"),this.filterFunctionality())}):n.dismiss===A.a.DismissReason.cancel&&r.fire("Cancelled","Your earned leave data is safe","error")})}}return e.\u0275fac=function(t){return new(t||e)(s.Tb(u),s.Tb(l.a),s.Tb(v.a))},e.\u0275cmp=s.Nb({type:e,selectors:[["app-list-earned-leave"]],decls:67,vars:7,consts:[[1,"card"],[1,"card-header"],[2,"text-align","center"],[1,"card-body"],[1,"form-row"],[1,"col-lg-3","col-md-3","col-sm-3"],[1,"form-group"],[1,"col-sm-4","control-label"],["id","earendLeaveEmployee",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[1,"col-sm-6","control-label"],["type","text","id","earnedLeaveYear","placeholder","Enter Year",1,"form-control",3,"input"],[2,"color","red"],[2,"color","darkred"],["id","earnedLeaveMonth",1,"dropdown","dropdown-toggle","form-control"],[1,"form-group","right-buttongroup"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-filter"],[1,"col-lg-12"],[1,"form-group",2,"float","right"],["routerLink","/pages/leave-management/add-earned-leave",1,"btn","btn-primary",3,"disabled"],[1,"fa","fa-plus-square"],[1,"card",2,"background-color","whitesmoke"],[1,"panel-body"],[1,"list-group"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dropdown-item",3,"value"],["itle","Update",1,"btn","btn-primary",2,"color","white",3,"disabled","routerLink"],[1,"fa","fa-pencil-square-o"],["title","History",1,"btn","btn-info",2,"color","white",3,"click"],[1,"fa","fa-history"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["colspan","6"],[1,"card",2,"background-color","rgb(178, 218, 208)",3,"hidden"],["class","table",4,"ngFor","ngForOf"],[1,"table"]],template:function(e,t){1&e&&(s.Zb(0,"div",0),s.Zb(1,"div",1),s.Zb(2,"h2",2),s.Ic(3,"Earned Leave List"),s.Yb(),s.Yb(),s.Zb(4,"div",3),s.Zb(5,"div",4),s.Zb(6,"div",5),s.Zb(7,"div",6),s.Zb(8,"label",7),s.Zb(9,"b"),s.Ic(10,"Active Employees:"),s.Yb(),s.Yb(),s.Zb(11,"select",8),s.Zb(12,"option",9),s.Ic(13,"Select Employee "),s.Yb(),s.Gc(14,$,2,2,"option",10),s.Yb(),s.Yb(),s.Yb(),s.Zb(15,"div",5),s.Zb(16,"div",6),s.Zb(17,"label",11),s.Zb(18,"b"),s.Ic(19,"Year:"),s.Yb(),s.Yb(),s.Zb(20,"input",12),s.gc("input",(function(){return t.yearValidation()})),s.Yb(),s.Zb(21,"div"),s.Zb(22,"p",13),s.Ic(23),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(24,"div",5),s.Zb(25,"div",6),s.Zb(26,"label",11),s.Zb(27,"b"),s.Ic(28,"Month:\xa0"),s.Zb(29,"span",14),s.Ic(30,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(31,"select",15),s.Zb(32,"option",9),s.Ic(33,"Select Month "),s.Yb(),s.Gc(34,T,2,2,"option",10),s.Yb(),s.Yb(),s.Yb(),s.Zb(35,"div",5),s.Zb(36,"div",16),s.Zb(37,"button",17),s.gc("click",(function(){return t.filterFunctionality()})),s.Ub(38,"i",18),s.Ic(39,"\xa0 Filter"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(40,"div",19),s.Zb(41,"div",20),s.Zb(42,"button",21),s.Ub(43,"i",22),s.Ic(44,"\xa0 Add Earned Leave"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(45,"div",3),s.Zb(46,"div",23),s.Zb(47,"div",24),s.Zb(48,"ul",25),s.Zb(49,"div",3),s.Zb(50,"table",26),s.Zb(51,"thead",27),s.Zb(52,"tr"),s.Zb(53,"th"),s.Ic(54,"Employee Name "),s.Yb(),s.Zb(55,"th"),s.Ic(56,"Month "),s.Yb(),s.Zb(57,"th"),s.Ic(58,"Year"),s.Yb(),s.Zb(59,"th"),s.Ic(60,"Earned Balance"),s.Yb(),s.Zb(61,"th"),s.Ic(62,"Reason"),s.Yb(),s.Zb(63,"th"),s.Ic(64,"Action"),s.Yb(),s.Yb(),s.Yb(),s.Gc(65,O,30,11,"tbody",28),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Gc(66,G,3,1,"div",29),s.Yb()),2&e&&(s.Hb(14),s.pc("ngForOf",t.companyEmployeelist),s.Hb(9),s.Jc(t.earnedLeaveYearMsg),s.Hb(11),s.pc("ngForOf",t.earnedLeaveMonths),s.Hb(3),s.pc("disabled",t.earnedLeaveYearMsg),s.Hb(5),s.pc("disabled",-1===t.permissionInfo.search("Create EarnedLeave")),s.Hb(23),s.pc("ngForOf",t.earnedLeaveList),s.Hb(1),s.pc("ngIf",0!=t.earnedLeaveDataMsg.length))},directives:[c.q,c.w,o.l,r.c,o.m],pipes:[o.e],styles:[".form-group.right-buttongroup[_ngcontent-%COMP%]{white-space:nowrap;margin-top:14px}"]}),e})();function k(e,t){if(1&e&&(s.Zb(0,"p",24),s.Zb(1,"strong"),s.Ic(2),s.Yb(),s.Yb()),2&e){const e=s.jc();s.Hb(2),s.Jc(e.errMsg)}}function B(e,t){if(1&e&&(s.Zb(0,"p",25),s.Zb(1,"strong"),s.Ic(2),s.Yb(),s.Yb()),2&e){const e=s.jc();s.Hb(2),s.Jc(e.successMsg)}}function N(e,t){if(1&e&&(s.Zb(0,"option",26),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e._id),s.Hb(1),s.Kc(" ",e.name," ")}}function U(e,t){if(1&e&&(s.Zb(0,"div",28),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function x(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,U,2,1,"div",27),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.updateEarnedLeaveForm.get("employeeId").hasError(e.type)&&(a.updateEarnedLeaveForm.get("employeeId").dirty||a.updateEarnedLeaveForm.get("employeeId").touched))}}function S(e,t){if(1&e&&(s.Zb(0,"option",26),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e),s.Hb(1),s.Kc(" ",e," ")}}function K(e,t){if(1&e&&(s.Zb(0,"div",28),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function R(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,K,2,1,"div",27),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.updateEarnedLeaveForm.get("earnedLeave.month").hasError(e.type)&&(a.updateEarnedLeaveForm.get("earnedLeave.month").dirty||a.updateEarnedLeaveForm.get("earnedLeave.month").touched))}}function P(e,t){if(1&e&&(s.Zb(0,"div",28),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function J(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,P,2,1,"div",27),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.updateEarnedLeaveForm.get("earnedLeave.year").hasError(e.type)&&(a.updateEarnedLeaveForm.get("earnedLeave.year").dirty||a.updateEarnedLeaveForm.get("earnedLeave.year").touched))}}function _(e,t){if(1&e&&(s.Zb(0,"div",28),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function V(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,_,2,1,"div",27),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.updateEarnedLeaveForm.get("earnedLeave.leaveCount").hasError(e.type)&&(a.updateEarnedLeaveForm.get("earnedLeave.leaveCount").dirty||a.updateEarnedLeaveForm.get("earnedLeave.leaveCount").touched))}}let W=(()=>{class e{constructor(e,t,a,o,r,n){this.route=e,this.router=t,this.fb=a,this.employeeListAPI=o,this.util=r,this.earnedLeaveUpdateAPI=n,this.earnedLeaveMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.status="Active",this.earnedLeavevalidationMessage={month:[{type:"required",message:"Month is Required"}],year:[{type:"required",message:"Year is Required"},{type:"pattern",message:"Value is not acceptable"}],leaveCount:[{type:"required",message:"Earned Balance is Required"},{type:"pattern",message:"Value is not acceptable"}],employeeId:[{type:"required",message:"Employee Name is Required"}]}}ngOnInit(){this.earnedLeaveId=this.route.snapshot.paramMap.get("earnedLeaveId"),this.employeeId=this.route.snapshot.paramMap.get("employeeId"),this.employeeList(),this.leaveUpdateForm(),this.updateLeaveFormDetails()}employeeList(){try{this.employeeListAPI.getEmployeeList(this.status).subscribe(e=>{"success"===e.status&&(this.employeeDetails=e.data)})}catch(e){console.log(e)}}updateLeaveFormDetails(){try{this.earnedLeaveUpdateAPI.existingEarnedLeaveDetails(this.earnedLeaveId,this.employeeId).subscribe(e=>{"success"===e.status&&(this.existingUpdateDetails=e.data,this.updateEarnedLeaveForm=this.fb.group({earnedLeave:new c.h({month:new c.f(this.existingUpdateDetails.month,c.v.required),year:new c.f(this.existingUpdateDetails.year,c.v.compose([c.v.required,c.v.pattern(/^(19|20)\d{2}$/)])),leaveCount:new c.f(this.existingUpdateDetails.leaveCount,c.v.compose([c.v.required,c.v.pattern(/(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,2})?$)/i)])),reason:new c.f(this.existingUpdateDetails.reason)}),employeeId:new c.f(this.existingUpdateDetails._id,c.v.required)}))})}catch(e){console.log(e)}}leaveUpdateForm(){try{this.updateEarnedLeaveForm=this.fb.group({earnedLeave:new c.h({month:new c.f("",c.v.required),year:new c.f("",c.v.compose([c.v.required,c.v.pattern(/^(19|20)\d{2}$/)])),leaveCount:new c.f("",c.v.compose([c.v.required,c.v.pattern(/(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,2})?$)/i)])),reason:new c.f("")}),employeeId:new c.f("",c.v.required)})}catch(e){console.log(e)}}updateEarnedLeave(){try{this.earnedLeaveUpdateAPI.updateEarnedLeave(this.updateEarnedLeaveForm.value,this.earnedLeaveId,this.employeeId).subscribe(e=>{"success"===e.status?(this.successMessage=!0,this.errorMsg=!1,this.successMsg=e.message,setTimeout(()=>{this.handleErrors(),this.router.navigateByUrl("/pages/leave-management/list-earned-leave")},2e3)):(this.errorMsg=!0,this.successMessage=!1,this.errMsg=e.message,setTimeout(()=>{this.handleErrors()},3e3))})}catch(e){console.log(e)}}handleErrors(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}return e.\u0275fac=function(t){return new(t||e)(s.Tb(r.a),s.Tb(r.b),s.Tb(c.e),s.Tb(l.a),s.Tb(v.a),s.Tb(u))},e.\u0275cmp=s.Nb({type:e,selectors:[["app-update-earned-leave"]],decls:65,vars:11,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["formControlName","employeeId",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"row",3,"formGroup"],[1,"form-group","col-md-6"],["formControlName","month",1,"dropdown","dropdown-toggle","form-control"],["type","text","id","inputPhone","placeholder","Enter Year","formControlName","year",1,"form-control"],["type","email","id","inputEmail","placeholder","Enter Earned Leave balance ","formControlName","leaveCount",1,"form-control"],["type","email","id","inputEmail","placeholder","Enter Reason","formControlName","reason",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","/pages/leave-management/list-earned-leave",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"dropdown-item",3,"value"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"]],template:function(e,t){1&e&&(s.Zb(0,"div",0),s.Zb(1,"div",1),s.Zb(2,"h2",2),s.Ic(3,"Update Earned Leave"),s.Yb(),s.Yb(),s.Zb(4,"div",3),s.Zb(5,"div",4),s.Gc(6,k,3,1,"p",5),s.Yb(),s.Zb(7,"div",4),s.Gc(8,B,3,1,"p",6),s.Yb(),s.Zb(9,"form",7),s.gc("ngSubmit",(function(){return t.updateEarnedLeave()})),s.Zb(10,"div",8),s.Zb(11,"label",9),s.Zb(12,"b"),s.Ic(13,"Employee Name:\xa0"),s.Zb(14,"span",10),s.Ic(15,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(16,"div",4),s.Zb(17,"select",11),s.Zb(18,"option",12),s.Ic(19,"----------Select Employee----------"),s.Yb(),s.Gc(20,N,2,2,"option",13),s.Yb(),s.Gc(21,x,2,1,"div",14),s.Yb(),s.Yb(),s.Zb(22,"div",15),s.Zb(23,"div",16),s.Zb(24,"label",9),s.Zb(25,"b"),s.Ic(26,"Month:\xa0"),s.Zb(27,"span",10),s.Ic(28,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(29,"div",4),s.Zb(30,"select",17),s.Zb(31,"option",12),s.Ic(32,"----------Select Month----------"),s.Yb(),s.Gc(33,S,2,2,"option",13),s.Yb(),s.Gc(34,R,2,1,"div",14),s.Yb(),s.Yb(),s.Zb(35,"div",16),s.Zb(36,"label",9),s.Zb(37,"b"),s.Ic(38,"Year:\xa0"),s.Zb(39,"span",10),s.Ic(40,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(41,"div",4),s.Ub(42,"input",18),s.Gc(43,J,2,1,"div",14),s.Yb(),s.Yb(),s.Zb(44,"div",16),s.Zb(45,"label",9),s.Zb(46,"b"),s.Ic(47,"Earned Balance:\xa0(in days)\xa0"),s.Zb(48,"span",10),s.Ic(49,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(50,"div",4),s.Ub(51,"input",19),s.Gc(52,V,2,1,"div",14),s.Yb(),s.Yb(),s.Zb(53,"div",16),s.Zb(54,"label",9),s.Zb(55,"b"),s.Ic(56,"Reason:"),s.Yb(),s.Yb(),s.Zb(57,"div",4),s.Ub(58,"input",20),s.Yb(),s.Yb(),s.Yb(),s.Zb(59,"div",8),s.Zb(60,"div",21),s.Zb(61,"button",22),s.Ic(62,"Submit"),s.Yb(),s.Zb(63,"button",23),s.Ic(64,"Cancel"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb()),2&e&&(s.Hb(6),s.pc("ngIf",t.errorMsg),s.Hb(2),s.pc("ngIf",t.successMessage),s.Hb(1),s.pc("formGroup",t.updateEarnedLeaveForm),s.Hb(11),s.pc("ngForOf",t.employeeDetails),s.Hb(1),s.pc("ngForOf",t.earnedLeavevalidationMessage.employeeId),s.Hb(1),s.pc("formGroup",t.updateEarnedLeaveForm.get("earnedLeave")),s.Hb(11),s.pc("ngForOf",t.earnedLeaveMonths),s.Hb(1),s.pc("ngForOf",t.earnedLeavevalidationMessage.month),s.Hb(9),s.pc("ngForOf",t.earnedLeavevalidationMessage.year),s.Hb(9),s.pc("ngForOf",t.earnedLeavevalidationMessage.leaveCount),s.Hb(9),s.pc("disabled",t.updateEarnedLeaveForm.invalid))},directives:[o.m,c.x,c.o,c.i,c.u,c.n,c.g,c.q,c.w,o.l,c.c,r.c],styles:[""]}),e})();var z=a("mrSG");let Q=(()=>{class e{constructor(e){this.http=e,this.endpoint=b.a.apiBaseUrl,this.headers=(new d.c).set("Contant-Type","application/x-www-form-urlencoded")}errorMgmt(e){try{let t="";return t=e.error instanceof ErrorEvent?e.error.message:`Error code:${e.status}\nMessage:${t}`,console.log(t),Object(p.a)(t)}catch(t){console.log(t.message)}}dateWiseAllLeaveList(e){try{let t=sessionStorage.getItem("companyId");return this.http.get(`${this.endpoint}/all-employee/particular-date-leaves/${t}/${e}`).pipe(Object(m.a)(this.errorMgmt))}catch(t){console.log(t)}}leaveActionTaken(e,t,a){try{return this.http.post(`${this.endpoint}/user/activity-leave/${t}/${a}`,e).pipe(Object(m.a)(this.errorMgmt))}catch(o){console.log(o)}}dateWiseLeaveList(e,t){try{return this.http.get(`${this.endpoint}/employee/particular-date-leaves/${e}/${t}`).pipe(Object(m.a)(this.errorMgmt))}catch(a){console.log(a)}}}return e.\u0275fac=function(t){return new(t||e)(s.dc(d.a))},e.\u0275prov=s.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function X(e,t){if(1&e&&(s.Zb(0,"option",28),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e._id),s.Hb(1),s.Kc(" ",e.name," ")}}function ee(e,t){if(1&e&&(s.Zb(0,"option",28),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e),s.Hb(1),s.Kc(" ",e," ")}}function te(e,t){if(1&e){const e=s.ac();s.Zb(0,"tbody"),s.Zb(1,"tr"),s.Zb(2,"td"),s.Ic(3),s.Yb(),s.Zb(4,"td"),s.Ic(5),s.Yb(),s.Zb(6,"td"),s.Ic(7),s.Yb(),s.Zb(8,"td"),s.Ic(9),s.Yb(),s.Zb(10,"td"),s.Zb(11,"button",29),s.gc("click",(function(){s.Bc(e);const a=t.$implicit;return s.jc().leaveInfo(a._id)})),s.Ub(12,"i",30),s.Yb(),s.Ic(13,"\xa0 "),s.Zb(14,"select",31),s.gc("change",(function(a){s.Bc(e);const o=t.$implicit;return s.jc().actionTaken(a.target.value,o.requestToUserId,o._id)})),s.Zb(15,"option",9),s.Ic(16," Choose Action"),s.Yb(),s.Gc(17,ee,2,2,"option",10),s.Yb(),s.Yb(),s.Yb(),s.Zb(18,"tr"),s.Zb(19,"td",32),s.Zb(20,"table",33),s.Zb(21,"tr"),s.Zb(22,"th"),s.Ic(23,"Request To TL/Manager:"),s.Yb(),s.Zb(24,"td"),s.Ic(25),s.Yb(),s.Zb(26,"th"),s.Ic(27,"Applied Date:"),s.Yb(),s.Zb(28,"td"),s.Ic(29),s.kc(30,"date"),s.kc(31,"date"),s.Yb(),s.Yb(),s.Zb(32,"tr"),s.Zb(33,"th"),s.Ic(34,"From Date:"),s.Yb(),s.Zb(35,"td"),s.Ic(36),s.kc(37,"date"),s.kc(38,"date"),s.Yb(),s.Zb(39,"th"),s.Ic(40,"From Leave For"),s.Yb(),s.Zb(41,"td"),s.Ic(42),s.Yb(),s.Yb(),s.Zb(43,"tr"),s.Zb(44,"th"),s.Ic(45,"To Date:"),s.Yb(),s.Zb(46,"td"),s.Ic(47),s.kc(48,"date"),s.kc(49,"date"),s.Yb(),s.Zb(50,"th"),s.Ic(51,"To Leave For"),s.Yb(),s.Zb(52,"td"),s.Ic(53),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb()}if(2&e){const e=t.$implicit,a=s.jc();s.Hb(3),s.Kc(" ",e.userName," "),s.Hb(2),s.Kc(" ",e.reason," "),s.Hb(2),s.Kc(" ",e.leaveTypeName," "),s.Hb(2),s.Kc(" ",e.status,""),s.Hb(8),s.pc("ngForOf",a.listActions),s.Hb(3),s.pc("hidden",a.showInfoCard[e._id]),s.Hb(5),s.Jc(e.requestToName),s.Hb(4),s.Lc("",s.mc(30,15,e.metaData.createdAt,"fullDate")," ",s.mc(31,18,e.metaData.createdAt,"shortTime"),""),s.Hb(7),s.Lc("",s.mc(37,21,e.fromDate,"fullDate")," ",s.mc(38,24,e.fromDate,"shortTime"),""),s.Hb(6),s.Jc(e.fromLeaveFor),s.Hb(5),s.Lc("",s.mc(48,27,e.toDate,"fullDate")," ",s.mc(49,30,e.toDate,"shortTime"),""),s.Hb(6),s.Jc(e.toLeaveFor)}}function ae(e,t){if(1&e&&(s.Zb(0,"div"),s.Zb(1,"h3",34),s.Ic(2),s.Yb(),s.Yb()),2&e){const e=s.jc();s.Hb(2),s.Jc(e.leaveListMessage)}}let oe=(()=>{class e{constructor(e,t){this.employeeListAPI=e,this.leaveListAPI=t,this.leaveListMessage="",this.listActions=["Approve","Reject","Sandwich"],this.showInfoCard={},this.status="Active"}ngOnInit(){this.employeeList(),this.filterDate=this.returnCurrentDate(),document.getElementById("leaveListDate").value=this.filterDate,this.dateWiseAllLeaveList()}employeeList(){try{this.employeeListAPI.getEmployeeList(this.status).subscribe(e=>{"success"===e.status&&(this.companyEmployeelist=e.data)})}catch(e){console.log(e)}}dateWiseAllLeaveList(){try{this.leaveListAPI.dateWiseAllLeaveList(this.filterDate).subscribe(e=>{if("success"===e.status)if(0===e.data.length)this.leaveListMessage="No Data Found",this.companyEmployeeLeaveList=[];else{this.companyEmployeeLeaveList=e.data,this.showInfoCard={};for(let e=0;e<this.companyEmployeeLeaveList.length;e++)this.showInfoCard[this.companyEmployeeLeaveList[e]._id]=!0;this.leaveListMessage=""}})}catch(e){console.log(e)}}dateWiseLeaveList(e,t){try{this.leaveListAPI.dateWiseLeaveList(e,t).subscribe(e=>{if("success"===e.status)if(0===e.data.length)this.leaveListMessage="No Data Found",this.companyEmployeeLeaveList=[];else{this.companyEmployeeLeaveList=e.data,this.showInfoCard={};for(let e=0;e<this.companyEmployeeLeaveList.length;e++)this.showInfoCard[this.companyEmployeeLeaveList[e]._id]=!0;this.leaveListMessage=""}})}catch(a){console.log(a)}}filterFunctionality(){try{if(""===document.getElementById("leaveListEmployee").value)""===document.getElementById("leaveListDate").value&&(document.getElementById("leaveListDate").value=this.returnCurrentDate(),this.filterDate=document.getElementById("leaveListDate").value,this.dateWiseAllLeaveList()),this.filterDate=document.getElementById("leaveListDate").value,this.dateWiseAllLeaveList();else{if(""===document.getElementById("leaveListDate").value){let e=document.getElementById("leaveListEmployee").value;document.getElementById("leaveListDate").value=this.returnCurrentDate(),this.filterDate=document.getElementById("leaveListDate").value,this.dateWiseLeaveList(e,this.filterDate)}let e=document.getElementById("leaveListEmployee").value;this.filterDate=document.getElementById("leaveListDate").value,this.dateWiseLeaveList(e,this.filterDate)}}catch(e){console.log(e)}}resetFilter(){try{this.filterDate=this.returnCurrentDate(),document.getElementById("leaveListDate").value=this.filterDate,document.getElementById("leaveListEmployee").value="",this.dateWiseAllLeaveList()}catch(e){console.log(e)}}resetActionList(){document.getElementById("actionList").value=""}returnCurrentDate(){try{let e=new Date;return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}catch(e){console.log(e)}}actionTaken(e,t,a){return Object(z.b)(this,void 0,void 0,(function*(){try{const o=A.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});o.fire({title:"Are you sure?",text:"You want to change leave status to "+e,type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then(r=>Object(z.b)(this,void 0,void 0,(function*(){if(r.value)if("Reject"!==e)this.leaveListAPI.leaveActionTaken({action:e,reason:""},t,a).subscribe(e=>{"success"===e.status?(this.filterFunctionality(),o.fire("Done",e.message,"success")):"error"===e.status&&o.fire(e.message),this.resetActionList()});else{const{value:r}=yield A.a.fire({input:"textarea",inputPlaceholder:"Type your reason here...",inputAttributes:{"aria-label":"Type your reason here"},showCancelButton:!1});r||A.a.fire("There is no reason given by you"),r&&this.leaveListAPI.leaveActionTaken({action:e,reason:r},t,a).subscribe(e=>{"success"===e.status?(this.filterFunctionality(),o.fire("Done",e.message,"success")):"error"===e.status&&o.fire("Error",e.message,"error"),this.resetActionList()})}else r.dismiss===A.a.DismissReason.cancel&&(this.resetActionList(),o.fire("Cancelled","You didn't take any action","error"))})))}catch(o){console.log(o.message)}}))}leaveInfo(e){try{this.showInfoCard[""+e]=!this.showInfoCard[""+e]}catch(t){console.log(t)}}}return e.\u0275fac=function(t){return new(t||e)(s.Tb(l.a),s.Tb(Q))},e.\u0275cmp=s.Nb({type:e,selectors:[["app-list-leave"]],decls:55,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"form-row"],[1,"col-lg-3","col-md-3","col-sm-3"],[1,"form-group"],[1,"col-sm-4","control-label"],["id","leaveListEmployee",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[1,"col-sm-6","control-label"],[1,"col-sm-offset-2"],["type","date","id","leaveListDate",1,"form-control"],[1,"form-group","right-buttongroup"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-filter"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash-restore"],["routerLink","/pages/leave-management/mark-absent",1,"btn","btn-primary"],[1,"fa","fa-plus-square"],[1,"card",2,"background-color","whitesmoke"],[1,"panel-body"],[1,"list-group"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dropdown-item",3,"value"],["title","Info",1,"btn","btn-primary",2,"color","white",3,"click"],[1,"fas","fa-binoculars"],["id","actionList",1,"dropdown","dropdown-toggle","form-control",3,"change"],["colspan","6"],[1,"table","card",2,"text-align","left","background-color","rgb(178, 218, 208)",3,"hidden"],[2,"text-align","center"]],template:function(e,t){1&e&&(s.Zb(0,"div",0),s.Zb(1,"div",1),s.Zb(2,"h2",2),s.Ic(3,"Employee Leave List"),s.Yb(),s.Yb(),s.Zb(4,"div",3),s.Zb(5,"div",4),s.Zb(6,"div",5),s.Zb(7,"div",6),s.Zb(8,"label",7),s.Zb(9,"b"),s.Ic(10,"Employee Name:"),s.Yb(),s.Yb(),s.Zb(11,"select",8),s.Zb(12,"option",9),s.Ic(13,"Select Employee "),s.Yb(),s.Gc(14,X,2,2,"option",10),s.Yb(),s.Yb(),s.Yb(),s.Zb(15,"div",5),s.Zb(16,"div",6),s.Zb(17,"label",11),s.Zb(18,"b"),s.Ic(19,"Date:"),s.Yb(),s.Yb(),s.Zb(20,"div",12),s.Ub(21,"input",13),s.Yb(),s.Yb(),s.Yb(),s.Zb(22,"div",5),s.Zb(23,"div",14),s.Zb(24,"button",15),s.gc("click",(function(){return t.filterFunctionality()})),s.Ub(25,"i",16),s.Ic(26,"\xa0 Filter"),s.Yb(),s.Zb(27,"button",17),s.gc("click",(function(){return t.resetFilter()})),s.Ub(28,"i",18),s.Ic(29,"\xa0 Reset"),s.Yb(),s.Yb(),s.Yb(),s.Zb(30,"div",5),s.Zb(31,"div",14),s.Zb(32,"button",19),s.Ub(33,"i",20),s.Ic(34,"\xa0 Mark Employee Absent"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(35,"div",3),s.Zb(36,"div",21),s.Zb(37,"div",22),s.Zb(38,"ul",23),s.Zb(39,"div",3),s.Zb(40,"table",24),s.Zb(41,"thead",25),s.Zb(42,"tr"),s.Zb(43,"th"),s.Ic(44,"Employee Name "),s.Yb(),s.Zb(45,"th"),s.Ic(46,"Reason "),s.Yb(),s.Zb(47,"th"),s.Ic(48,"Type"),s.Yb(),s.Zb(49,"th"),s.Ic(50,"Status"),s.Yb(),s.Zb(51,"th"),s.Ic(52,"Action"),s.Yb(),s.Yb(),s.Yb(),s.Gc(53,te,54,33,"tbody",26),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Gc(54,ae,3,1,"div",27),s.Yb()),2&e&&(s.Hb(14),s.pc("ngForOf",t.companyEmployeelist),s.Hb(39),s.pc("ngForOf",t.companyEmployeeLeaveList),s.Hb(1),s.pc("ngIf",0!=t.leaveListMessage.length))},directives:[c.q,c.w,o.l,r.c,o.m],pipes:[o.e],styles:["td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:70%;float:right;background-color:#51bcda;border:0;color:#fff;font-weight:900}.form-group.right-buttongroup[_ngcontent-%COMP%]{white-space:nowrap;margin-top:14px}"]}),e})();var re=a("wZQ7");function ne(e,t){if(1&e&&(s.Zb(0,"p",28),s.Zb(1,"strong"),s.Ic(2),s.Yb(),s.Yb()),2&e){const e=s.jc();s.Hb(2),s.Jc(e.errMsg)}}function se(e,t){if(1&e&&(s.Zb(0,"p",29),s.Zb(1,"strong"),s.Ic(2),s.Yb(),s.Yb()),2&e){const e=s.jc();s.Hb(2),s.Jc(e.successMsg)}}function ie(e,t){if(1&e&&(s.Zb(0,"option",30),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e._id),s.Hb(1),s.Kc(" ",e.name," ")}}function ce(e,t){if(1&e&&(s.Zb(0,"div",32),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function le(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,ce,2,1,"div",31),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEmployeeAbsentForm.get("userId").hasError(e.type)&&(a.addEmployeeAbsentForm.get("userId").dirty||a.addEmployeeAbsentForm.get("userId").touched))}}function de(e,t){if(1&e&&(s.Zb(0,"option",30),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e._id),s.Hb(1),s.Kc(" ",e.displayName," ")}}function be(e,t){if(1&e&&(s.Zb(0,"div",32),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function pe(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,be,2,1,"div",31),s.Yb()),2&e){const e=t.$implicit,a=s.jc(2);s.Hb(1),s.pc("ngIf",a.addEmployeeAbsentForm.get("requestToUserId").hasError(e.type)&&(a.addEmployeeAbsentForm.get("requestToUserId").dirty||a.addEmployeeAbsentForm.get("requestToUserId").touched))}}function me(e,t){if(1&e&&(s.Zb(0,"div",9),s.Zb(1,"label",10),s.Zb(2,"b"),s.Ic(3,"TL/Manager Name:\xa0"),s.Zb(4,"span",11),s.Ic(5,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(6,"select",33),s.Zb(7,"option",13),s.Ic(8,"Select Employee"),s.Yb(),s.Gc(9,de,2,2,"option",14),s.Yb(),s.Gc(10,pe,2,1,"div",15),s.Yb()),2&e){const e=s.jc();s.Hb(9),s.pc("ngForOf",e.employeeTlList),s.Hb(1),s.pc("ngForOf",e.absentFieldValidationMessage.requestToUserId)}}function ue(e,t){if(1&e&&(s.Zb(0,"div",32),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function ve(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,ue,2,1,"div",31),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEmployeeAbsentForm.get("reason").hasError(e.type)&&(a.addEmployeeAbsentForm.get("reason").dirty||a.addEmployeeAbsentForm.get("reason").touched))}}function ge(e,t){if(1&e&&(s.Zb(0,"option",30),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e.leaveTypeName),s.Hb(1),s.Kc(" ",e.leaveTypeName," ")}}function he(e,t){if(1&e&&(s.Zb(0,"div",32),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function fe(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,he,2,1,"div",31),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEmployeeAbsentForm.get("leaveTypeId").hasError(e.type)&&(a.addEmployeeAbsentForm.get("leaveTypeId").dirty||a.addEmployeeAbsentForm.get("leaveTypeId").touched))}}function ye(e,t){if(1&e&&(s.Zb(0,"div",32),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function Ye(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,ye,2,1,"div",31),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEmployeeAbsentForm.get("fromDate").hasError(e.type)&&(a.addEmployeeAbsentForm.get("fromDate").dirty||a.addEmployeeAbsentForm.get("fromDate").touched))}}function Le(e,t){if(1&e&&(s.Zb(0,"div",35),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function Ze(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,Le,2,1,"div",34),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEmployeeAbsentForm.get("toDate").hasError(e.type)&&(a.addEmployeeAbsentForm.get("toDate").dirty||a.addEmployeeAbsentForm.get("toDate").touched))}}function Ie(e,t){if(1&e&&(s.Zb(0,"option",30),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e),s.Hb(1),s.Kc(" ",e," ")}}function Ee(e,t){if(1&e&&(s.Zb(0,"div",32),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function Fe(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,Ee,2,1,"div",31),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEmployeeAbsentForm.get("fromLeaveFor").hasError(e.type)&&(a.addEmployeeAbsentForm.get("fromLeaveFor").dirty||a.addEmployeeAbsentForm.get("fromLeaveFor").touched))}}function we(e,t){if(1&e&&(s.Zb(0,"option",30),s.Ic(1),s.Yb()),2&e){const e=t.$implicit;s.qc("value",e),s.Hb(1),s.Kc(" ",e," ")}}function He(e,t){if(1&e&&(s.Zb(0,"div",32),s.Ic(1),s.Yb()),2&e){const e=s.jc().$implicit;s.Hb(1),s.Kc(" ",e.message," ")}}function Me(e,t){if(1&e&&(s.Zb(0,"div"),s.Gc(1,He,2,1,"div",31),s.Yb()),2&e){const e=t.$implicit,a=s.jc();s.Hb(1),s.pc("ngIf",a.addEmployeeAbsentForm.get("toLeaveFor").hasError(e.type)&&(a.addEmployeeAbsentForm.get("toLeaveFor").dirty||a.addEmployeeAbsentForm.get("toLeaveFor").touched))}}const De=[{path:"",component:i,canActivate:[n.a],children:[{path:"list-earned-leave",component:j},{path:"add-earned-leave",component:M},{path:"update-earned-leave/:earnedLeaveId/:employeeId",component:W},{path:"list-leave",component:oe},{path:"mark-absent",component:(()=>{class e{constructor(e,t,a,o,r,n){this.fb=e,this.employeeListAPI=t,this.api=a,this.router=o,this.util=r,this.ngZone=n,this.formToLeaveFor=["First Half","Second Half","Full Day"],this.showCard={},this.showTlOption=!1,this.status="Active",this.absentFieldValidationMessage={userId:[{type:"required",message:"Employee Name is Required"}],reason:[{type:"required",message:"Leave Reason is Required"}],leaveTypeId:[{type:"required",message:"Leave Type is Required"}],fromDate:[{type:"required",message:"Start Date is Required"}],toDate:[{type:"required",message:"To Date is Required"}],fromLeaveFor:[{type:"required",message:"From Leave is Required"}],toLeaveFor:[{type:"required",message:"To Leave is Required"}],requestToUserId:[{type:"required",message:"TL/Manager Name is Required"}]}}ngOnInit(){this.manangeEmployeeLeave(),this.leaveList(),this.getEmployeeList()}manangeEmployeeLeave(){try{this.addEmployeeAbsentForm=this.fb.group({userId:new c.f("",c.v.required),reason:new c.f("",c.v.required),leaveTypeId:new c.f("",c.v.required),fromDate:new c.f("",c.v.required),toDate:new c.f("",c.v.required),fromLeaveFor:new c.f("",c.v.required),toLeaveFor:new c.f("",c.v.required),status:new c.f("Unsanctioned",c.v.required),requestToUserId:new c.f("",c.v.required)})}catch(e){console.log(e)}}DateCheck(){var e=document.getElementById("txtStartDate").value,t=document.getElementById("txtEndDate").value,a=new Date(t),o=new Date(e);""!=e&&""!=e&&o>a&&(alert("Please ensure that the End Date is after than the Start Date."),document.getElementById("txtEndDate").value="")}leaveList(){try{this.api.getListData().subscribe(e=>{if("success"===e.status)if(this.leaveListData=e.leaveTypes,0==e.leaveTypes[0].length);else{const e=Object.keys(this.leaveListData).length;for(var t=0;t<e;t++)this.showCard[this.leaveListData[t]._id]=!0}})}catch(e){console.log(e.message)}}getEmployeeList(){try{this.employeeListAPI.getEmployeeList(this.status).subscribe(e=>{"success"===e.status&&(this.employeeList=e.data)})}catch(e){console.log(e)}}getEmployeeTL(e){try{this.employeeListAPI.employeeTlList(e).subscribe(e=>{"success"===e.status&&(this.employeeTlList=e.data.parentUsersIds,this.showTlOption=!0)})}catch(t){console.log(t)}}markEmployeeAbsent(){try{this.api.markEmployeeAbsent(this.addEmployeeAbsentForm.value,this.addEmployeeAbsentForm.get("userId").value).subscribe(e=>{"success"===e.status?(this.successMessage=!0,this.successMsg=e.message,this.errorMsg=!1,setTimeout(()=>{this.handleErrors(),this.ngZone.run(()=>this.router.navigateByUrl("/pages/leave-management/list-leave"))},2e3)):"error"===e.status&&(this.successMessage=!1,this.errMsg=e.message,this.errorMsg=!0,setTimeout(()=>{this.handleErrors()},3e3))})}catch(e){console.log(e)}}handleErrors(){this.successMessage=!1,this.successMsg="",this.errorMsg=!1,this.errMsg=""}}return e.\u0275fac=function(t){return new(t||e)(s.Tb(c.e),s.Tb(l.a),s.Tb(re.a),s.Tb(r.b),s.Tb(v.a),s.Tb(s.E))},e.\u0275cmp=s.Nb({type:e,selectors:[["app-mark-absent"]],decls:98,vars:16,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["id","absentLeave","formControlName","userId",1,"dropdown","dropdown-toggle","form-control",3,"change"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","form-group col-md-6",4,"ngIf"],["type","text","id","leaveReason","placeholder","Enter Leave Reason","formControlName","reason",1,"form-control"],["id","absentLeave","formControlName","leaveTypeId",1,"dropdown","dropdown-toggle","form-control"],["type","date","id","txtStartDate","placeholder","Enter From Date","formControlName","fromDate",1,"form-control",3,"change"],["type","date","id","txtEndDate","placeholder","Enter To Date","formControlName","toDate",1,"form-control",3,"change"],["formControlName","fromLeaveFor",1,"dropdown","dropdown-toggle","form-control"],["formControlName","toLeaveFor",1,"dropdown","dropdown-toggle","form-control"],["type","text","formControlName","status","disabled","",1,"form-control"],[1,"form-group"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-leave",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"dropdown-item",3,"value"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"],["id","absentLeave","formControlName","requestToUserId",1,"dropdown","dropdown-toggle","form-control"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(e,t){1&e&&(s.Zb(0,"div",0),s.Zb(1,"div",1),s.Zb(2,"h2",2),s.Ic(3,"Employee Absent Details"),s.Yb(),s.Yb(),s.Zb(4,"div",3),s.Zb(5,"div",4),s.Gc(6,ne,3,1,"p",5),s.Yb(),s.Zb(7,"div",4),s.Gc(8,se,3,1,"p",6),s.Yb(),s.Zb(9,"form",7),s.gc("ngSubmit",(function(){return t.markEmployeeAbsent()})),s.Zb(10,"div",8),s.Zb(11,"div",9),s.Zb(12,"label",10),s.Zb(13,"b"),s.Ic(14,"Employee Name:\xa0"),s.Zb(15,"span",11),s.Ic(16,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(17,"select",12),s.gc("change",(function(e){return t.getEmployeeTL(e.target.value)})),s.Zb(18,"option",13),s.Ic(19,"Select Employee"),s.Yb(),s.Gc(20,ie,2,2,"option",14),s.Yb(),s.Gc(21,le,2,1,"div",15),s.Yb(),s.Gc(22,me,11,2,"div",16),s.Zb(23,"div",9),s.Zb(24,"label",10),s.Zb(25,"b"),s.Ic(26,"Reason:\xa0"),s.Zb(27,"span",11),s.Ic(28,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(29,"div",4),s.Ub(30,"input",17),s.Gc(31,ve,2,1,"div",15),s.Yb(),s.Yb(),s.Zb(32,"div",9),s.Zb(33,"label",10),s.Zb(34,"b"),s.Ic(35,"Type:\xa0"),s.Zb(36,"span",11),s.Ic(37,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(38,"div",4),s.Zb(39,"select",18),s.Zb(40,"option",13),s.Ic(41,"Enter Leave Type"),s.Yb(),s.Gc(42,ge,2,2,"option",14),s.Yb(),s.Gc(43,fe,2,1,"div",15),s.Yb(),s.Yb(),s.Zb(44,"div",9),s.Zb(45,"label",10),s.Zb(46,"b"),s.Ic(47,"From Date:\xa0"),s.Zb(48,"span",11),s.Ic(49,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(50,"div",4),s.Zb(51,"input",19),s.gc("change",(function(){return t.DateCheck()})),s.Yb(),s.Gc(52,Ye,2,1,"div",15),s.Yb(),s.Yb(),s.Zb(53,"div",9),s.Zb(54,"label",10),s.Zb(55,"b"),s.Ic(56,"To Date:\xa0"),s.Zb(57,"span",11),s.Ic(58,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(59,"div",4),s.Zb(60,"input",20),s.gc("change",(function(){return t.DateCheck()})),s.Yb(),s.Gc(61,Ze,2,1,"div",15),s.Yb(),s.Yb(),s.Zb(62,"div",9),s.Zb(63,"label",10),s.Zb(64,"b"),s.Ic(65,"From Leave For:\xa0"),s.Zb(66,"span",11),s.Ic(67,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(68,"div",4),s.Zb(69,"select",21),s.Zb(70,"option",13),s.Ic(71,"Enter From Leave For"),s.Yb(),s.Gc(72,Ie,2,2,"option",14),s.Yb(),s.Gc(73,Fe,2,1,"div",15),s.Yb(),s.Yb(),s.Zb(74,"div",9),s.Zb(75,"label",10),s.Zb(76,"b"),s.Ic(77,"To Leave For:\xa0"),s.Zb(78,"span",11),s.Ic(79,"*"),s.Yb(),s.Yb(),s.Yb(),s.Zb(80,"div",4),s.Zb(81,"select",22),s.Zb(82,"option",13),s.Ic(83,"Enter To Leave For"),s.Yb(),s.Gc(84,we,2,2,"option",14),s.Yb(),s.Gc(85,Me,2,1,"div",15),s.Yb(),s.Yb(),s.Zb(86,"div",9),s.Zb(87,"label",10),s.Zb(88,"b"),s.Ic(89,"Leave Status:"),s.Yb(),s.Yb(),s.Zb(90,"div",4),s.Ub(91,"input",23),s.Yb(),s.Yb(),s.Yb(),s.Zb(92,"div",24),s.Zb(93,"div",25),s.Zb(94,"button",26),s.Ic(95,"Submit"),s.Yb(),s.Zb(96,"button",27),s.Ic(97,"Cancel"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb()),2&e&&(s.Hb(6),s.pc("ngIf",t.errorMsg),s.Hb(2),s.pc("ngIf",t.successMessage),s.Hb(1),s.pc("formGroup",t.addEmployeeAbsentForm),s.Hb(11),s.pc("ngForOf",t.employeeList),s.Hb(1),s.pc("ngForOf",t.absentFieldValidationMessage.userId),s.Hb(1),s.pc("ngIf",t.showTlOption),s.Hb(9),s.pc("ngForOf",t.absentFieldValidationMessage.reason),s.Hb(11),s.pc("ngForOf",t.leaveListData),s.Hb(1),s.pc("ngForOf",t.absentFieldValidationMessage.leaveTypeId),s.Hb(9),s.pc("ngForOf",t.absentFieldValidationMessage.fromDate),s.Hb(9),s.pc("ngForOf",t.absentFieldValidationMessage.toDate),s.Hb(11),s.pc("ngForOf",t.formToLeaveFor),s.Hb(1),s.pc("ngForOf",t.absentFieldValidationMessage.fromLeaveFor),s.Hb(11),s.pc("ngForOf",t.formToLeaveFor),s.Hb(1),s.pc("ngForOf",t.absentFieldValidationMessage.toLeaveFor),s.Hb(9),s.pc("disabled",t.addEmployeeAbsentForm.invalid))},directives:[o.m,c.x,c.o,c.i,c.u,c.n,c.g,c.q,c.w,o.l,c.c,r.c],styles:[""]}),e})()},{path:"",redirectTo:"list-earned-leave",pathMatch:"full"}]}];let Ae=(()=>{class e{}return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},imports:[[o.c,r.f.forChild(De)]]}),e})();var $e=a("JqCM");let Te=(()=>{class e{}return e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({factory:function(t){return new(t||e)},imports:[[o.c,r.f,Ae,c.s,c.j,$e.b]]}),e})()}}]);
//# sourceMappingURL=22-es2015.5ee08e6c695f238991f1.js.map