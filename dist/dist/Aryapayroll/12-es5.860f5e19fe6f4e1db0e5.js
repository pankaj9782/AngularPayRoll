!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{TEzN:function(e,a,r){"use strict";r.r(a),r.d(a,"BranchesModule",(function(){return Ct}));var i,c,o=r("ofXK"),s=r("tyNb"),b=r("fXoL"),d=((i=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b.Nb({type:i,selectors:[["app-branches"]],decls:1,vars:0,template:function(t,e){1&t&&b.Ub(0,"router-outlet")},directives:[s.g],styles:[""]}),i),l=r("CG1p"),u=r("3Pt+"),m=r("tk/3"),p=r("z6cu"),h=r("JIr8"),g=r("AytR"),f=((c=function(){function e(n){t(this,e),this.http=n,this.endpoint=g.a.apiBaseUrl,this.headers=(new m.c).set("Contant-Type","application/x-www-form-urlencoded")}return n(e,[{key:"submitBranchFormData",value:function(t,e,n,a){try{return t.countryName=n,t.countryState=a,this.http.post("".concat(this.endpoint,"/company/add-branch/").concat(e),t).pipe(Object(h.a)(this.errorMgmt))}catch(r){console.log(r)}}},{key:"getBranchListData",value:function(){try{var t=sessionStorage.getItem("companyId");return this.http.get("".concat(this.endpoint,"/company/branch-list/").concat(t)).pipe(Object(h.a)(this.errorMgmt))}catch(e){console.log(e)}}},{key:"getBranchDetails",value:function(t){try{return this.http.get("".concat(this.endpoint,"/company/branch-details/").concat(t)).pipe(Object(h.a)(this.errorMgmt))}catch(e){console.log(e)}}},{key:"submitUpdatedData",value:function(t,e){try{var n=sessionStorage.getItem("companyId");return this.http.post("".concat(this.endpoint,"/company/update-branch/").concat(n,"/").concat(e),t).pipe(Object(h.a)(this.errorMgmt))}catch(a){console.log(a.message)}}},{key:"errorMgmt",value:function(t){try{var e="";return e=t.error instanceof ErrorEvent?t.error.message:"Error code:".concat(t.status,"\nMessage:").concat(e),console.log(e),Object(p.a)(e)}catch(n){console.log(n)}}},{key:"removeData",value:function(t){try{return this.http.delete("".concat(this.endpoint,"/company/delete-branch/").concat(t)).pipe(Object(h.a)(this.errorMgmt))}catch(e){console.log(e.message)}}},{key:"submitDepartmentData",value:function(t,e){try{return this.http.post("".concat(this.endpoint,"/branch/add-department/").concat(e),t).pipe(Object(h.a)(this.errorMgmt))}catch(n){console.log(n.message)}}},{key:"updateDepartmentData",value:function(t,e,n){try{return this.http.post("".concat(this.endpoint,"/branch/update-department/").concat(e,"/").concat(n),t).pipe(Object(h.a)(this.errorMgmt))}catch(a){console.log(a.message)}}},{key:"getDepartmentData",value:function(t){try{return this.http.get("".concat(this.endpoint,"/branch/list-department/").concat(t)).pipe(Object(h.a)(this.errorMgmt))}catch(e){console.log(e)}}},{key:"removeDepartmentData",value:function(t){try{return this.http.delete("".concat(this.endpoint,"/branch/delete-department/").concat(t)).pipe(Object(h.a)(this.errorMgmt))}catch(e){console.log(e.message)}}}]),e}()).\u0275fac=function(t){return new(t||c)(b.dc(m.a))},c.\u0275prov=b.Pb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),v=r("cnwL");function Z(t,e){if(1&t&&(b.Zb(0,"p",35),b.Zb(1,"strong"),b.Ic(2),b.Yb(),b.Yb()),2&t){var n=b.jc();b.Hb(2),b.Jc(n.errMsg)}}function Y(t,e){if(1&t&&(b.Zb(0,"p",36),b.Zb(1,"strong"),b.Ic(2),b.Yb(),b.Yb()),2&t){var n=b.jc();b.Hb(2),b.Jc(n.successMsg)}}function y(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function I(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,y,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("name").hasError(n.type)&&(a.branchForm.get("name").dirty||a.branchForm.get("name").touched))}}function N(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function M(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,N,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("address").hasError(n.type)&&(a.branchForm.get("address").dirty||a.branchForm.get("address").touched))}}function C(t,e){if(1&t){var n=b.ac();b.Zb(0,"div",16),b.Zb(1,"label",17),b.Zb(2,"b"),b.Ic(3,"State:"),b.Yb(),b.Yb(),b.Zb(4,"select",39),b.gc("change",(function(){return b.Bc(n),b.jc().stateName()})),b.Yb(),b.Yb()}}function x(t,e){1&t&&(b.Zb(0,"div",16),b.Zb(1,"label",17),b.Zb(2,"b"),b.Ic(3,"State:"),b.Yb(),b.Yb(),b.Zb(4,"select",40),b.Zb(5,"option",41),b.Ic(6,"----Country Not Selected----"),b.Yb(),b.Yb(),b.Yb())}function O(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function w(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,O,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("email").hasError(n.type)&&(a.branchForm.get("email").dirty||a.branchForm.get("email").touched))}}function B(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function k(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,B,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("outGoingMails").hasError(n.type)&&(a.branchForm.get("outGoingMails").dirty||a.branchForm.get("outGoingMails").touched))}}function F(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function P(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,F,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("bankAccNum").hasError(n.type)&&(a.branchForm.get("bankAccNum").dirty||a.branchForm.get("bankAccNum").touched))}}function H(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function _(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,H,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("officialNumber").hasError(n.type)&&(a.branchForm.get("officialNumber").dirty||a.branchForm.get("officialNumber").touched))}}function D(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function A(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,D,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("fax").hasError(n.type)&&(a.branchForm.get("fax").dirty||a.branchForm.get("fax").touched))}}function L(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function E(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,L,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("taxationNumber").hasError(n.type)&&(a.branchForm.get("taxationNumber").dirty||a.branchForm.get("taxationNumber").touched))}}function G(t,e){if(1&t&&(b.Zb(0,"div",38),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function j(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,G,2,1,"div",37),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.branchForm.get("panNumber").hasError(n.type)&&(a.branchForm.get("panNumber").dirty||a.branchForm.get("panNumber").touched))}}var T,$=function(t){return{display:t}},U=((T=function(){function e(n,a,r,i,c,o){t(this,e),this.route=n,this.api=a,this.fb=r,this.ngZone=i,this.router=c,this.util=o,this.successMessage=!1,this.errorMsg=!1,this.validationMessage={name:[{type:"required",message:"Name is required"}],email:[{type:"required",message:"Email is required"},{type:"pattern",message:"Enter a valid email"}],address:[{type:"required",message:"Address is required"}],officialNumber:[{type:"required",message:"Number is required"},{type:"minlength",message:"Number too short "},{type:"maxlength",message:"Number is too large"},{type:"pattern",message:"Company Number not valid"}],fax:[{type:"minlength",message:"Fax number too short "},{type:"maxlength",message:"Fax no. is too large"},{type:"pattern",message:"Fax Number not valid"}],outGoingMails:[{type:"pattern",message:"Invalid Mail"}],taxNumber:[{type:"pattern",message:"Invalid Taxation No."}],panNumber:[{type:"pattern",message:"Invalid PAN Number"}],bankAccNum:[{type:"maxlength",message:"Account No. limit exceeded"},{type:"pattern",message:"Invalid Account No."}]},this.isListAvaliable()}return n(e,[{key:"ngOnInit",value:function(){this.permissionInfo=this.util.permissionRoleInfo,this.branchDataValidate(),populateCountries("country","state"),this.snapshotParam=sessionStorage.getItem("companyId"),-1===this.permissionInfo.search("Create Branch")&&this.branchForm.disable()}},{key:"branchDataValidate",value:function(){try{this.branchForm=this.fb.group({name:new u.f("",u.v.compose([u.v.required])),officialNumber:new u.f("",u.v.compose([u.v.required,u.v.minLength(10),u.v.maxLength(15),u.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$")])),email:new u.f("",u.v.compose([u.v.required,u.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),fax:new u.f("",u.v.compose([u.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$"),u.v.minLength(10),u.v.maxLength(10)])),address:new u.f("",u.v.required),outGoingMails:new u.f("",u.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")),taxationNumber:new u.f(""),panNumber:new u.f("",u.v.pattern("(^[A-Za-z]{5}[0-9]{4}[A-Za-z]$)")),bankName:new u.f(""),bankAccNum:new u.f("",u.v.compose([u.v.maxLength(16),u.v.pattern(/^[0-9]*$/)])),bankType:new u.f("")})}catch(t){console.log(t)}}},{key:"scroll",value:function(t){t.scrollIntoView()}},{key:"branchFormData",value:function(){var t=this;try{var e=this.util.cleanFormLevelOne(this.branchForm);this.branchForm.valid&&this.api.submitBranchFormData(e.value,this.snapshotParam,this.selectCountryName,this.selectStateName).subscribe((function(e){"success"===e.status||200===e.status?(t.successMessage=!0,t.errorMsg=!1,t.successMsg=e.message,setTimeout((function(){t.handleErrors(),t.ngZone.run((function(){return t.router.navigateByUrl("/pages/branches/show-branches")}))}),1500)):"error"==e.status&&(t.errorMsg=!0,t.successMessage=!1,t.errMsg=e.message,setTimeout((function(){t.handleErrors()}),4e3))}))}catch(n){console.log(n)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}},{key:"isListAvaliable",value:function(){var t=this;try{this.api.getBranchListData().subscribe((function(e){"success"===e.status&&e.branch.length>0&&1!==t.util.branchesSatus&&(t.router.navigateByUrl("/pages/branches/show-branches"),t.util.branchesSatus=0)}))}catch(e){console.log(e)}}},{key:"countryName",value:function(){"-1"===document.getElementById("country").value?(this.countryMsg="Country Name is Required",this.stateOption=!1):(this.selectCountryName=document.getElementById("country").value,this.countryMsg="",this.stateOption=!0,this.stateName())}},{key:"stateName",value:function(){this.selectStateName=null===document.getElementById("state")||""===document.getElementById("state").value?"":document.getElementById("state").value}}]),e}()).\u0275fac=function(t){return new(t||T)(b.Tb(s.a),b.Tb(f),b.Tb(u.e),b.Tb(b.E),b.Tb(s.b),b.Tb(v.a))},T.\u0275cmp=b.Nb({type:T,selectors:[["app-add-branches"]],decls:126,vars:19,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title"],["target",""],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","inputName","placeholder","Enter Branch Name","formControlName","name",1,"form-control"],[4,"ngFor","ngForOf"],["id","inputAddress","placeholder","Address","formControlName","address",1,"form-control"],[1,"form-row"],[1,"form-group","col-md-6"],[1,"col-sm-4","control-label"],["id","country","name","country",1,"dropdown","dropdown-toggle","form-control",3,"change"],[3,"ngStyle"],[2,"color","red"],["class","form-group col-md-6",4,"ngIf"],["type","email","id","inputEmail","placeholder","Enter Email ","formControlName","email",1,"form-control"],["type","email","id","inputBcc","placeholder","Enter BCC Address","formControlName","outGoingMails",1,"form-control"],["type","email","placeholder","Enter Bank Name ","formControlName","bankName",1,"form-control"],["type","email","placeholder","Enter Account Type","formControlName","bankType",1,"form-control"],["type","text","id","inputFax","placeholder","Enter Account Number:","formControlName","bankAccNum",1,"form-control"],["type","text","id","inputCompanyNo","placeholder","Enter Official Branch Number","formControlName","officialNumber",1,"form-control"],["type","text","id","inputFax","placeholder","Enter Fax Number:","formControlName","fax",1,"form-control"],[1,"col-md-6"],["type","text","id","inputTaxationno.","placeholder","Enter Taxation Number","formControlName","taxationNumber",1,"form-control"],["onkeyup","this.value = this.value.toUpperCase().trim();","type","text","id","inputPanno","placeholder","Enter PAN Number","formControlName","panNumber",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled","click"],["type","submit","routerLink","../show-branches",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"],["name","state","id","state",1,"dropdown","dropdown-toggle","form-control",3,"change"],["disabled","",1,"dropdown","dropdown-toggle","form-control"],[1,"dropdown-item"]],template:function(t,e){if(1&t){var n=b.ac();b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"h2",2,3),b.Ic(4,"Branch Details"),b.Yb(),b.Yb(),b.Zb(5,"div",4),b.Zb(6,"div",5),b.Gc(7,Z,3,1,"p",6),b.Yb(),b.Zb(8,"div",5),b.Gc(9,Y,3,1,"p",7),b.Yb(),b.Zb(10,"form",8),b.gc("ngSubmit",(function(){return e.branchFormData()})),b.Zb(11,"div",9),b.Zb(12,"label",10),b.Zb(13,"b"),b.Ic(14,"Name (to appear on reports):\xa0"),b.Zb(15,"span",11),b.Ic(16,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(17,"div",5),b.Ub(18,"input",12),b.Gc(19,I,2,1,"div",13),b.Yb(),b.Yb(),b.Zb(20,"div",9),b.Zb(21,"label",10),b.Zb(22,"b"),b.Ic(23,"Address:\xa0"),b.Zb(24,"span",11),b.Ic(25,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(26,"div",5),b.Ub(27,"textarea",14),b.Gc(28,M,2,1,"div",13),b.Yb(),b.Yb(),b.Zb(29,"div",15),b.Zb(30,"div",16),b.Zb(31,"label",17),b.Zb(32,"b"),b.Ic(33,"Country:\xa0"),b.Zb(34,"span",11),b.Ic(35,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(36,"select",18),b.gc("change",(function(){return e.countryName()})),b.Yb(),b.Zb(37,"div",19),b.Zb(38,"p",20),b.Ic(39),b.Yb(),b.Yb(),b.Yb(),b.Gc(40,C,5,0,"div",21),b.Gc(41,x,7,0,"div",21),b.Yb(),b.Zb(42,"div",15),b.Zb(43,"div",16),b.Zb(44,"div",9),b.Zb(45,"label",10),b.Zb(46,"b"),b.Ic(47,"Email Address:\xa0"),b.Zb(48,"span",11),b.Ic(49,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(50,"div",5),b.Ub(51,"input",22),b.Gc(52,w,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Zb(53,"div",16),b.Zb(54,"div",9),b.Zb(55,"label",10),b.Zb(56,"b"),b.Ic(57,"BCC Address for all outgoing mails:"),b.Yb(),b.Yb(),b.Zb(58,"div",5),b.Ub(59,"input",23),b.Gc(60,k,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(61,"div",15),b.Zb(62,"div",16),b.Zb(63,"div",9),b.Zb(64,"label",10),b.Zb(65,"b"),b.Ic(66,"Bank Name:"),b.Yb(),b.Yb(),b.Zb(67,"div",5),b.Ub(68,"input",24),b.Yb(),b.Yb(),b.Yb(),b.Zb(69,"div",16),b.Zb(70,"div",9),b.Zb(71,"label",10),b.Zb(72,"b"),b.Ic(73,"Account Type:"),b.Yb(),b.Yb(),b.Zb(74,"div",5),b.Ub(75,"input",25),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(76,"div",15),b.Zb(77,"div",16),b.Zb(78,"div",9),b.Zb(79,"label",10),b.Zb(80,"b"),b.Ic(81,"Account No:"),b.Yb(),b.Yb(),b.Zb(82,"div",5),b.Ub(83,"input",26),b.Gc(84,P,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Zb(85,"div",16),b.Zb(86,"div",9),b.Zb(87,"label",10),b.Zb(88,"b"),b.Ic(89,"Official Branch Number:\xa0"),b.Zb(90,"span",11),b.Ic(91,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(92,"div",5),b.Ub(93,"input",27),b.Gc(94,_,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(95,"div",15),b.Zb(96,"div",16),b.Zb(97,"div",9),b.Zb(98,"label",10),b.Zb(99,"b"),b.Ic(100,"Fax Number:"),b.Yb(),b.Yb(),b.Zb(101,"div",5),b.Ub(102,"input",28),b.Gc(103,A,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Zb(104,"div",29),b.Zb(105,"div",9),b.Zb(106,"label",10),b.Zb(107,"b"),b.Ic(108,"Taxation No:"),b.Yb(),b.Yb(),b.Zb(109,"div",5),b.Ub(110,"input",30),b.Gc(111,E,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Zb(112,"div",29),b.Zb(113,"div",9),b.Zb(114,"label",10),b.Zb(115,"b"),b.Ic(116,"PAN (Permanent Account Number):"),b.Yb(),b.Yb(),b.Zb(117,"div",5),b.Ub(118,"input",31),b.Gc(119,j,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(120,"div",9),b.Zb(121,"div",32),b.Zb(122,"button",33),b.gc("click",(function(){b.Bc(n);var t=b.Ac(3);return e.scroll(t)})),b.Ic(123,"Add Branch"),b.Yb(),b.Zb(124,"button",34),b.Ic(125,"Cancel"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()}2&t&&(b.Hb(7),b.pc("ngIf",e.errorMsg),b.Hb(2),b.pc("ngIf",e.successMessage),b.Hb(1),b.pc("formGroup",e.branchForm),b.Hb(9),b.pc("ngForOf",e.validationMessage.name),b.Hb(9),b.pc("ngForOf",e.validationMessage.address),b.Hb(9),b.pc("ngStyle",b.vc(17,$,void 0===e.countryMsg?"none":"block")),b.Hb(2),b.Jc(e.countryMsg),b.Hb(1),b.pc("ngIf",e.stateOption),b.Hb(1),b.pc("ngIf",!e.stateOption),b.Hb(11),b.pc("ngForOf",e.validationMessage.email),b.Hb(8),b.pc("ngForOf",e.validationMessage.outGoingMails),b.Hb(24),b.pc("ngForOf",e.validationMessage.bankAccNum),b.Hb(10),b.pc("ngForOf",e.validationMessage.officialNumber),b.Hb(9),b.pc("ngForOf",e.validationMessage.fax),b.Hb(8),b.pc("ngForOf",e.validationMessage.taxNumber),b.Hb(8),b.pc("ngForOf",e.validationMessage.panNumber),b.Hb(3),b.pc("disabled",e.branchForm.invalid||e.countryMsg||void 0===e.countryMsg))},directives:[o.m,u.x,u.o,u.i,u.c,u.n,u.g,o.l,o.n,s.c,u.q,u.w],styles:[".card-title[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}.dropdown[_ngcontent-%COMP%]{max-height:35px}.btn-circle[_ngcontent-%COMP%]{cursor:pointer}.delete-button[_ngcontent-%COMP%]{margin:15px 0}.delete-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:6px;background:#a20909;margin-top:30px}"]}),T),q=r("PSD3"),J=r.n(q);function S(t,e){if(1&t){var n=b.ac();b.Zb(0,"li",7),b.Zb(1,"strong"),b.Zb(2,"b",8),b.gc("click",(function(){b.Bc(n);var t=e.$implicit;return b.jc().showData(t._id)})),b.Ic(3),b.Yb(),b.Yb(),b.Zb(4,"div",9),b.Zb(5,"i",10),b.gc("click",(function(){b.Bc(n);var t=e.$implicit;return b.jc().showData(t._id)})),b.Yb(),b.Yb(),b.Zb(6,"div",11),b.Zb(7,"table",12),b.Zb(8,"tr"),b.Zb(9,"td"),b.Zb(10,"b"),b.Ic(11,"Name:"),b.Yb(),b.Yb(),b.Zb(12,"td"),b.Ic(13),b.Yb(),b.Zb(14,"td"),b.Zb(15,"b"),b.Ic(16,"Address:"),b.Yb(),b.Yb(),b.Zb(17,"td"),b.Ic(18),b.Yb(),b.Yb(),b.Zb(19,"tr"),b.Zb(20,"td"),b.Zb(21,"b"),b.Ic(22,"Official Number:"),b.Yb(),b.Yb(),b.Zb(23,"td"),b.Ic(24),b.Yb(),b.Zb(25,"td"),b.Zb(26,"b"),b.Ic(27,"Fax:"),b.Yb(),b.Yb(),b.Zb(28,"td"),b.Ic(29),b.Yb(),b.Yb(),b.Zb(30,"tr"),b.Zb(31,"td"),b.Zb(32,"b"),b.Ic(33,"Email:"),b.Yb(),b.Yb(),b.Zb(34,"td"),b.Ic(35),b.Yb(),b.Zb(36,"td"),b.Zb(37,"b"),b.Ic(38,"Bank Name:"),b.Yb(),b.Yb(),b.Zb(39,"td"),b.Ic(40),b.Yb(),b.Yb(),b.Zb(41,"tr"),b.Zb(42,"td"),b.Zb(43,"b"),b.Ic(44,"Account No:"),b.Yb(),b.Yb(),b.Zb(45,"td"),b.Ic(46),b.Yb(),b.Zb(47,"td"),b.Zb(48,"b"),b.Ic(49,"Country Name:"),b.Yb(),b.Yb(),b.Zb(50,"td"),b.Ic(51),b.Yb(),b.Yb(),b.Zb(52,"tr"),b.Zb(53,"td"),b.Zb(54,"b"),b.Ic(55,"Taxation No:"),b.Yb(),b.Yb(),b.Zb(56,"td"),b.Ic(57),b.Yb(),b.Zb(58,"td"),b.Zb(59,"b"),b.Ic(60,"State Name:"),b.Yb(),b.Yb(),b.Zb(61,"td"),b.Ic(62),b.Yb(),b.Yb(),b.Zb(63,"tr"),b.Zb(64,"td"),b.Zb(65,"b"),b.Ic(66,"PAN No:"),b.Yb(),b.Yb(),b.Zb(67,"td"),b.Ic(68),b.Yb(),b.Zb(69,"td"),b.Zb(70,"b"),b.Ic(71,"Currency:"),b.Yb(),b.Yb(),b.Zb(72,"td"),b.Ic(73),b.Yb(),b.Yb(),b.Zb(74,"tr"),b.Zb(75,"td"),b.Zb(76,"b"),b.Ic(77,"BCC Address for all outgoing mails:"),b.Yb(),b.Yb(),b.Zb(78,"td"),b.Ic(79),b.Yb(),b.Ub(80,"td"),b.Ub(81,"td"),b.Yb(),b.Yb(),b.Zb(82,"div"),b.Zb(83,"a",13),b.Ub(84,"i",14),b.Yb(),b.Zb(85,"button",15),b.gc("click",(function(){b.Bc(n);var t=e.$implicit;return b.jc().showConfirmationMessage(t._id)})),b.Ub(86,"i",16),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&t){var a=e.$implicit,r=b.jc();b.Hb(3),b.Jc(a.name),b.Hb(3),b.pc("hidden",r.showBranchCard[a._id]),b.Hb(7),b.Jc(a.name),b.Hb(5),b.Jc(a.address),b.Hb(6),b.Jc(a.officialNumber),b.Hb(5),b.Jc(a.fax),b.Hb(6),b.Jc(a.email),b.Hb(5),b.Jc(a.bankName),b.Hb(6),b.Jc(a.bankAccNum),b.Hb(5),b.Jc(a.countryName),b.Hb(6),b.Jc(a.taxationNumber),b.Hb(5),b.Jc(a.countryState),b.Hb(6),b.Jc(a.panNumber),b.Hb(5),b.Jc(a.currency),b.Hb(6),b.Jc(a.outGoingMails),b.Hb(4),b.Lb("disabled",-1===r.permissionInfo.search("Edit Branch")),b.rc("routerLink","../update-branch-data/",a._id,""),b.Hb(2),b.pc("disabled",-1===r.permissionInfo.search("Delete Branch"))}}var z,K=((z=function(){function e(n,a,r,i,c){t(this,e),this.api=n,this.route=a,this.ngZone=r,this.router=i,this.util=c,this.branchList=[],this.showBranchCard={}}return n(e,[{key:"ngOnInit",value:function(){this.permissionInfo=this.util.permissionRoleInfo,this.showBranchList()}},{key:"showBranchList",value:function(){var t=this;try{this.api.getBranchListData().subscribe((function(e){if("success"===e.status||200===e.status)if(t.branchList=e.branch,0==e.branch.length)t.router.navigateByUrl("/pages/branches/add-branch");else for(var n=0;n<t.branchList.length;n++)t.showBranchCard[t.branchList[n]._id]=!0}))}catch(e){console.log(e)}}},{key:"showData",value:function(t){try{this.showBranchCard[""+t]=!this.showBranchCard[""+t]}catch(e){console.log(e)}}},{key:"showConfirmationMessage",value:function(t){var e=this;try{var n=J.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});n.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then((function(a){a.value?e.api.removeData(t).subscribe((function(t){"success"===t.status||200===t.status?(n.fire("Deleted!",t.message,"success"),e.ngZone.run((function(){e.router.navigateByUrl("/pages/branches/show-branches")})),e.showBranchList()):"error"===t.status&&n.fire("ERROR!",t.message,"error")})):a.dismiss===J.a.DismissReason.cancel&&n.fire("Cancelled","Your list data safe","error")}))}catch(a){console.log(a.message)}}},{key:"addBranches",value:function(){try{this.util.branchesSatus=1}catch(t){console.log(t)}}}]),e}()).\u0275fac=function(t){return new(t||z)(b.Tb(f),b.Tb(s.a),b.Tb(b.E),b.Tb(s.b),b.Tb(v.a))},z.\u0275cmp=b.Nb({type:z,selectors:[["app-show-branches"]],decls:10,vars:3,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["routerLink","../add-branch",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"fa","fa-plus-square"],[1,"panel-body"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[2,"cursor","pointer",3,"click"],[2,"float","right"],[1,"dropdown-toggle",3,"click"],[1,"card",2,"background-color","ghostwhite",3,"hidden"],[1,"table",2,"margin","auto"],[1,"btn","btn-primary",2,"float","right",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",2,"float","right",3,"disabled","click"],[1,"fa","fa-trash"]],template:function(t,e){1&t&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"h2"),b.Ic(3,"Branches List"),b.Yb(),b.Zb(4,"a",2),b.gc("click",(function(){return e.addBranches()})),b.Ub(5,"i",3),b.Ic(6,"\xa0 Add Branch"),b.Yb(),b.Yb(),b.Zb(7,"div",4),b.Zb(8,"ul",5),b.Gc(9,S,87,19,"li",6),b.Yb(),b.Yb(),b.Yb()),2&t&&(b.Hb(4),b.Lb("disabled",-1===e.permissionInfo.search("Create Branch")),b.Hb(5),b.pc("ngForOf",e.branchList))},directives:[s.e,o.l],styles:["i[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;text-align:left;overflow:hidden}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid #ecf0f1;padding:10px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid #ecf0f1;border-right:1px solid #ecf0f1}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4ecdc4}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n)   td[_ngcontent-%COMP%]{background-color:#d9f4f2}table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right;font-weight:700}.mobile-header[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:760px){p[_ngcontent-%COMP%]{display:block;font-weight:700}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.total-val), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child){display:none}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n)   td[_ngcontent-%COMP%]:first-child{background-color:#d9f4f2}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n)   td[_ngcontent-%COMP%]:not(:first-child), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd)   td[_ngcontent-%COMP%]:first-child{background-color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:100%;display:block}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child){width:40%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child){transition:transform .4s ease-out;transform:translateY(-9999px);position:relative;z-index:-1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){width:60%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{display:block;cursor:pointer}table[_ngcontent-%COMP%]   tr.total[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:25%;display:inline-block}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.total-val[_ngcontent-%COMP%]{display:inline-block;transform:translateY(0);width:75%}}@media only screen and (max-width:300px){table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child){width:50%;font-size:14px}}"]}),z),R=r("H+bZ");function V(t,e){if(1&t&&(b.Zb(0,"p",29),b.Zb(1,"strong"),b.Ic(2),b.Yb(),b.Yb()),2&t){var n=b.jc();b.Hb(2),b.Jc(n.errMsg)}}function Q(t,e){if(1&t&&(b.Zb(0,"p",30),b.Zb(1,"strong"),b.Ic(2),b.Yb(),b.Yb()),2&t){var n=b.jc();b.Hb(2),b.Jc(n.successMsg)}}function X(t,e){if(1&t&&(b.Zb(0,"div",32),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function W(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,X,2,1,"div",31),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.updateBranchForm.get("name").hasError(n.type)&&(a.updateBranchForm.get("name").dirty||a.updateBranchForm.get("name").touched))}}function tt(t,e){if(1&t&&(b.Zb(0,"div",32),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function et(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,tt,2,1,"div",31),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.updateBranchForm.get("address").hasError(n.type)&&(a.updateBranchForm.get("address").dirty||a.updateBranchForm.get("address").touched))}}function nt(t,e){if(1&t&&(b.Zb(0,"div",32),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function at(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,nt,2,1,"div",33),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.updateBranchForm.get("outGoingMails").hasError(n.type)&&(a.updateBranchForm.get("outGoingMails").dirty||a.updateBranchForm.get("outGoingMails").touched))}}function rt(t,e){if(1&t&&(b.Zb(0,"div",32),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function it(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,rt,2,1,"div",33),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.updateBranchForm.get("bankAccNum").hasError(n.type)&&(a.updateBranchForm.get("bankAccNum").dirty||a.updateBranchForm.get("bankAccNum").touched))}}function ct(t,e){if(1&t&&(b.Zb(0,"div",32),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function ot(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,ct,2,1,"div",33),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.updateBranchForm.get("fax").hasError(n.type)&&(a.updateBranchForm.get("fax").dirty||a.updateBranchForm.get("fax").touched))}}function st(t,e){if(1&t&&(b.Zb(0,"div",32),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function bt(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,st,2,1,"div",33),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.updateBranchForm.get("officialNumber").hasError(n.type)&&(a.updateBranchForm.get("officialNumber").dirty||a.updateBranchForm.get("officialNumber").touched))}}function dt(t,e){if(1&t&&(b.Zb(0,"div",32),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function lt(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,dt,2,1,"div",33),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.updateBranchForm.get("taxationNumber").hasError(n.type)&&(a.updateBranchForm.get("taxationNumber").dirty||a.updateBranchForm.get("taxationNumber").touched))}}function ut(t,e){if(1&t&&(b.Zb(0,"div",32),b.Ic(1),b.Yb()),2&t){var n=b.jc().$implicit;b.Hb(1),b.Kc(" ",n.message," ")}}function mt(t,e){if(1&t&&(b.Zb(0,"div"),b.Gc(1,ut,2,1,"div",33),b.Yb()),2&t){var n=e.$implicit,a=b.jc();b.Hb(1),b.pc("ngIf",a.updateBranchForm.get("panNumber").hasError(n.type)&&(a.updateBranchForm.get("panNumber").dirty||a.updateBranchForm.get("panNumber").touched))}}function pt(t,e){if(1&t){var n=b.ac();b.Zb(0,"li",7),b.Zb(1,"strong"),b.Zb(2,"b",8),b.gc("click",(function(){b.Bc(n);var t=e.$implicit;return b.jc().showData(t._id)})),b.Ic(3),b.Yb(),b.Yb(),b.Zb(4,"div",9),b.Zb(5,"i",10),b.gc("click",(function(){b.Bc(n);var t=e.$implicit;return b.jc().showData(t._id)})),b.Yb(),b.Yb(),b.Zb(6,"div",11),b.Zb(7,"table",12),b.Zb(8,"tr"),b.Zb(9,"th"),b.Ic(10,"Title:"),b.Yb(),b.Zb(11,"td"),b.Ic(12),b.Yb(),b.Yb(),b.Zb(13,"tr"),b.Zb(14,"th"),b.Ic(15,"Description:"),b.Yb(),b.Zb(16,"td"),b.Ic(17),b.Yb(),b.Yb(),b.Yb(),b.Zb(18,"div"),b.Zb(19,"a",13),b.Ub(20,"i",14),b.Ic(21,"\xa0 update "),b.Yb(),b.Zb(22,"button",15),b.gc("click",(function(){b.Bc(n);var t=e.$implicit;return b.jc().deleteList(t._id)})),b.Ub(23,"i",16),b.Ic(24,"\xa0 Delete "),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&t){var a=e.$implicit,r=b.jc();b.Hb(3),b.Jc(a.title),b.Hb(3),b.pc("hidden",r.showDepartmentCard[a._id]),b.Hb(6),b.Jc(a.title),b.Hb(5),b.Jc(a.description),b.Hb(2),b.sc("routerLink","../../update-department/",r.snapshotParam,"/",a._id,"")}}function ht(t,e){if(1&t&&(b.Zb(0,"p",10),b.Zb(1,"strong"),b.Ic(2),b.Yb(),b.Yb()),2&t){var n=b.jc();b.Hb(2),b.Jc(n.errMsg)}}function gt(t,e){if(1&t&&(b.Zb(0,"p",11),b.Zb(1,"strong"),b.Ic(2),b.Yb(),b.Yb()),2&t){var n=b.jc();b.Hb(2),b.Jc(n.successMsg)}}function ft(t,e){if(1&t){var n=b.ac();b.Zb(0,"form",12),b.gc("ngSubmit",(function(){return b.Bc(n),b.jc().updateDepartmentFormData()})),b.Zb(1,"div",13),b.Zb(2,"label",14),b.Zb(3,"b"),b.Ic(4,"Title:\xa0"),b.Zb(5,"span",15),b.Ic(6,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(7,"div",6),b.Ub(8,"input",16),b.Yb(),b.Yb(),b.Zb(9,"div",13),b.Zb(10,"label",14),b.Zb(11,"b"),b.Ic(12,"Description:"),b.Yb(),b.Yb(),b.Zb(13,"div",6),b.Ub(14,"input",17),b.Yb(),b.Yb(),b.Zb(15,"div",13),b.Zb(16,"div",18),b.Zb(17,"button",19),b.Ic(18,"Add Department"),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&t){var a=b.jc();b.pc("formGroup",a.updateDepartmentForm),b.Hb(17),b.pc("disabled",a.updateDepartmentForm.invalid)}}var vt,Zt,Yt,yt,It,Nt=[{path:"",component:d,canActivate:[l.a],children:[{path:"add-branch",component:U},{path:"show-branches",component:K},{path:"update-branch-data/:branchId",component:(Yt=function(){function e(n,a,r,i,c,o,s){var b=this;t(this,e),this.route=n,this.api=a,this.fb=r,this.ngZone=i,this.router=c,this.util=o,this.currencyApi=s,this.getBranchList=Object,this.branchData=[],this.successMessage=!1,this.errMsg=String,this.errorMsg=!1,this.validationMessage={name:[{type:"required",message:"Name is Required "}],address:[{type:"required",message:"Address is Required "}],officialNumber:[{type:"required",message:"Official Number is Required "},{type:"minlength",message:"Number too short "},{type:"maxlength",message:"Number is too large"},{type:"pattern",message:"Company Number not valid"}],fax:[{type:"minlength",message:"Fax number too short "},{type:"maxlength",message:"Fax no. is too large"},{type:"pattern",message:"Fax Number not valid"}],outGoingMails:[{type:"pattern",message:"Invalid Mail"}],taxNumber:[{type:"pattern",message:"Invalid Taxation No."}],panNumber:[{type:"pattern",message:"Invalid PAN Number"}],bankAccNum:[{type:"maxlength",message:"Account No. limit exceeded"},{type:"pattern",message:"Invalid Account No."}]},this.snapshotParam=this.route.snapshot.paramMap.get("branchId"),this.util.moduleExists(this.snapshotParam,"Branches").subscribe((function(t){"success"===t.status&&(t.data||b.router.navigateByUrl("/pages/branches/show-branches"))}))}return n(e,[{key:"ngOnInit",value:function(){this.updateBranchDataValidate(),this.permissionInfo=this.util.permissionRoleInfo,this.getExistingData(),-1===this.permissionInfo.search("Edit Branch")&&this.updateBranchForm.disable()}},{key:"updateBranchDataValidate",value:function(){try{this.updateBranchForm=this.fb.group({name:new u.f("",u.v.compose([u.v.required])),officialNumber:new u.f("",u.v.compose([u.v.required,u.v.minLength(10),u.v.maxLength(15),u.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$")])),fax:new u.f("",u.v.compose([u.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$"),u.v.minLength(10),u.v.maxLength(10)])),address:new u.f("",u.v.required),outGoingMails:new u.f("",u.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")),taxationNumber:new u.f(""),panNumber:new u.f("",u.v.pattern("(^[A-Za-z]{5}[0-9]{4}[A-Za-z]$)")),bankName:new u.f(""),bankAccNum:new u.f("",u.v.compose([u.v.maxLength(16),u.v.pattern(/^[0-9]*$/)])),bankType:new u.f("")})}catch(t){console.log(t)}}},{key:"scroll",value:function(t){t.scrollIntoView()}},{key:"getExistingData",value:function(){var t=this;try{this.api.getBranchDetails(this.snapshotParam).subscribe((function(e){"success"===e.status&&(t.getBranchList=e.data,t.updateBranchForm=t.fb.group({name:new u.f(t.getBranchList.name,u.v.compose([u.v.required])),officialNumber:new u.f(t.getBranchList.officialNumber,u.v.compose([u.v.required,u.v.minLength(10),u.v.maxLength(15),u.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$")])),fax:new u.f(t.getBranchList.fax,u.v.compose([u.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$"),u.v.minLength(10),u.v.maxLength(10)])),address:new u.f(t.getBranchList.address,u.v.required),outGoingMails:new u.f(t.getBranchList.outGoingMails,u.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")),taxationNumber:new u.f(t.getBranchList.taxationNumber),panNumber:new u.f(t.getBranchList.panNumber,u.v.pattern("(^[A-Za-z]{5}[0-9]{4}[A-Za-z]$)")),bankName:new u.f(t.getBranchList.bankDetails.bankName),bankAccNum:new u.f(t.getBranchList.bankDetails.bankAccNum,u.v.compose([u.v.maxLength(16),u.v.pattern(/^[0-9]*$/)])),bankType:new u.f(t.getBranchList.bankDetails.bankType)}))}))}catch(e){console.log(e)}}},{key:"updateBranchFormData",value:function(){var t=this;try{var e=this.util.cleanFormLevelOne(this.updateBranchForm);this.updateBranchForm.valid&&this.api.submitUpdatedData(e.value,this.snapshotParam).subscribe((function(e){"success"===e.status||200===e.status?(t.successMessage=!0,t.errorMsg=!1,t.successMsg=e.message,setTimeout((function(){t.handleErrors(),t.router.navigateByUrl("/pages/branches/show-branches")}),2e3)):"error"!==e.status&&404!==e.status||(t.errorMsg=!0,t.successMessage=!1,t.errMsg=e.message,setTimeout((function(){t.handleErrors()}),3e3))}))}catch(n){console.log(n.message)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}]),e}(),Yt.\u0275fac=function(t){return new(t||Yt)(b.Tb(s.a),b.Tb(f),b.Tb(u.e),b.Tb(b.E),b.Tb(s.b),b.Tb(v.a),b.Tb(R.a))},Yt.\u0275cmp=b.Nb({type:Yt,selectors:[["app-update-branch-data"]],decls:103,vars:12,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],["target",""],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","inputName","placeholder","Enter Branch Name","formControlName","name",1,"form-control"],[4,"ngFor","ngForOf"],["id","inputAddress","placeholder","Address","formControlName","address",1,"form-control"],[1,"form-row"],[1,"form-group","col-md-6"],["type","email","id","inputBcc","placeholder","Enter BCC Address","formControlName","outGoingMails",1,"form-control"],["type","text","placeholder","Enter Bank Name","formControlName","bankName",1,"form-control"],["type","text","placeholder","Enter Account Type","formControlName","bankType",1,"form-control"],["type","email","placeholder","Enter Account Number","formControlName","bankAccNum",1,"form-control"],["type","text","id","inputFax","placeholder","Enter Fax Number:","formControlName","fax",1,"form-control"],["type","text","id","inputCompanyNo","placeholder","Enter Official Branch Number","formControlName","officialNumber",1,"form-control"],[1,"col-md-6"],["type","text","id","inputTaxationno.","placeholder","Enter Taxation Number","formControlName","taxationNumber",1,"form-control"],["onkeyup","this.value = this.value.toUpperCase().trim();","type","text","id","inputPanno","placeholder","Enter PAN Number","formControlName","panNumber",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled","click"],["type","button","routerLink","../../show-branches",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"]],template:function(t,e){if(1&t){var n=b.ac();b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"h2",2,3),b.Ic(4,"Update Branch Details"),b.Yb(),b.Yb(),b.Zb(5,"div",4),b.Zb(6,"div",5),b.Gc(7,V,3,1,"p",6),b.Yb(),b.Zb(8,"div",5),b.Gc(9,Q,3,1,"p",7),b.Yb(),b.Zb(10,"form",8),b.gc("ngSubmit",(function(){return e.updateBranchFormData()})),b.Zb(11,"div",9),b.Zb(12,"label",10),b.Zb(13,"b"),b.Ic(14,"Name (to appear on reports):\xa0"),b.Zb(15,"span",11),b.Ic(16,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(17,"div",5),b.Ub(18,"input",12),b.Gc(19,W,2,1,"div",13),b.Yb(),b.Yb(),b.Zb(20,"div",9),b.Zb(21,"label",10),b.Zb(22,"b"),b.Ic(23,"Address:\xa0"),b.Zb(24,"span",11),b.Ic(25,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(26,"div",5),b.Ub(27,"textarea",14),b.Gc(28,et,2,1,"div",13),b.Yb(),b.Yb(),b.Zb(29,"div",15),b.Zb(30,"div",16),b.Zb(31,"div",9),b.Zb(32,"label",10),b.Zb(33,"b"),b.Ic(34,"BCC Address for all outgoing mails:"),b.Yb(),b.Yb(),b.Zb(35,"div",5),b.Ub(36,"input",17),b.Gc(37,at,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Zb(38,"div",16),b.Zb(39,"div",9),b.Zb(40,"label",10),b.Zb(41,"b"),b.Ic(42,"Bank Name:"),b.Yb(),b.Yb(),b.Zb(43,"div",5),b.Ub(44,"input",18),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(45,"div",15),b.Zb(46,"div",16),b.Zb(47,"div",9),b.Zb(48,"label",10),b.Zb(49,"b"),b.Ic(50,"Account Type:"),b.Yb(),b.Yb(),b.Zb(51,"div",5),b.Ub(52,"input",19),b.Yb(),b.Yb(),b.Yb(),b.Zb(53,"div",16),b.Zb(54,"div",9),b.Zb(55,"label",10),b.Zb(56,"b"),b.Ic(57,"Account Number:"),b.Yb(),b.Yb(),b.Zb(58,"div",5),b.Ub(59,"input",20),b.Gc(60,it,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(61,"div",15),b.Zb(62,"div",16),b.Zb(63,"div",9),b.Zb(64,"label",10),b.Zb(65,"b"),b.Ic(66,"Fax Number:"),b.Yb(),b.Yb(),b.Zb(67,"div",5),b.Ub(68,"input",21),b.Gc(69,ot,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Zb(70,"div",16),b.Zb(71,"div",9),b.Zb(72,"label",10),b.Zb(73,"b"),b.Ic(74,"Official Branch Number:\xa0"),b.Zb(75,"span",11),b.Ic(76,"*"),b.Yb(),b.Yb(),b.Yb(),b.Zb(77,"div",5),b.Ub(78,"input",22),b.Gc(79,bt,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(80,"div",15),b.Zb(81,"div",23),b.Zb(82,"div",9),b.Zb(83,"label",10),b.Zb(84,"b"),b.Ic(85,"Taxation No:"),b.Yb(),b.Yb(),b.Zb(86,"div",5),b.Ub(87,"input",24),b.Gc(88,lt,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Zb(89,"div",23),b.Zb(90,"div",9),b.Zb(91,"label",10),b.Zb(92,"b"),b.Ic(93,"PAN (Permanent Account Number):"),b.Yb(),b.Yb(),b.Zb(94,"div",5),b.Ub(95,"input",25),b.Gc(96,mt,2,1,"div",13),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(97,"div",9),b.Zb(98,"div",26),b.Zb(99,"button",27),b.gc("click",(function(){b.Bc(n);var t=b.Ac(3);return e.scroll(t)})),b.Ic(100,"Update Branch"),b.Yb(),b.Zb(101,"button",28),b.Ic(102,"Cancel"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()}2&t&&(b.Hb(7),b.pc("ngIf",e.errorMsg),b.Hb(2),b.pc("ngIf",e.successMessage),b.Hb(1),b.pc("formGroup",e.updateBranchForm),b.Hb(9),b.pc("ngForOf",e.validationMessage.name),b.Hb(9),b.pc("ngForOf",e.validationMessage.address),b.Hb(9),b.pc("ngForOf",e.validationMessage.outGoingMails),b.Hb(23),b.pc("ngForOf",e.validationMessage.bankAccNum),b.Hb(9),b.pc("ngForOf",e.validationMessage.fax),b.Hb(10),b.pc("ngForOf",e.validationMessage.officialNumber),b.Hb(9),b.pc("ngForOf",e.validationMessage.taxNumber),b.Hb(8),b.pc("ngForOf",e.validationMessage.panNumber),b.Hb(3),b.pc("disabled",e.updateBranchForm.invalid||-1===e.permissionInfo.search("Edit Branch")))},directives:[o.m,u.x,u.o,u.i,u.c,u.n,u.g,o.l,s.c],styles:[""]}),Yt)},{path:"show-departments/:branchId",component:(Zt=function(){function e(n,a,r,i){t(this,e),this.route=n,this.router=a,this.api=r,this.ngZone=i,this.departmentList=new Array,this.showDepartmentCard={}}return n(e,[{key:"ngOnInit",value:function(){this.getDepartmentListData()}},{key:"navigate",value:function(){this.router.navigateByUrl("/pages/branches/add-department/"+this.snapshotParam)}},{key:"getDepartmentListData",value:function(){var t=this;try{this.snapshotParam=this.route.snapshot.paramMap.get("branchId"),this.api.getDepartmentData(this.snapshotParam).subscribe((function(e){if("success"===e.status||200===e.status){t.departmentList=e.department;for(var n=Object.keys(e.department).length,a=0;a<n;a++)t.showDepartmentCard[t.departmentList[a]._id]=!0}}))}catch(e){console.log(e.message)}}},{key:"showData",value:function(t){try{this.showDepartmentCard[""+t]=!this.showDepartmentCard[""+t]}catch(e){console.log(e)}}},{key:"deleteList",value:function(t){var e=this;try{var n=J.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});n.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then((function(a){a.value?e.api.removeDepartmentData(t).subscribe((function(t){"success"!==t.status&&200!==t.status||(n.fire("Deleted!",t.message,"success"),e.ngZone.run((function(){e.router.navigateByUrl("/pages/branches/show-departments/"+e.snapshotParam)})),e.getDepartmentListData())})):a.dismiss===J.a.DismissReason.cancel&&n.fire("Cancelled","Your list data safe","error")}))}catch(a){console.log(a.message)}}}]),e}(),Zt.\u0275fac=function(t){return new(t||Zt)(b.Tb(s.a),b.Tb(s.b),b.Tb(f),b.Tb(b.E))},Zt.\u0275cmp=b.Nb({type:Zt,selectors:[["app-show-departments"]],decls:10,vars:1,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],[1,"btn","btn-primary",2,"float","right",3,"click"],[1,"fa","fa-plus-square"],[1,"panel-body"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[2,"cursor","pointer",3,"click"],[2,"float","right"],[1,"dropdown-toggle",3,"click"],[1,"card",2,"background-color","ghostwhite",3,"hidden"],[1,"table",2,"margin","auto"],[1,"btn","btn-primary",2,"float","right",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",2,"float","right",3,"click"],[1,"fa","fa-trash"]],template:function(t,e){1&t&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"h2"),b.Ic(3,"Departments List"),b.Yb(),b.Zb(4,"button",2),b.gc("click",(function(){return e.navigate()})),b.Ub(5,"i",3),b.Ic(6,"\xa0 Add Department"),b.Yb(),b.Yb(),b.Zb(7,"div",4),b.Zb(8,"ul",5),b.Gc(9,pt,25,6,"li",6),b.Yb(),b.Yb(),b.Yb()),2&t&&(b.Hb(9),b.pc("ngForOf",e.departmentList))},directives:[o.l,s.e],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),Zt)},{path:"update-department/:branchId/:departmentId",component:(vt=function(){function e(n,a,r,i,c){t(this,e),this.route=n,this.api=a,this.fb=r,this.ngZone=i,this.router=c,this.successMessage=!1,this.errorMsg=!1,this.departmentList=new Array,this.departmentData=new Array}return n(e,[{key:"ngOnInit",value:function(){this.snapshotParam=this.route.snapshot.paramMap.get("branchId"),this.departmentParam=this.route.snapshot.paramMap.get("departmentId"),this.updateFormValidation(),this.getExistingData()}},{key:"updateFormValidation",value:function(){try{this.updateDepartmentForm=this.fb.group({title:new u.f(null),description:new u.f(null)})}catch(t){console.log(t.message)}}},{key:"updateDepartmentFormData",value:function(){var t=this;try{this.updateDepartmentForm.valid&&this.api.updateDepartmentData(this.updateDepartmentForm.value,this.snapshotParam,this.departmentParam).subscribe((function(e){"success"===e.status||200===e.status?(t.successMessage=!0,setTimeout((function(){t.ngZone.run((function(){t.router.navigateByUrl("/pages/branches/show-departments/"+t.snapshotParam)}))}),1e3),t.errorMsg=!1,t.successMsg=e.message):"error"!==e.status&&404!==e.status||(t.errorMsg=!0,t.successMessage=!1,t.errMsg=e.message)}))}catch(e){console.log(e.message)}}},{key:"getExistingData",value:function(){var t=this;this.api.getDepartmentData(this.snapshotParam).subscribe((function(e){if("success"===e.status||200===e.status){t.departmentList=e.department;for(var n=Object.keys(t.departmentList).length,a=0;a<n;a++)t.departmentList[a]._id===t.departmentParam&&(t.departmentData.push(t.departmentList[a]),t.updateDepartmentForm=t.fb.group({title:new u.f(t.departmentList[a].title),description:new u.f(t.departmentList[a].description)}))}}))}}]),e}(),vt.\u0275fac=function(t){return new(t||vt)(b.Tb(s.a),b.Tb(f),b.Tb(u.e),b.Tb(b.E),b.Tb(s.b))},vt.\u0275cmp=b.Nb({type:vt,selectors:[["app-update-department"]],decls:12,vars:4,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],[1,"btn","btn-primary","btn-circle",2,"float","right",3,"routerLink"],[1,"fa","fa-arrow-right"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","form-horizontal","role","form","novalidate","",3,"formGroup","ngSubmit",4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","inputTitle","formControlName","title",1,"form-control"],["type","text","id","inputDescription","formControlName","description",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,e){1&t&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"h2",2),b.Ic(3,"Update Department Details"),b.Yb(),b.Zb(4,"a",3),b.Ub(5,"i",4),b.Yb(),b.Yb(),b.Zb(6,"div",5),b.Zb(7,"div",6),b.Gc(8,ht,3,1,"p",7),b.Yb(),b.Zb(9,"div",6),b.Gc(10,gt,3,1,"p",8),b.Yb(),b.Gc(11,ft,19,2,"form",9),b.Yb(),b.Yb()),2&t&&(b.Hb(4),b.rc("routerLink","../../../show-departments/",e.snapshotParam,""),b.Hb(4),b.pc("ngIf",e.errorMsg),b.Hb(2),b.pc("ngIf",e.successMessage),b.Hb(1),b.pc("ngForOf",e.departmentData))},directives:[s.e,o.m,o.l,u.x,u.o,u.i,u.c,u.n,u.g],styles:[""]}),vt)},{path:"",redirectTo:"show-branches",pathMatch:"full"}]}],Mt=((It=function e(){t(this,e)}).\u0275mod=b.Rb({type:It}),It.\u0275inj=b.Qb({factory:function(t){return new(t||It)},imports:[[o.c,s.f.forChild(Nt)]]}),It),Ct=((yt=function e(){t(this,e)}).\u0275mod=b.Rb({type:yt}),yt.\u0275inj=b.Qb({factory:function(t){return new(t||yt)},providers:[l.a,f],imports:[[o.c,Mt,s.f,m.b,u.j,u.s]]}),yt)}}])}();
//# sourceMappingURL=12-es5.860f5e19fe6f4e1db0e5.js.map