(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{pkwT:function(t,e,s){"use strict";s.r(e),s.d(e,"JobCategoryModule",(function(){return N}));var o=s("ofXK"),r=s("tyNb"),a=s("fXoL");let i=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["app-job-category"]],decls:1,vars:0,template:function(t,e){1&t&&a.Ub(0,"router-outlet")},directives:[r.g],styles:[""]}),t})();var c=s("CG1p"),b=s("PSD3"),n=s.n(b),l=s("VFOk"),g=s("cnwL");function u(t,e){1&t&&(a.Zb(0,"td"),a.Ub(1,"i",12),a.Yb())}function d(t,e){1&t&&(a.Zb(0,"td"),a.Ub(1,"i",13),a.Yb())}function h(t,e){if(1&t){const t=a.ac();a.Zb(0,"tbody"),a.Zb(1,"tr"),a.Zb(2,"td"),a.Zb(3,"b"),a.Ic(4),a.Yb(),a.Yb(),a.Zb(5,"td"),a.Ic(6),a.Yb(),a.Gc(7,u,2,0,"td",7),a.Gc(8,d,2,0,"td",7),a.Zb(9,"td"),a.Zb(10,"a",8),a.Ub(11,"i",9),a.Yb(),a.Ic(12,"\xa0 "),a.Zb(13,"button",10),a.gc("click",(function(){a.Bc(t);const s=e.$implicit;return a.jc().showConfirmationMessage(s._id)})),a.Ub(14,"i",11),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=e.$implicit,s=e.index,o=a.jc();a.Hb(4),a.Kc("",s+1,"."),a.Hb(2),a.Kc(" ",t.categoryName," "),a.Hb(1),a.pc("ngIf",t.isActive),a.Hb(1),a.pc("ngIf",!t.isActive),a.Hb(2),a.Lb("disabled",-1===o.permissionInfo.search("Edit JobCategory")),a.rc("routerLink","/pages/job-category/update-job-category/",t._id,""),a.Hb(3),a.pc("disabled",-1===o.permissionInfo.search("Delete JobCategory"))}}let m=(()=>{class t{constructor(t,e,s,o){this.api=t,this.route=e,this._Activatedroute=s,this.util=o,this.showCard={},this.companyShowData=[],this.leaveListData=[]}ngOnInit(){this.jobList(),this.permissionInfo=this.util.permissionRoleInfo}jobList(){try{this.api.getJobCategoryData().subscribe(t=>{if("success"===t.status||200===t.status)if(this.leaveListData=t.jobCategory,0==this.leaveListData.length)this.route.navigateByUrl("/pages/job-category/add-job-category");else for(var e=0;e<this.leaveListData.length;e++)this.showCard[this.leaveListData[e]._id]=!0,this.isActive=1==t.jobCategory[e].isActive})}catch(t){console.log(t.message)}}showConfirmationMessage(t){const e=n.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then(s=>{s.value?this.api.removeData(t).subscribe(t=>{"success"!==t.status&&200!==t.status||(e.fire("Deleted!",t.message,"success"),this.jobList())}):s.dismiss===n.a.DismissReason.cancel&&e.fire("Cancelled","Your list data safe","error")})}addJobCategory(){try{this.util.jobCategoryStatus=1}catch(t){console.log(t)}}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(l.a),a.Tb(r.b),a.Tb(r.a),a.Tb(g.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-list-job-category"]],decls:17,vars:2,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["type","button","routerLink","/pages/job-category/add-job-category",1,"btn","btn-primary",2,"float","right",3,"disabled","click"],[1,"fa","fa-plus-square"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash"],[1,"fa","fa-check",2,"color","green","font-size","25px"],[1,"fa","fa-times",2,"color","red","font-size","25px"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2"),a.Ic(3,"Job Category"),a.Yb(),a.Zb(4,"button",2),a.gc("click",(function(){return e.addJobCategory()})),a.Ub(5,"i",3),a.Ic(6,"\xa0 Add Job Category"),a.Yb(),a.Yb(),a.Zb(7,"table",4),a.Zb(8,"thead",5),a.Zb(9,"tr"),a.Zb(10,"th"),a.Ic(11," S.No"),a.Yb(),a.Zb(12,"th"),a.Ic(13," Category Name"),a.Yb(),a.Zb(14,"th"),a.Ic(15," Is Active"),a.Yb(),a.Yb(),a.Yb(),a.Gc(16,h,15,8,"tbody",6),a.Yb(),a.Yb()),2&t&&(a.Hb(4),a.pc("disabled",-1===e.permissionInfo.search("Create JobCategory")),a.Hb(12),a.pc("ngForOf",e.leaveListData))},directives:[r.c,o.l,o.m,r.e],encapsulation:2}),t})();var p=s("3Pt+");function f(t,e){if(1&t&&(a.Zb(0,"p",17),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&t){const t=a.jc();a.Hb(2),a.Jc(t.errMsg)}}function y(t,e){if(1&t&&(a.Zb(0,"p",18),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&t){const t=a.jc();a.Hb(2),a.Jc(t.successMsg)}}function v(t,e){if(1&t&&(a.Zb(0,"div",20),a.Ic(1),a.Yb()),2&t){const t=a.jc().$implicit;a.Hb(1),a.Kc(" ",t.message," ")}}function Z(t,e){if(1&t&&(a.Zb(0,"div"),a.Gc(1,v,2,1,"div",19),a.Yb()),2&t){const t=e.$implicit,s=a.jc();a.Hb(1),a.pc("ngIf",s.jobForm.get("categoryName").hasError(t.type)&&(s.jobForm.get("categoryName").dirty||s.jobForm.get("categoryName").touched))}}function Y(t,e){if(1&t&&(a.Zb(0,"p",17),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&t){const t=a.jc();a.Hb(2),a.Jc(t.errMsg)}}function j(t,e){if(1&t&&(a.Zb(0,"p",18),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&t){const t=a.jc();a.Hb(2),a.Jc(t.successMsg)}}function I(t,e){if(1&t&&(a.Zb(0,"div",20),a.Ic(1),a.Yb()),2&t){const t=a.jc().$implicit;a.Hb(1),a.Kc(" ",t.message," ")}}function C(t,e){if(1&t&&(a.Zb(0,"div"),a.Gc(1,I,2,1,"div",19),a.Yb()),2&t){const t=e.$implicit,s=a.jc();a.Hb(1),a.pc("ngIf",s.jobForm.get("categoryName").hasError(t.type)&&(s.jobForm.get("categoryName").dirty||s.jobForm.get("categoryName").touched))}}const M=[{path:"",component:i,canActivate:[c.a],children:[{path:"list-job-category",component:m},{path:"add-job-category",component:(()=>{class t{constructor(t,e,s,o,r){this.fb=t,this.ngZone=e,this.router=s,this.api=o,this.util=r,this.successMessage=!1,this.errorMsg=!1,this.companyName=[],this.validationMessage={categoryName:[{type:"required",message:"Category Name is Required"}]},this.isListAvaliable()}ngOnInit(){this.companyDataValidate(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Create JobCategory")&&this.jobForm.disable()}companyDataValidate(){try{this.jobForm=this.fb.group({categoryName:new p.f("",p.v.required),isActive:new p.f(!1)})}catch(t){console.log(t)}}jobFormData(){try{let t=this.util.cleanFormLevelOne(this.jobForm);this.jobForm.value&&this.api.addJobCategoy(t.value).subscribe(t=>{"success"===t.status||200===t.status?(this.successMessage=!0,this.errorMsg=!1,this.successMsg=t.message,setTimeout(()=>{this.handleErrors(),this.ngZone.run(()=>this.router.navigateByUrl("/pages/job-category/list-job-category"))},2e3)):"error"!==t.status&&404!==t.status||(this.errorMsg=!0,this.successMessage=!1,this.errMsg=t.message,setTimeout(()=>{this.handleErrors()},3e3))})}catch(t){console.log(t)}}handleErrors(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}isListAvaliable(){try{this.api.getJobCategoryData().subscribe(t=>{"success"===t.status&&t.jobCategory.length>0&&1!==this.util.jobCategoryStatus&&(this.router.navigateByUrl("/pages/job-category/list-job-category"),this.util.jobCategoryStatus=0)})}catch(t){console.log(t)}}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(p.e),a.Tb(a.E),a.Tb(r.b),a.Tb(l.a),a.Tb(g.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-add-job-category"]],decls:32,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","CategoryName","placeholder","Enter Category Name","formControlName","categoryName","required","",1,"form-control"],[4,"ngFor","ngForOf"],["type","checkbox","formControlName","isActive"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-job-category",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2",2),a.Ic(3,"Job Category Details"),a.Yb(),a.Yb(),a.Zb(4,"div",3),a.Zb(5,"div",4),a.Gc(6,f,3,1,"p",5),a.Yb(),a.Zb(7,"div",4),a.Gc(8,y,3,1,"p",6),a.Yb(),a.Zb(9,"form",7),a.gc("ngSubmit",(function(){return e.jobFormData()})),a.Zb(10,"div",8),a.Ic(11," \xa0"),a.Zb(12,"label",9),a.Zb(13,"b"),a.Ic(14,"Category Name:\xa0"),a.Zb(15,"span",10),a.Ic(16,"*"),a.Yb(),a.Yb(),a.Yb(),a.Zb(17,"div",4),a.Ub(18,"input",11),a.Gc(19,Z,2,1,"div",12),a.Yb(),a.Yb(),a.Zb(20,"div",8),a.Zb(21,"div",4),a.Zb(22,"label"),a.Zb(23,"b"),a.Ic(24,"Is Active: "),a.Yb(),a.Yb(),a.Ub(25,"input",13),a.Yb(),a.Yb(),a.Zb(26,"div",8),a.Zb(27,"div",14),a.Zb(28,"button",15),a.Ic(29,"Submit"),a.Yb(),a.Zb(30,"button",16),a.Ic(31,"Cancel"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Hb(6),a.pc("ngIf",e.errorMsg),a.Hb(2),a.pc("ngIf",e.successMessage),a.Hb(1),a.pc("formGroup",e.jobForm),a.Hb(10),a.pc("ngForOf",e.validationMessage.categoryName),a.Hb(9),a.pc("disabled",e.jobForm.invalid||-1===e.permissionInfo.search("Create JobCategory")))},directives:[o.m,p.x,p.o,p.i,p.c,p.n,p.g,p.t,o.l,p.b,r.c],encapsulation:2}),t})()},{path:"update-job-category/:jobCategoryId",component:(()=>{class t{constructor(t,e,s,o,r,a){this.fb=t,this.router=e,this.ngZone=s,this.route=o,this.api=r,this.util=a,this.successMessage=!1,this.errorMsg=!1,this.leaveData=[],this.validationMessage={categoryName:[{type:"required",message:"Category Name is required"}]},this.jobCategoryId=this.route.snapshot.paramMap.get("jobCategoryId"),this.util.moduleExists(this.jobCategoryId,"JobCategory").subscribe(t=>{"success"===t.status&&(t.data||this.router.navigateByUrl("/pages/job-category/list-job-category"))})}ngOnInit(){this.companyDataValidate(),this.getExistingData(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Edit JobCategory")&&this.jobForm.disable()}getExistingData(){this.api.jobCategoryDetails(this.jobCategoryId).subscribe(t=>{this.leaveFormData=t.data,this.jobForm=this.fb.group({categoryName:new p.f(this.leaveFormData.categoryName),isActive:new p.f(this.leaveFormData.isActive)})})}companyDataValidate(){try{this.jobForm=this.fb.group({categoryName:new p.f("",p.v.required),isActive:new p.f(!1)})}catch(t){console.log(t)}}updateJobForm(){try{let t=this.util.cleanFormLevelOne(this.jobForm);this.jobForm.value&&this.api.updateJobCategory(t.value,this.jobCategoryId).subscribe(t=>{"success"===t.status||200===t.status?(this.successMessage=!0,this.errorMsg=!1,this.successMsg=t.message,setTimeout(()=>{this.handleErrors(),this.ngZone.run(()=>this.router.navigateByUrl("/pages/job-category/list-job-category"))},2e3)):"error"==t.status&&(this.errorMsg=!0,this.successMessage=!1,this.errMsg=t.message,setTimeout(()=>{this.handleErrors()},3e3))})}catch(t){console.log(t.message)}}handleErrors(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(p.e),a.Tb(r.b),a.Tb(a.E),a.Tb(r.a),a.Tb(l.a),a.Tb(g.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-update-job-category"]],decls:31,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","CategoryName","placeholder","Enter Category Name","formControlName","categoryName","required","",1,"form-control"],[4,"ngFor","ngForOf"],["type","checkbox","formControlName","isActive"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","submit","routerLink","../../list-job-category",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2",2),a.Ic(3,"Update Job Category"),a.Yb(),a.Yb(),a.Zb(4,"div",3),a.Zb(5,"div",4),a.Gc(6,Y,3,1,"p",5),a.Yb(),a.Zb(7,"div",4),a.Gc(8,j,3,1,"p",6),a.Yb(),a.Zb(9,"form",7),a.gc("ngSubmit",(function(){return e.updateJobForm()})),a.Zb(10,"div",8),a.Zb(11,"label",9),a.Zb(12,"b"),a.Ic(13,"Category Name:\xa0"),a.Zb(14,"span",10),a.Ic(15,"*"),a.Yb(),a.Yb(),a.Yb(),a.Zb(16,"div",4),a.Ub(17,"input",11),a.Gc(18,C,2,1,"div",12),a.Yb(),a.Yb(),a.Zb(19,"div",8),a.Zb(20,"div",4),a.Zb(21,"label"),a.Zb(22,"b"),a.Ic(23,"Is Active: "),a.Yb(),a.Yb(),a.Ub(24,"input",13),a.Yb(),a.Yb(),a.Zb(25,"div",8),a.Zb(26,"div",14),a.Zb(27,"button",15),a.Ic(28,"Update"),a.Yb(),a.Zb(29,"button",16),a.Ic(30,"Cancel"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Hb(6),a.pc("ngIf",e.errorMsg),a.Hb(2),a.pc("ngIf",e.successMessage),a.Hb(1),a.pc("formGroup",e.jobForm),a.Hb(9),a.pc("ngForOf",e.validationMessage.categoryName),a.Hb(9),a.pc("disabled",e.jobForm.invalid||-1===e.permissionInfo.search("Edit JobCategory")))},directives:[o.m,p.x,p.o,p.i,p.c,p.n,p.g,p.t,o.l,p.b,r.c],encapsulation:2}),t})()},{path:"",redirectTo:"list-job-category",pathMatch:"full"}]}];let F=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[o.c,r.f.forChild(M)]]}),t})(),N=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[o.c,F,p.j,p.s,r.f]]}),t})()}}]);
//# sourceMappingURL=20-es2015.ca52df8343bc565e5bc2.js.map