(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{TEzN:function(t,e,n){"use strict";n.r(e),n.d(e,"BranchesModule",(function(){return ut}));var a=n("ofXK"),r=n("tyNb"),i=n("fXoL");let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["app-branches"]],decls:1,vars:0,template:function(t,e){1&t&&i.Ub(0,"router-outlet")},directives:[r.g],styles:[""]}),t})();var s=n("CG1p"),o=n("3Pt+"),b=n("tk/3"),d=n("z6cu"),l=n("JIr8"),m=n("AytR");let p=(()=>{class t{constructor(t){this.http=t,this.endpoint=m.a.apiBaseUrl,this.headers=(new b.c).set("Contant-Type","application/x-www-form-urlencoded")}submitBranchFormData(t,e,n,a){try{return t.countryName=n,t.countryState=a,this.http.post(`${this.endpoint}/company/add-branch/${e}`,t).pipe(Object(l.a)(this.errorMgmt))}catch(r){console.log(r)}}getBranchListData(){try{const t=sessionStorage.getItem("companyId");return this.http.get(`${this.endpoint}/company/branch-list/${t}`).pipe(Object(l.a)(this.errorMgmt))}catch(t){console.log(t)}}getBranchDetails(t){try{return this.http.get(`${this.endpoint}/company/branch-details/${t}`).pipe(Object(l.a)(this.errorMgmt))}catch(e){console.log(e)}}submitUpdatedData(t,e){try{const n=sessionStorage.getItem("companyId");return this.http.post(`${this.endpoint}/company/update-branch/${n}/${e}`,t).pipe(Object(l.a)(this.errorMgmt))}catch(n){console.log(n.message)}}errorMgmt(t){try{let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error code:${t.status}\nMessage:${e}`,console.log(e),Object(d.a)(e)}catch(e){console.log(e)}}removeData(t){try{return this.http.delete(`${this.endpoint}/company/delete-branch/${t}`).pipe(Object(l.a)(this.errorMgmt))}catch(e){console.log(e.message)}}submitDepartmentData(t,e){try{return this.http.post(`${this.endpoint}/branch/add-department/${e}`,t).pipe(Object(l.a)(this.errorMgmt))}catch(n){console.log(n.message)}}updateDepartmentData(t,e,n){try{return this.http.post(`${this.endpoint}/branch/update-department/${e}/${n}`,t).pipe(Object(l.a)(this.errorMgmt))}catch(a){console.log(a.message)}}getDepartmentData(t){try{return this.http.get(`${this.endpoint}/branch/list-department/${t}`).pipe(Object(l.a)(this.errorMgmt))}catch(e){console.log(e)}}removeDepartmentData(t){try{return this.http.delete(`${this.endpoint}/branch/delete-department/${t}`).pipe(Object(l.a)(this.errorMgmt))}catch(e){console.log(e.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.dc(b.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=n("cnwL");function h(t,e){if(1&t&&(i.Zb(0,"p",35),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&t){const t=i.jc();i.Hb(2),i.Jc(t.errMsg)}}function g(t,e){if(1&t&&(i.Zb(0,"p",36),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&t){const t=i.jc();i.Hb(2),i.Jc(t.successMsg)}}function f(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function v(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,f,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("name").hasError(t.type)&&(n.branchForm.get("name").dirty||n.branchForm.get("name").touched))}}function Z(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function Y(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,Z,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("address").hasError(t.type)&&(n.branchForm.get("address").dirty||n.branchForm.get("address").touched))}}function y(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",16),i.Zb(1,"label",17),i.Zb(2,"b"),i.Ic(3,"State:"),i.Yb(),i.Yb(),i.Zb(4,"select",39),i.gc("change",(function(){return i.Bc(t),i.jc().stateName()})),i.Yb(),i.Yb()}}function I(t,e){1&t&&(i.Zb(0,"div",16),i.Zb(1,"label",17),i.Zb(2,"b"),i.Ic(3,"State:"),i.Yb(),i.Yb(),i.Zb(4,"select",40),i.Zb(5,"option",41),i.Ic(6,"----Country Not Selected----"),i.Yb(),i.Yb(),i.Yb())}function N(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function M(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,N,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("email").hasError(t.type)&&(n.branchForm.get("email").dirty||n.branchForm.get("email").touched))}}function C(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function x(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,C,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("outGoingMails").hasError(t.type)&&(n.branchForm.get("outGoingMails").dirty||n.branchForm.get("outGoingMails").touched))}}function O(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function B(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,O,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("bankAccNum").hasError(t.type)&&(n.branchForm.get("bankAccNum").dirty||n.branchForm.get("bankAccNum").touched))}}function w(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function F(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,w,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("officialNumber").hasError(t.type)&&(n.branchForm.get("officialNumber").dirty||n.branchForm.get("officialNumber").touched))}}function P(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function H(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,P,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("fax").hasError(t.type)&&(n.branchForm.get("fax").dirty||n.branchForm.get("fax").touched))}}function _(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function k(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,_,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("taxationNumber").hasError(t.type)&&(n.branchForm.get("taxationNumber").dirty||n.branchForm.get("taxationNumber").touched))}}function D(t,e){if(1&t&&(i.Zb(0,"div",38),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function A(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,D,2,1,"div",37),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.branchForm.get("panNumber").hasError(t.type)&&(n.branchForm.get("panNumber").dirty||n.branchForm.get("panNumber").touched))}}const $=function(t){return{display:t}};let L=(()=>{class t{constructor(t,e,n,a,r,i){this.route=t,this.api=e,this.fb=n,this.ngZone=a,this.router=r,this.util=i,this.successMessage=!1,this.errorMsg=!1,this.validationMessage={name:[{type:"required",message:"Name is required"}],email:[{type:"required",message:"Email is required"},{type:"pattern",message:"Enter a valid email"}],address:[{type:"required",message:"Address is required"}],officialNumber:[{type:"required",message:"Number is required"},{type:"minlength",message:"Number too short "},{type:"maxlength",message:"Number is too large"},{type:"pattern",message:"Company Number not valid"}],fax:[{type:"minlength",message:"Fax number too short "},{type:"maxlength",message:"Fax no. is too large"},{type:"pattern",message:"Fax Number not valid"}],outGoingMails:[{type:"pattern",message:"Invalid Mail"}],taxNumber:[{type:"pattern",message:"Invalid Taxation No."}],panNumber:[{type:"pattern",message:"Invalid PAN Number"}],bankAccNum:[{type:"maxlength",message:"Account No. limit exceeded"},{type:"pattern",message:"Invalid Account No."}]},this.isListAvaliable()}ngOnInit(){this.permissionInfo=this.util.permissionRoleInfo,this.branchDataValidate(),populateCountries("country","state"),this.snapshotParam=sessionStorage.getItem("companyId"),-1===this.permissionInfo.search("Create Branch")&&this.branchForm.disable()}branchDataValidate(){try{this.branchForm=this.fb.group({name:new o.f("",o.v.compose([o.v.required])),officialNumber:new o.f("",o.v.compose([o.v.required,o.v.minLength(10),o.v.maxLength(15),o.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$")])),email:new o.f("",o.v.compose([o.v.required,o.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),fax:new o.f("",o.v.compose([o.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$"),o.v.minLength(10),o.v.maxLength(10)])),address:new o.f("",o.v.required),outGoingMails:new o.f("",o.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")),taxationNumber:new o.f(""),panNumber:new o.f("",o.v.pattern("(^[A-Za-z]{5}[0-9]{4}[A-Za-z]$)")),bankName:new o.f(""),bankAccNum:new o.f("",o.v.compose([o.v.maxLength(16),o.v.pattern(/^[0-9]*$/)])),bankType:new o.f("")})}catch(t){console.log(t)}}scroll(t){t.scrollIntoView()}branchFormData(){try{let t=this.util.cleanFormLevelOne(this.branchForm);this.branchForm.valid&&this.api.submitBranchFormData(t.value,this.snapshotParam,this.selectCountryName,this.selectStateName).subscribe(t=>{"success"===t.status||200===t.status?(this.successMessage=!0,this.errorMsg=!1,this.successMsg=t.message,setTimeout(()=>{this.handleErrors(),this.ngZone.run(()=>this.router.navigateByUrl("/pages/branches/show-branches"))},1500)):"error"==t.status&&(this.errorMsg=!0,this.successMessage=!1,this.errMsg=t.message,setTimeout(()=>{this.handleErrors()},4e3))})}catch(t){console.log(t)}}handleErrors(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}isListAvaliable(){try{this.api.getBranchListData().subscribe(t=>{"success"===t.status&&t.branch.length>0&&1!==this.util.branchesSatus&&(this.router.navigateByUrl("/pages/branches/show-branches"),this.util.branchesSatus=0)})}catch(t){console.log(t)}}countryName(){"-1"===document.getElementById("country").value?(this.countryMsg="Country Name is Required",this.stateOption=!1):(this.selectCountryName=document.getElementById("country").value,this.countryMsg="",this.stateOption=!0,this.stateName())}stateName(){this.selectStateName=null===document.getElementById("state")||""===document.getElementById("state").value?"":document.getElementById("state").value}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(r.a),i.Tb(p),i.Tb(o.e),i.Tb(i.E),i.Tb(r.b),i.Tb(u.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-add-branches"]],decls:126,vars:19,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title"],["target",""],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","inputName","placeholder","Enter Branch Name","formControlName","name",1,"form-control"],[4,"ngFor","ngForOf"],["id","inputAddress","placeholder","Address","formControlName","address",1,"form-control"],[1,"form-row"],[1,"form-group","col-md-6"],[1,"col-sm-4","control-label"],["id","country","name","country",1,"dropdown","dropdown-toggle","form-control",3,"change"],[3,"ngStyle"],[2,"color","red"],["class","form-group col-md-6",4,"ngIf"],["type","email","id","inputEmail","placeholder","Enter Email ","formControlName","email",1,"form-control"],["type","email","id","inputBcc","placeholder","Enter BCC Address","formControlName","outGoingMails",1,"form-control"],["type","email","placeholder","Enter Bank Name ","formControlName","bankName",1,"form-control"],["type","email","placeholder","Enter Account Type","formControlName","bankType",1,"form-control"],["type","text","id","inputFax","placeholder","Enter Account Number:","formControlName","bankAccNum",1,"form-control"],["type","text","id","inputCompanyNo","placeholder","Enter Official Branch Number","formControlName","officialNumber",1,"form-control"],["type","text","id","inputFax","placeholder","Enter Fax Number:","formControlName","fax",1,"form-control"],[1,"col-md-6"],["type","text","id","inputTaxationno.","placeholder","Enter Taxation Number","formControlName","taxationNumber",1,"form-control"],["onkeyup","this.value = this.value.toUpperCase().trim();","type","text","id","inputPanno","placeholder","Enter PAN Number","formControlName","panNumber",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled","click"],["type","submit","routerLink","../show-branches",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"],["name","state","id","state",1,"dropdown","dropdown-toggle","form-control",3,"change"],["disabled","",1,"dropdown","dropdown-toggle","form-control"],[1,"dropdown-item"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"h2",2,3),i.Ic(4,"Branch Details"),i.Yb(),i.Yb(),i.Zb(5,"div",4),i.Zb(6,"div",5),i.Gc(7,h,3,1,"p",6),i.Yb(),i.Zb(8,"div",5),i.Gc(9,g,3,1,"p",7),i.Yb(),i.Zb(10,"form",8),i.gc("ngSubmit",(function(){return e.branchFormData()})),i.Zb(11,"div",9),i.Zb(12,"label",10),i.Zb(13,"b"),i.Ic(14,"Name (to appear on reports):\xa0"),i.Zb(15,"span",11),i.Ic(16,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(17,"div",5),i.Ub(18,"input",12),i.Gc(19,v,2,1,"div",13),i.Yb(),i.Yb(),i.Zb(20,"div",9),i.Zb(21,"label",10),i.Zb(22,"b"),i.Ic(23,"Address:\xa0"),i.Zb(24,"span",11),i.Ic(25,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(26,"div",5),i.Ub(27,"textarea",14),i.Gc(28,Y,2,1,"div",13),i.Yb(),i.Yb(),i.Zb(29,"div",15),i.Zb(30,"div",16),i.Zb(31,"label",17),i.Zb(32,"b"),i.Ic(33,"Country:\xa0"),i.Zb(34,"span",11),i.Ic(35,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(36,"select",18),i.gc("change",(function(){return e.countryName()})),i.Yb(),i.Zb(37,"div",19),i.Zb(38,"p",20),i.Ic(39),i.Yb(),i.Yb(),i.Yb(),i.Gc(40,y,5,0,"div",21),i.Gc(41,I,7,0,"div",21),i.Yb(),i.Zb(42,"div",15),i.Zb(43,"div",16),i.Zb(44,"div",9),i.Zb(45,"label",10),i.Zb(46,"b"),i.Ic(47,"Email Address:\xa0"),i.Zb(48,"span",11),i.Ic(49,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(50,"div",5),i.Ub(51,"input",22),i.Gc(52,M,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(53,"div",16),i.Zb(54,"div",9),i.Zb(55,"label",10),i.Zb(56,"b"),i.Ic(57,"BCC Address for all outgoing mails:"),i.Yb(),i.Yb(),i.Zb(58,"div",5),i.Ub(59,"input",23),i.Gc(60,x,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(61,"div",15),i.Zb(62,"div",16),i.Zb(63,"div",9),i.Zb(64,"label",10),i.Zb(65,"b"),i.Ic(66,"Bank Name:"),i.Yb(),i.Yb(),i.Zb(67,"div",5),i.Ub(68,"input",24),i.Yb(),i.Yb(),i.Yb(),i.Zb(69,"div",16),i.Zb(70,"div",9),i.Zb(71,"label",10),i.Zb(72,"b"),i.Ic(73,"Account Type:"),i.Yb(),i.Yb(),i.Zb(74,"div",5),i.Ub(75,"input",25),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(76,"div",15),i.Zb(77,"div",16),i.Zb(78,"div",9),i.Zb(79,"label",10),i.Zb(80,"b"),i.Ic(81,"Account No:"),i.Yb(),i.Yb(),i.Zb(82,"div",5),i.Ub(83,"input",26),i.Gc(84,B,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(85,"div",16),i.Zb(86,"div",9),i.Zb(87,"label",10),i.Zb(88,"b"),i.Ic(89,"Official Branch Number:\xa0"),i.Zb(90,"span",11),i.Ic(91,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(92,"div",5),i.Ub(93,"input",27),i.Gc(94,F,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(95,"div",15),i.Zb(96,"div",16),i.Zb(97,"div",9),i.Zb(98,"label",10),i.Zb(99,"b"),i.Ic(100,"Fax Number:"),i.Yb(),i.Yb(),i.Zb(101,"div",5),i.Ub(102,"input",28),i.Gc(103,H,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(104,"div",29),i.Zb(105,"div",9),i.Zb(106,"label",10),i.Zb(107,"b"),i.Ic(108,"Taxation No:"),i.Yb(),i.Yb(),i.Zb(109,"div",5),i.Ub(110,"input",30),i.Gc(111,k,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(112,"div",29),i.Zb(113,"div",9),i.Zb(114,"label",10),i.Zb(115,"b"),i.Ic(116,"PAN (Permanent Account Number):"),i.Yb(),i.Yb(),i.Zb(117,"div",5),i.Ub(118,"input",31),i.Gc(119,A,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(120,"div",9),i.Zb(121,"div",32),i.Zb(122,"button",33),i.gc("click",(function(){i.Bc(t);const n=i.Ac(3);return e.scroll(n)})),i.Ic(123,"Add Branch"),i.Yb(),i.Zb(124,"button",34),i.Ic(125,"Cancel"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}2&t&&(i.Hb(7),i.pc("ngIf",e.errorMsg),i.Hb(2),i.pc("ngIf",e.successMessage),i.Hb(1),i.pc("formGroup",e.branchForm),i.Hb(9),i.pc("ngForOf",e.validationMessage.name),i.Hb(9),i.pc("ngForOf",e.validationMessage.address),i.Hb(9),i.pc("ngStyle",i.vc(17,$,void 0===e.countryMsg?"none":"block")),i.Hb(2),i.Jc(e.countryMsg),i.Hb(1),i.pc("ngIf",e.stateOption),i.Hb(1),i.pc("ngIf",!e.stateOption),i.Hb(11),i.pc("ngForOf",e.validationMessage.email),i.Hb(8),i.pc("ngForOf",e.validationMessage.outGoingMails),i.Hb(24),i.pc("ngForOf",e.validationMessage.bankAccNum),i.Hb(10),i.pc("ngForOf",e.validationMessage.officialNumber),i.Hb(9),i.pc("ngForOf",e.validationMessage.fax),i.Hb(8),i.pc("ngForOf",e.validationMessage.taxNumber),i.Hb(8),i.pc("ngForOf",e.validationMessage.panNumber),i.Hb(3),i.pc("disabled",e.branchForm.invalid||e.countryMsg||void 0===e.countryMsg))},directives:[a.m,o.x,o.o,o.i,o.c,o.n,o.g,a.l,a.n,r.c,o.q,o.w],styles:[".card-title[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}.dropdown[_ngcontent-%COMP%]{max-height:35px}.btn-circle[_ngcontent-%COMP%]{cursor:pointer}.delete-button[_ngcontent-%COMP%]{margin:15px 0}.delete-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:6px;background:#a20909;margin-top:30px}"]}),t})();var E=n("PSD3"),G=n.n(E);function j(t,e){if(1&t){const t=i.ac();i.Zb(0,"li",7),i.Zb(1,"strong"),i.Zb(2,"b",8),i.gc("click",(function(){i.Bc(t);const n=e.$implicit;return i.jc().showData(n._id)})),i.Ic(3),i.Yb(),i.Yb(),i.Zb(4,"div",9),i.Zb(5,"i",10),i.gc("click",(function(){i.Bc(t);const n=e.$implicit;return i.jc().showData(n._id)})),i.Yb(),i.Yb(),i.Zb(6,"div",11),i.Zb(7,"table",12),i.Zb(8,"tr"),i.Zb(9,"td"),i.Zb(10,"b"),i.Ic(11,"Name:"),i.Yb(),i.Yb(),i.Zb(12,"td"),i.Ic(13),i.Yb(),i.Zb(14,"td"),i.Zb(15,"b"),i.Ic(16,"Address:"),i.Yb(),i.Yb(),i.Zb(17,"td"),i.Ic(18),i.Yb(),i.Yb(),i.Zb(19,"tr"),i.Zb(20,"td"),i.Zb(21,"b"),i.Ic(22,"Official Number:"),i.Yb(),i.Yb(),i.Zb(23,"td"),i.Ic(24),i.Yb(),i.Zb(25,"td"),i.Zb(26,"b"),i.Ic(27,"Fax:"),i.Yb(),i.Yb(),i.Zb(28,"td"),i.Ic(29),i.Yb(),i.Yb(),i.Zb(30,"tr"),i.Zb(31,"td"),i.Zb(32,"b"),i.Ic(33,"Email:"),i.Yb(),i.Yb(),i.Zb(34,"td"),i.Ic(35),i.Yb(),i.Zb(36,"td"),i.Zb(37,"b"),i.Ic(38,"Bank Name:"),i.Yb(),i.Yb(),i.Zb(39,"td"),i.Ic(40),i.Yb(),i.Yb(),i.Zb(41,"tr"),i.Zb(42,"td"),i.Zb(43,"b"),i.Ic(44,"Account No:"),i.Yb(),i.Yb(),i.Zb(45,"td"),i.Ic(46),i.Yb(),i.Zb(47,"td"),i.Zb(48,"b"),i.Ic(49,"Country Name:"),i.Yb(),i.Yb(),i.Zb(50,"td"),i.Ic(51),i.Yb(),i.Yb(),i.Zb(52,"tr"),i.Zb(53,"td"),i.Zb(54,"b"),i.Ic(55,"Taxation No:"),i.Yb(),i.Yb(),i.Zb(56,"td"),i.Ic(57),i.Yb(),i.Zb(58,"td"),i.Zb(59,"b"),i.Ic(60,"State Name:"),i.Yb(),i.Yb(),i.Zb(61,"td"),i.Ic(62),i.Yb(),i.Yb(),i.Zb(63,"tr"),i.Zb(64,"td"),i.Zb(65,"b"),i.Ic(66,"PAN No:"),i.Yb(),i.Yb(),i.Zb(67,"td"),i.Ic(68),i.Yb(),i.Zb(69,"td"),i.Zb(70,"b"),i.Ic(71,"Currency:"),i.Yb(),i.Yb(),i.Zb(72,"td"),i.Ic(73),i.Yb(),i.Yb(),i.Zb(74,"tr"),i.Zb(75,"td"),i.Zb(76,"b"),i.Ic(77,"BCC Address for all outgoing mails:"),i.Yb(),i.Yb(),i.Zb(78,"td"),i.Ic(79),i.Yb(),i.Ub(80,"td"),i.Ub(81,"td"),i.Yb(),i.Yb(),i.Zb(82,"div"),i.Zb(83,"a",13),i.Ub(84,"i",14),i.Yb(),i.Zb(85,"button",15),i.gc("click",(function(){i.Bc(t);const n=e.$implicit;return i.jc().showConfirmationMessage(n._id)})),i.Ub(86,"i",16),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.jc();i.Hb(3),i.Jc(t.name),i.Hb(3),i.pc("hidden",n.showBranchCard[t._id]),i.Hb(7),i.Jc(t.name),i.Hb(5),i.Jc(t.address),i.Hb(6),i.Jc(t.officialNumber),i.Hb(5),i.Jc(t.fax),i.Hb(6),i.Jc(t.email),i.Hb(5),i.Jc(t.bankName),i.Hb(6),i.Jc(t.bankAccNum),i.Hb(5),i.Jc(t.countryName),i.Hb(6),i.Jc(t.taxationNumber),i.Hb(5),i.Jc(t.countryState),i.Hb(6),i.Jc(t.panNumber),i.Hb(5),i.Jc(t.currency),i.Hb(6),i.Jc(t.outGoingMails),i.Hb(4),i.Lb("disabled",-1===n.permissionInfo.search("Edit Branch")),i.rc("routerLink","../update-branch-data/",t._id,""),i.Hb(2),i.pc("disabled",-1===n.permissionInfo.search("Delete Branch"))}}let T=(()=>{class t{constructor(t,e,n,a,r){this.api=t,this.route=e,this.ngZone=n,this.router=a,this.util=r,this.branchList=[],this.showBranchCard={}}ngOnInit(){this.permissionInfo=this.util.permissionRoleInfo,this.showBranchList()}showBranchList(){try{this.api.getBranchListData().subscribe(t=>{if("success"===t.status||200===t.status)if(this.branchList=t.branch,0==t.branch.length)this.router.navigateByUrl("/pages/branches/add-branch");else for(var e=0;e<this.branchList.length;e++)this.showBranchCard[this.branchList[e]._id]=!0})}catch(t){console.log(t)}}showData(t){try{this.showBranchCard[""+t]=!this.showBranchCard[""+t]}catch(e){console.log(e)}}showConfirmationMessage(t){try{const e=G.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then(n=>{n.value?this.api.removeData(t).subscribe(t=>{"success"===t.status||200===t.status?(e.fire("Deleted!",t.message,"success"),this.ngZone.run(()=>{this.router.navigateByUrl("/pages/branches/show-branches")}),this.showBranchList()):"error"===t.status&&e.fire("ERROR!",t.message,"error")}):n.dismiss===G.a.DismissReason.cancel&&e.fire("Cancelled","Your list data safe","error")})}catch(e){console.log(e.message)}}addBranches(){try{this.util.branchesSatus=1}catch(t){console.log(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(p),i.Tb(r.a),i.Tb(i.E),i.Tb(r.b),i.Tb(u.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-show-branches"]],decls:10,vars:3,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["routerLink","../add-branch",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"fa","fa-plus-square"],[1,"panel-body"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[2,"cursor","pointer",3,"click"],[2,"float","right"],[1,"dropdown-toggle",3,"click"],[1,"card",2,"background-color","ghostwhite",3,"hidden"],[1,"table",2,"margin","auto"],[1,"btn","btn-primary",2,"float","right",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",2,"float","right",3,"disabled","click"],[1,"fa","fa-trash"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"h2"),i.Ic(3,"Branches List"),i.Yb(),i.Zb(4,"a",2),i.gc("click",(function(){return e.addBranches()})),i.Ub(5,"i",3),i.Ic(6,"\xa0 Add Branch"),i.Yb(),i.Yb(),i.Zb(7,"div",4),i.Zb(8,"ul",5),i.Gc(9,j,87,19,"li",6),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Hb(4),i.Lb("disabled",-1===e.permissionInfo.search("Create Branch")),i.Hb(5),i.pc("ngForOf",e.branchList))},directives:[r.e,a.l],styles:["i[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;text-align:left;overflow:hidden}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid #ecf0f1;padding:10px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid #ecf0f1;border-right:1px solid #ecf0f1}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4ecdc4}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n)   td[_ngcontent-%COMP%]{background-color:#d9f4f2}table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right;font-weight:700}.mobile-header[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:760px){p[_ngcontent-%COMP%]{display:block;font-weight:700}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.total-val), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child){display:none}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n)   td[_ngcontent-%COMP%]:first-child{background-color:#d9f4f2}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n)   td[_ngcontent-%COMP%]:not(:first-child), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd)   td[_ngcontent-%COMP%]:first-child{background-color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:100%;display:block}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child){width:40%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child){transition:transform .4s ease-out;transform:translateY(-9999px);position:relative;z-index:-1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){width:60%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{display:block;cursor:pointer}table[_ngcontent-%COMP%]   tr.total[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:25%;display:inline-block}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.total-val[_ngcontent-%COMP%]{display:inline-block;transform:translateY(0);width:75%}}@media only screen and (max-width:300px){table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child), table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child){width:50%;font-size:14px}}"]}),t})();var U=n("H+bZ");function q(t,e){if(1&t&&(i.Zb(0,"p",29),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&t){const t=i.jc();i.Hb(2),i.Jc(t.errMsg)}}function J(t,e){if(1&t&&(i.Zb(0,"p",30),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&t){const t=i.jc();i.Hb(2),i.Jc(t.successMsg)}}function S(t,e){if(1&t&&(i.Zb(0,"div",32),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function z(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,S,2,1,"div",31),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.updateBranchForm.get("name").hasError(t.type)&&(n.updateBranchForm.get("name").dirty||n.updateBranchForm.get("name").touched))}}function K(t,e){if(1&t&&(i.Zb(0,"div",32),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function R(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,K,2,1,"div",31),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.updateBranchForm.get("address").hasError(t.type)&&(n.updateBranchForm.get("address").dirty||n.updateBranchForm.get("address").touched))}}function V(t,e){if(1&t&&(i.Zb(0,"div",32),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function Q(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,V,2,1,"div",33),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.updateBranchForm.get("outGoingMails").hasError(t.type)&&(n.updateBranchForm.get("outGoingMails").dirty||n.updateBranchForm.get("outGoingMails").touched))}}function X(t,e){if(1&t&&(i.Zb(0,"div",32),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function W(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,X,2,1,"div",33),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.updateBranchForm.get("bankAccNum").hasError(t.type)&&(n.updateBranchForm.get("bankAccNum").dirty||n.updateBranchForm.get("bankAccNum").touched))}}function tt(t,e){if(1&t&&(i.Zb(0,"div",32),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function et(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,tt,2,1,"div",33),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.updateBranchForm.get("fax").hasError(t.type)&&(n.updateBranchForm.get("fax").dirty||n.updateBranchForm.get("fax").touched))}}function nt(t,e){if(1&t&&(i.Zb(0,"div",32),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function at(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,nt,2,1,"div",33),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.updateBranchForm.get("officialNumber").hasError(t.type)&&(n.updateBranchForm.get("officialNumber").dirty||n.updateBranchForm.get("officialNumber").touched))}}function rt(t,e){if(1&t&&(i.Zb(0,"div",32),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function it(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,rt,2,1,"div",33),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.updateBranchForm.get("taxationNumber").hasError(t.type)&&(n.updateBranchForm.get("taxationNumber").dirty||n.updateBranchForm.get("taxationNumber").touched))}}function ct(t,e){if(1&t&&(i.Zb(0,"div",32),i.Ic(1),i.Yb()),2&t){const t=i.jc().$implicit;i.Hb(1),i.Kc(" ",t.message," ")}}function st(t,e){if(1&t&&(i.Zb(0,"div"),i.Gc(1,ct,2,1,"div",33),i.Yb()),2&t){const t=e.$implicit,n=i.jc();i.Hb(1),i.pc("ngIf",n.updateBranchForm.get("panNumber").hasError(t.type)&&(n.updateBranchForm.get("panNumber").dirty||n.updateBranchForm.get("panNumber").touched))}}function ot(t,e){if(1&t){const t=i.ac();i.Zb(0,"li",7),i.Zb(1,"strong"),i.Zb(2,"b",8),i.gc("click",(function(){i.Bc(t);const n=e.$implicit;return i.jc().showData(n._id)})),i.Ic(3),i.Yb(),i.Yb(),i.Zb(4,"div",9),i.Zb(5,"i",10),i.gc("click",(function(){i.Bc(t);const n=e.$implicit;return i.jc().showData(n._id)})),i.Yb(),i.Yb(),i.Zb(6,"div",11),i.Zb(7,"table",12),i.Zb(8,"tr"),i.Zb(9,"th"),i.Ic(10,"Title:"),i.Yb(),i.Zb(11,"td"),i.Ic(12),i.Yb(),i.Yb(),i.Zb(13,"tr"),i.Zb(14,"th"),i.Ic(15,"Description:"),i.Yb(),i.Zb(16,"td"),i.Ic(17),i.Yb(),i.Yb(),i.Yb(),i.Zb(18,"div"),i.Zb(19,"a",13),i.Ub(20,"i",14),i.Ic(21,"\xa0 update "),i.Yb(),i.Zb(22,"button",15),i.gc("click",(function(){i.Bc(t);const n=e.$implicit;return i.jc().deleteList(n._id)})),i.Ub(23,"i",16),i.Ic(24,"\xa0 Delete "),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.jc();i.Hb(3),i.Jc(t.title),i.Hb(3),i.pc("hidden",n.showDepartmentCard[t._id]),i.Hb(6),i.Jc(t.title),i.Hb(5),i.Jc(t.description),i.Hb(2),i.sc("routerLink","../../update-department/",n.snapshotParam,"/",t._id,"")}}function bt(t,e){if(1&t&&(i.Zb(0,"p",10),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&t){const t=i.jc();i.Hb(2),i.Jc(t.errMsg)}}function dt(t,e){if(1&t&&(i.Zb(0,"p",11),i.Zb(1,"strong"),i.Ic(2),i.Yb(),i.Yb()),2&t){const t=i.jc();i.Hb(2),i.Jc(t.successMsg)}}function lt(t,e){if(1&t){const t=i.ac();i.Zb(0,"form",12),i.gc("ngSubmit",(function(){return i.Bc(t),i.jc().updateDepartmentFormData()})),i.Zb(1,"div",13),i.Zb(2,"label",14),i.Zb(3,"b"),i.Ic(4,"Title:\xa0"),i.Zb(5,"span",15),i.Ic(6,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(7,"div",6),i.Ub(8,"input",16),i.Yb(),i.Yb(),i.Zb(9,"div",13),i.Zb(10,"label",14),i.Zb(11,"b"),i.Ic(12,"Description:"),i.Yb(),i.Yb(),i.Zb(13,"div",6),i.Ub(14,"input",17),i.Yb(),i.Yb(),i.Zb(15,"div",13),i.Zb(16,"div",18),i.Zb(17,"button",19),i.Ic(18,"Add Department"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.jc();i.pc("formGroup",t.updateDepartmentForm),i.Hb(17),i.pc("disabled",t.updateDepartmentForm.invalid)}}const mt=[{path:"",component:c,canActivate:[s.a],children:[{path:"add-branch",component:L},{path:"show-branches",component:T},{path:"update-branch-data/:branchId",component:(()=>{class t{constructor(t,e,n,a,r,i,c){this.route=t,this.api=e,this.fb=n,this.ngZone=a,this.router=r,this.util=i,this.currencyApi=c,this.getBranchList=Object,this.branchData=[],this.successMessage=!1,this.errMsg=String,this.errorMsg=!1,this.validationMessage={name:[{type:"required",message:"Name is Required "}],address:[{type:"required",message:"Address is Required "}],officialNumber:[{type:"required",message:"Official Number is Required "},{type:"minlength",message:"Number too short "},{type:"maxlength",message:"Number is too large"},{type:"pattern",message:"Company Number not valid"}],fax:[{type:"minlength",message:"Fax number too short "},{type:"maxlength",message:"Fax no. is too large"},{type:"pattern",message:"Fax Number not valid"}],outGoingMails:[{type:"pattern",message:"Invalid Mail"}],taxNumber:[{type:"pattern",message:"Invalid Taxation No."}],panNumber:[{type:"pattern",message:"Invalid PAN Number"}],bankAccNum:[{type:"maxlength",message:"Account No. limit exceeded"},{type:"pattern",message:"Invalid Account No."}]},this.snapshotParam=this.route.snapshot.paramMap.get("branchId"),this.util.moduleExists(this.snapshotParam,"Branches").subscribe(t=>{"success"===t.status&&(t.data||this.router.navigateByUrl("/pages/branches/show-branches"))})}ngOnInit(){this.updateBranchDataValidate(),this.permissionInfo=this.util.permissionRoleInfo,this.getExistingData(),-1===this.permissionInfo.search("Edit Branch")&&this.updateBranchForm.disable()}updateBranchDataValidate(){try{this.updateBranchForm=this.fb.group({name:new o.f("",o.v.compose([o.v.required])),officialNumber:new o.f("",o.v.compose([o.v.required,o.v.minLength(10),o.v.maxLength(15),o.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$")])),fax:new o.f("",o.v.compose([o.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$"),o.v.minLength(10),o.v.maxLength(10)])),address:new o.f("",o.v.required),outGoingMails:new o.f("",o.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")),taxationNumber:new o.f(""),panNumber:new o.f("",o.v.pattern("(^[A-Za-z]{5}[0-9]{4}[A-Za-z]$)")),bankName:new o.f(""),bankAccNum:new o.f("",o.v.compose([o.v.maxLength(16),o.v.pattern(/^[0-9]*$/)])),bankType:new o.f("")})}catch(t){console.log(t)}}scroll(t){t.scrollIntoView()}getExistingData(){try{this.api.getBranchDetails(this.snapshotParam).subscribe(t=>{"success"===t.status&&(this.getBranchList=t.data,this.updateBranchForm=this.fb.group({name:new o.f(this.getBranchList.name,o.v.compose([o.v.required])),officialNumber:new o.f(this.getBranchList.officialNumber,o.v.compose([o.v.required,o.v.minLength(10),o.v.maxLength(15),o.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$")])),fax:new o.f(this.getBranchList.fax,o.v.compose([o.v.pattern("^-?[0-9]\\d*(\\.\\d{1,2})?$"),o.v.minLength(10),o.v.maxLength(10)])),address:new o.f(this.getBranchList.address,o.v.required),outGoingMails:new o.f(this.getBranchList.outGoingMails,o.v.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")),taxationNumber:new o.f(this.getBranchList.taxationNumber),panNumber:new o.f(this.getBranchList.panNumber,o.v.pattern("(^[A-Za-z]{5}[0-9]{4}[A-Za-z]$)")),bankName:new o.f(this.getBranchList.bankDetails.bankName),bankAccNum:new o.f(this.getBranchList.bankDetails.bankAccNum,o.v.compose([o.v.maxLength(16),o.v.pattern(/^[0-9]*$/)])),bankType:new o.f(this.getBranchList.bankDetails.bankType)}))})}catch(t){console.log(t)}}updateBranchFormData(){try{let t=this.util.cleanFormLevelOne(this.updateBranchForm);this.updateBranchForm.valid&&this.api.submitUpdatedData(t.value,this.snapshotParam).subscribe(t=>{"success"===t.status||200===t.status?(this.successMessage=!0,this.errorMsg=!1,this.successMsg=t.message,setTimeout(()=>{this.handleErrors(),this.router.navigateByUrl("/pages/branches/show-branches")},2e3)):"error"!==t.status&&404!==t.status||(this.errorMsg=!0,this.successMessage=!1,this.errMsg=t.message,setTimeout(()=>{this.handleErrors()},3e3))})}catch(t){console.log(t.message)}}handleErrors(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(r.a),i.Tb(p),i.Tb(o.e),i.Tb(i.E),i.Tb(r.b),i.Tb(u.a),i.Tb(U.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-update-branch-data"]],decls:103,vars:12,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],["target",""],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","inputName","placeholder","Enter Branch Name","formControlName","name",1,"form-control"],[4,"ngFor","ngForOf"],["id","inputAddress","placeholder","Address","formControlName","address",1,"form-control"],[1,"form-row"],[1,"form-group","col-md-6"],["type","email","id","inputBcc","placeholder","Enter BCC Address","formControlName","outGoingMails",1,"form-control"],["type","text","placeholder","Enter Bank Name","formControlName","bankName",1,"form-control"],["type","text","placeholder","Enter Account Type","formControlName","bankType",1,"form-control"],["type","email","placeholder","Enter Account Number","formControlName","bankAccNum",1,"form-control"],["type","text","id","inputFax","placeholder","Enter Fax Number:","formControlName","fax",1,"form-control"],["type","text","id","inputCompanyNo","placeholder","Enter Official Branch Number","formControlName","officialNumber",1,"form-control"],[1,"col-md-6"],["type","text","id","inputTaxationno.","placeholder","Enter Taxation Number","formControlName","taxationNumber",1,"form-control"],["onkeyup","this.value = this.value.toUpperCase().trim();","type","text","id","inputPanno","placeholder","Enter PAN Number","formControlName","panNumber",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled","click"],["type","button","routerLink","../../show-branches",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"h2",2,3),i.Ic(4,"Update Branch Details"),i.Yb(),i.Yb(),i.Zb(5,"div",4),i.Zb(6,"div",5),i.Gc(7,q,3,1,"p",6),i.Yb(),i.Zb(8,"div",5),i.Gc(9,J,3,1,"p",7),i.Yb(),i.Zb(10,"form",8),i.gc("ngSubmit",(function(){return e.updateBranchFormData()})),i.Zb(11,"div",9),i.Zb(12,"label",10),i.Zb(13,"b"),i.Ic(14,"Name (to appear on reports):\xa0"),i.Zb(15,"span",11),i.Ic(16,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(17,"div",5),i.Ub(18,"input",12),i.Gc(19,z,2,1,"div",13),i.Yb(),i.Yb(),i.Zb(20,"div",9),i.Zb(21,"label",10),i.Zb(22,"b"),i.Ic(23,"Address:\xa0"),i.Zb(24,"span",11),i.Ic(25,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(26,"div",5),i.Ub(27,"textarea",14),i.Gc(28,R,2,1,"div",13),i.Yb(),i.Yb(),i.Zb(29,"div",15),i.Zb(30,"div",16),i.Zb(31,"div",9),i.Zb(32,"label",10),i.Zb(33,"b"),i.Ic(34,"BCC Address for all outgoing mails:"),i.Yb(),i.Yb(),i.Zb(35,"div",5),i.Ub(36,"input",17),i.Gc(37,Q,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(38,"div",16),i.Zb(39,"div",9),i.Zb(40,"label",10),i.Zb(41,"b"),i.Ic(42,"Bank Name:"),i.Yb(),i.Yb(),i.Zb(43,"div",5),i.Ub(44,"input",18),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(45,"div",15),i.Zb(46,"div",16),i.Zb(47,"div",9),i.Zb(48,"label",10),i.Zb(49,"b"),i.Ic(50,"Account Type:"),i.Yb(),i.Yb(),i.Zb(51,"div",5),i.Ub(52,"input",19),i.Yb(),i.Yb(),i.Yb(),i.Zb(53,"div",16),i.Zb(54,"div",9),i.Zb(55,"label",10),i.Zb(56,"b"),i.Ic(57,"Account Number:"),i.Yb(),i.Yb(),i.Zb(58,"div",5),i.Ub(59,"input",20),i.Gc(60,W,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(61,"div",15),i.Zb(62,"div",16),i.Zb(63,"div",9),i.Zb(64,"label",10),i.Zb(65,"b"),i.Ic(66,"Fax Number:"),i.Yb(),i.Yb(),i.Zb(67,"div",5),i.Ub(68,"input",21),i.Gc(69,et,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(70,"div",16),i.Zb(71,"div",9),i.Zb(72,"label",10),i.Zb(73,"b"),i.Ic(74,"Official Branch Number:\xa0"),i.Zb(75,"span",11),i.Ic(76,"*"),i.Yb(),i.Yb(),i.Yb(),i.Zb(77,"div",5),i.Ub(78,"input",22),i.Gc(79,at,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(80,"div",15),i.Zb(81,"div",23),i.Zb(82,"div",9),i.Zb(83,"label",10),i.Zb(84,"b"),i.Ic(85,"Taxation No:"),i.Yb(),i.Yb(),i.Zb(86,"div",5),i.Ub(87,"input",24),i.Gc(88,it,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(89,"div",23),i.Zb(90,"div",9),i.Zb(91,"label",10),i.Zb(92,"b"),i.Ic(93,"PAN (Permanent Account Number):"),i.Yb(),i.Yb(),i.Zb(94,"div",5),i.Ub(95,"input",25),i.Gc(96,st,2,1,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(97,"div",9),i.Zb(98,"div",26),i.Zb(99,"button",27),i.gc("click",(function(){i.Bc(t);const n=i.Ac(3);return e.scroll(n)})),i.Ic(100,"Update Branch"),i.Yb(),i.Zb(101,"button",28),i.Ic(102,"Cancel"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}2&t&&(i.Hb(7),i.pc("ngIf",e.errorMsg),i.Hb(2),i.pc("ngIf",e.successMessage),i.Hb(1),i.pc("formGroup",e.updateBranchForm),i.Hb(9),i.pc("ngForOf",e.validationMessage.name),i.Hb(9),i.pc("ngForOf",e.validationMessage.address),i.Hb(9),i.pc("ngForOf",e.validationMessage.outGoingMails),i.Hb(23),i.pc("ngForOf",e.validationMessage.bankAccNum),i.Hb(9),i.pc("ngForOf",e.validationMessage.fax),i.Hb(10),i.pc("ngForOf",e.validationMessage.officialNumber),i.Hb(9),i.pc("ngForOf",e.validationMessage.taxNumber),i.Hb(8),i.pc("ngForOf",e.validationMessage.panNumber),i.Hb(3),i.pc("disabled",e.updateBranchForm.invalid||-1===e.permissionInfo.search("Edit Branch")))},directives:[a.m,o.x,o.o,o.i,o.c,o.n,o.g,a.l,r.c],styles:[""]}),t})()},{path:"show-departments/:branchId",component:(()=>{class t{constructor(t,e,n,a){this.route=t,this.router=e,this.api=n,this.ngZone=a,this.departmentList=new Array,this.showDepartmentCard={}}ngOnInit(){this.getDepartmentListData()}navigate(){this.router.navigateByUrl("/pages/branches/add-department/"+this.snapshotParam)}getDepartmentListData(){try{this.snapshotParam=this.route.snapshot.paramMap.get("branchId"),this.api.getDepartmentData(this.snapshotParam).subscribe(t=>{if("success"===t.status||200===t.status){this.departmentList=t.department;const n=Object.keys(t.department).length;for(var e=0;e<n;e++)this.showDepartmentCard[this.departmentList[e]._id]=!0}})}catch(t){console.log(t.message)}}showData(t){try{this.showDepartmentCard[""+t]=!this.showDepartmentCard[""+t]}catch(e){console.log(e)}}deleteList(t){try{const e=G.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then(n=>{n.value?this.api.removeDepartmentData(t).subscribe(t=>{"success"!==t.status&&200!==t.status||(e.fire("Deleted!",t.message,"success"),this.ngZone.run(()=>{this.router.navigateByUrl("/pages/branches/show-departments/"+this.snapshotParam)}),this.getDepartmentListData())}):n.dismiss===G.a.DismissReason.cancel&&e.fire("Cancelled","Your list data safe","error")})}catch(e){console.log(e.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(r.a),i.Tb(r.b),i.Tb(p),i.Tb(i.E))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-show-departments"]],decls:10,vars:1,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],[1,"btn","btn-primary",2,"float","right",3,"click"],[1,"fa","fa-plus-square"],[1,"panel-body"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[2,"cursor","pointer",3,"click"],[2,"float","right"],[1,"dropdown-toggle",3,"click"],[1,"card",2,"background-color","ghostwhite",3,"hidden"],[1,"table",2,"margin","auto"],[1,"btn","btn-primary",2,"float","right",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",2,"float","right",3,"click"],[1,"fa","fa-trash"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"h2"),i.Ic(3,"Departments List"),i.Yb(),i.Zb(4,"button",2),i.gc("click",(function(){return e.navigate()})),i.Ub(5,"i",3),i.Ic(6,"\xa0 Add Department"),i.Yb(),i.Yb(),i.Zb(7,"div",4),i.Zb(8,"ul",5),i.Gc(9,ot,25,6,"li",6),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Hb(9),i.pc("ngForOf",e.departmentList))},directives:[a.l,r.e],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},{path:"update-department/:branchId/:departmentId",component:(()=>{class t{constructor(t,e,n,a,r){this.route=t,this.api=e,this.fb=n,this.ngZone=a,this.router=r,this.successMessage=!1,this.errorMsg=!1,this.departmentList=new Array,this.departmentData=new Array}ngOnInit(){this.snapshotParam=this.route.snapshot.paramMap.get("branchId"),this.departmentParam=this.route.snapshot.paramMap.get("departmentId"),this.updateFormValidation(),this.getExistingData()}updateFormValidation(){try{this.updateDepartmentForm=this.fb.group({title:new o.f(null),description:new o.f(null)})}catch(t){console.log(t.message)}}updateDepartmentFormData(){try{this.updateDepartmentForm.valid&&this.api.updateDepartmentData(this.updateDepartmentForm.value,this.snapshotParam,this.departmentParam).subscribe(t=>{"success"===t.status||200===t.status?(this.successMessage=!0,setTimeout(()=>{this.ngZone.run(()=>{this.router.navigateByUrl("/pages/branches/show-departments/"+this.snapshotParam)})},1e3),this.errorMsg=!1,this.successMsg=t.message):"error"!==t.status&&404!==t.status||(this.errorMsg=!0,this.successMessage=!1,this.errMsg=t.message)})}catch(t){console.log(t.message)}}getExistingData(){this.api.getDepartmentData(this.snapshotParam).subscribe(t=>{if("success"===t.status||200===t.status){this.departmentList=t.department;const n=Object.keys(this.departmentList).length;for(var e=0;e<n;e++)this.departmentList[e]._id===this.departmentParam&&(this.departmentData.push(this.departmentList[e]),this.updateDepartmentForm=this.fb.group({title:new o.f(this.departmentList[e].title),description:new o.f(this.departmentList[e].description)}))}})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(r.a),i.Tb(p),i.Tb(o.e),i.Tb(i.E),i.Tb(r.b))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-update-department"]],decls:12,vars:4,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],[1,"btn","btn-primary","btn-circle",2,"float","right",3,"routerLink"],[1,"fa","fa-arrow-right"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","form-horizontal","role","form","novalidate","",3,"formGroup","ngSubmit",4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","inputTitle","formControlName","title",1,"form-control"],["type","text","id","inputDescription","formControlName","description",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"h2",2),i.Ic(3,"Update Department Details"),i.Yb(),i.Zb(4,"a",3),i.Ub(5,"i",4),i.Yb(),i.Yb(),i.Zb(6,"div",5),i.Zb(7,"div",6),i.Gc(8,bt,3,1,"p",7),i.Yb(),i.Zb(9,"div",6),i.Gc(10,dt,3,1,"p",8),i.Yb(),i.Gc(11,lt,19,2,"form",9),i.Yb(),i.Yb()),2&t&&(i.Hb(4),i.rc("routerLink","../../../show-departments/",e.snapshotParam,""),i.Hb(4),i.pc("ngIf",e.errorMsg),i.Hb(2),i.pc("ngIf",e.successMessage),i.Hb(1),i.pc("ngForOf",e.departmentData))},directives:[r.e,a.m,a.l,o.x,o.o,o.i,o.c,o.n,o.g],styles:[""]}),t})()},{path:"",redirectTo:"show-branches",pathMatch:"full"}]}];let pt=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.c,r.f.forChild(mt)]]}),t})(),ut=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[s.a,p],imports:[[a.c,pt,r.f,b.b,o.j,o.s]]}),t})()}}]);
//# sourceMappingURL=12-es2015.860f5e19fe6f4e1db0e5.js.map