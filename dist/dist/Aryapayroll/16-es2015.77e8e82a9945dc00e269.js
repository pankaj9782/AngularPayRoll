(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{ANNO:function(t,e,s){"use strict";s.r(e),s.d(e,"DocumenttypesModule",(function(){return w}));var i=s("ofXK"),o=s("tyNb"),c=s("fXoL");let n=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Nb({type:t,selectors:[["app-document-types"]],decls:1,vars:0,template:function(t,e){1&t&&c.Ub(0,"router-outlet")},directives:[o.g],encapsulation:2}),t})();var r=s("CG1p"),a=s("PSD3"),b=s.n(a),u=s("Zz1j"),d=s("cnwL");function l(t,e){1&t&&(c.Zb(0,"td"),c.Ub(1,"i",13),c.Yb())}function p(t,e){1&t&&(c.Zb(0,"td"),c.Ub(1,"i",14),c.Yb())}function m(t,e){if(1&t){const t=c.ac();c.Zb(0,"tbody"),c.Zb(1,"tr"),c.Zb(2,"td"),c.Zb(3,"b"),c.Ic(4),c.Yb(),c.Yb(),c.Zb(5,"td"),c.Ic(6),c.Yb(),c.Zb(7,"td"),c.Ic(8),c.Yb(),c.Gc(9,l,2,0,"td",8),c.Gc(10,p,2,0,"td",8),c.Zb(11,"td"),c.Zb(12,"a",9),c.Ub(13,"i",10),c.Yb(),c.Ic(14,"\xa0 "),c.Zb(15,"button",11),c.gc("click",(function(){c.Bc(t);const s=e.$implicit;return c.jc().removeDocument(s._id)})),c.Ub(16,"i",12),c.Yb(),c.Yb(),c.Yb(),c.Yb()}if(2&t){const t=e.$implicit,s=e.index,i=c.jc();c.Hb(4),c.Kc("",s+1,"."),c.Hb(2),c.Kc(" ",t.title," "),c.Hb(2),c.Kc(" ",t.description,""),c.Hb(1),c.pc("ngIf",t.isRequired),c.Hb(1),c.pc("ngIf",!t.isRequired),c.Hb(2),c.Lb("disabled",-1===i.permissionInfo.search("Edit DocumentType")),c.sc("routerLink","/pages/document-types/update-document-types/",t.companyId,"/",t._id,""),c.Hb(3),c.pc("disabled",-1===i.permissionInfo.search("Delete DocumentType"))}}let h=(()=>{class t{constructor(t,e,s){this.api=t,this.route=e,this.util=s,this.document=new Array,this.showCard={}}ngOnInit(){this.documentList(),this.permissionInfo=this.util.permissionRoleInfo}documentList(){try{this.api.documentData().subscribe(t=>{200!==t.status&&"success"!==t.status||(0==t.data.length?this.route.navigateByUrl("/pages/document-types/add-document-types"):this.document=t.data)})}catch(t){console.log(t.message)}}showData(t){this.showCard[""+t]=!this.showCard[""+t]}removeDocument(t){const e=b.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then(s=>{s.value?this.api.removeDocument(t).subscribe(t=>{"success"===t.status?(e.fire("Deleted!",t.message,"success"),this.documentList()):"error"===t.status&&e.fire("ERROR!",t.message,"error")}):s.dismiss===b.a.DismissReason.cancel&&e.fire("Cancelled","Your list data safe","error")})}addDocumentType(){try{this.util.documentTypeStatus=1}catch(t){console.log(t)}}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(u.a),c.Tb(o.b),c.Tb(d.a))},t.\u0275cmp=c.Nb({type:t,selectors:[["app-list-document-types"]],decls:22,vars:2,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["type","button","routerLink","/pages/document-types/add-document-types",1,"btn","btn-primary",2,"float","right",3,"disabled","click"],[1,"fa","fa-plus-square"],[1,"table-responsive-lg"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash"],[1,"fa","fa-check",2,"color","green","font-size","25px"],[1,"fa","fa-times",2,"color","red","font-size","25px"]],template:function(t,e){1&t&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2"),c.Ic(3,"Document Type"),c.Yb(),c.Zb(4,"button",2),c.gc("click",(function(){return e.addDocumentType()})),c.Ub(5,"i",3),c.Ic(6,"\xa0 Add Document Type"),c.Yb(),c.Yb(),c.Zb(7,"div",4),c.Zb(8,"table",5),c.Zb(9,"thead",6),c.Zb(10,"tr"),c.Zb(11,"th"),c.Ic(12," S.No "),c.Yb(),c.Zb(13,"th"),c.Ic(14," Title "),c.Yb(),c.Zb(15,"th"),c.Ic(16,"Description"),c.Yb(),c.Zb(17,"th"),c.Ic(18,"Is Required"),c.Yb(),c.Zb(19,"th"),c.Ic(20,"Action"),c.Yb(),c.Yb(),c.Yb(),c.Gc(21,m,17,10,"tbody",7),c.Yb(),c.Yb(),c.Yb()),2&t&&(c.Hb(4),c.pc("disabled",-1===e.permissionInfo.search("Create DocumentType")),c.Hb(17),c.pc("ngForOf",e.document))},directives:[o.c,i.l,i.m,o.e],encapsulation:2}),t})();var f=s("3Pt+");function g(t,e){if(1&t&&(c.Zb(0,"p",21),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&t){const t=c.jc();c.Hb(2),c.Jc(t.errMsg)}}function y(t,e){if(1&t&&(c.Zb(0,"p",22),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&t){const t=c.jc();c.Hb(2),c.Jc(t.successMsg)}}function Y(t,e){if(1&t&&(c.Zb(0,"div",24),c.Ic(1),c.Yb()),2&t){const t=c.jc().$implicit;c.Hb(1),c.Jc(t.message)}}function Z(t,e){if(1&t&&(c.Zb(0,"div"),c.Gc(1,Y,2,1,"div",23),c.Yb()),2&t){const t=e.$implicit,s=c.jc();c.Hb(1),c.pc("ngIf",s.documentForm.get("title").hasError(t.type)&&(s.documentForm.get("title").dirty||s.documentForm.get("title").touched))}}function I(t,e){if(1&t&&(c.Zb(0,"p",19),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&t){const t=c.jc();c.Hb(2),c.Jc(t.errMsg)}}function v(t,e){if(1&t&&(c.Zb(0,"p",20),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&t){const t=c.jc();c.Hb(2),c.Jc(t.successMsg)}}function T(t,e){if(1&t&&(c.Zb(0,"div",22),c.Ic(1),c.Yb()),2&t){const t=c.jc().$implicit;c.Hb(1),c.Kc(" ",t.message,"")}}function D(t,e){if(1&t&&(c.Zb(0,"div"),c.Gc(1,T,2,1,"div",21),c.Yb()),2&t){const t=e.$implicit,s=c.jc();c.Hb(1),c.pc("ngIf",s.documentForm.get("title").hasError(t.type)&&(s.documentForm.get("title").dirty||s.documentForm.get("title").touched))}}const M=[{path:"",component:n,canActivate:[r.a],children:[{path:"list-document-types",component:h},{path:"add-document-types",component:(()=>{class t{constructor(t,e,s,i,o){this.api=t,this.fob=e,this.router=s,this.ngzone=i,this.util=o,this.successMessage=!1,this.errorMsg=!1,this.validationMessage={title:[{type:"required",message:"Title is required"}]},this.isListAvaliable()}ngOnInit(){this.documentValidation(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Create DocumentType")&&this.documentForm.disable()}documentValidation(){try{this.documentForm=this.fob.group({title:new f.f("",f.v.required),description:new f.f(""),isRequired:new f.f(!1)})}catch(t){console.log(t)}}addDocumentType(){try{let t=this.util.cleanFormLevelOne(this.documentForm);this.api.addDocumentSubmit(t.value,this.companyId).subscribe(t=>{"success"===t.status||200===t.status?(this.successMessage=!0,this.errorMsg=!1,this.successMsg=t.message,setTimeout(()=>{this.handleErrors(),this.ngzone.run(()=>this.router.navigateByUrl("/pages/document-types/list-document-types"))},2e3)):"error"!==t.status&&404!==t.status||(this.errorMsg=!0,this.successMessage=!1,this.errMsg=t.message,setTimeout(()=>{this.handleErrors()},3e3))})}catch(t){console.log(t)}}handleErrors(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}isListAvaliable(){try{this.api.documentData().subscribe(t=>{"success"===t.status&&t.data.length>0&&1!==this.util.documentTypeStatus&&(this.router.navigateByUrl("/pages/document-types/list-document-types"),this.util.documentTypeStatus=0)})}catch(t){console.log(t)}}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(u.a),c.Tb(f.e),c.Tb(o.b),c.Tb(c.E),c.Tb(d.a))},t.\u0275cmp=c.Nb({type:t,selectors:[["app-add-document-types"]],decls:40,vars:6,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],["type","button","routerLink","../list-document-types",1,"btn","btn-primary",2,"float","right",3,"disabled"],[1,"fa","fa-list"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","titleDoc","placeholder","Enter Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["type","textarea","id","descriptionDoc","placeholder","Enter description","formControlName","description",1,"form-control"],[1,"control-label"],["type","checkbox","name","required","formControlName","isRequired"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-document-types",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(t,e){1&t&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Document Type Details"),c.Yb(),c.Zb(4,"button",3),c.Ub(5,"i",4),c.Ic(6,"\xa0 Show Document List"),c.Yb(),c.Yb(),c.Zb(7,"div",5),c.Zb(8,"div",6),c.Gc(9,g,3,1,"p",7),c.Yb(),c.Zb(10,"div",6),c.Gc(11,y,3,1,"p",8),c.Yb(),c.Zb(12,"form",9),c.gc("ngSubmit",(function(){return e.addDocumentType()})),c.Zb(13,"div",10),c.Ic(14," \xa0"),c.Zb(15,"label",11),c.Zb(16,"b"),c.Ic(17,"Title: \xa0"),c.Zb(18,"span",12),c.Ic(19,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(20,"div",6),c.Ub(21,"input",13),c.Gc(22,Z,2,1,"div",14),c.Yb(),c.Yb(),c.Zb(23,"div",10),c.Zb(24,"label",11),c.Zb(25,"b"),c.Ic(26,"Description: "),c.Yb(),c.Yb(),c.Zb(27,"div",6),c.Ub(28,"textarea",15),c.Yb(),c.Yb(),c.Zb(29,"div",10),c.Zb(30,"label",16),c.Ic(31,"Is Required "),c.Yb(),c.Ic(32,": "),c.Ub(33,"input",17),c.Yb(),c.Zb(34,"div",10),c.Zb(35,"div",18),c.Zb(36,"button",19),c.Ic(37,"Submit"),c.Yb(),c.Zb(38,"button",20),c.Ic(39,"cancel"),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb()),2&t&&(c.Hb(4),c.pc("disabled",-1===e.permissionInfo.search("Create DocumentType")),c.Hb(5),c.pc("ngIf",e.errorMsg),c.Hb(2),c.pc("ngIf",e.successMessage),c.Hb(1),c.pc("formGroup",e.documentForm),c.Hb(10),c.pc("ngForOf",e.validationMessage.title),c.Hb(14),c.pc("disabled",e.documentForm.invalid||-1===e.permissionInfo.search("Create DocumentType")))},directives:[o.c,i.m,f.x,f.o,f.i,f.c,f.n,f.g,i.l,f.b],encapsulation:2}),t})()},{path:"update-document-types/:companyId/:documentTypeId",component:(()=>{class t{constructor(t,e,s,i,o,c){this.route=t,this.fob=e,this.router=s,this.api=i,this.ngZone=o,this.util=c,this.successMessage=!1,this.errorMsg=!1,this.val=[],this.validationMessage={title:[{type:"required",message:"Title is Required"}]},this.documentTypeId=this.route.snapshot.paramMap.get("documentTypeId"),this.util.moduleExists(this.documentTypeId,"DocumentTypes").subscribe(t=>{"success"===t.status&&(t.data||this.router.navigateByUrl("/pages/document-types/list-document-types"))})}ngOnInit(){this.companyId=this.route.snapshot.paramMap.get("companyId"),this.valueCheck(),this.documentValidation(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Edit DocumentType")&&this.documentForm.disable()}valueCheck(){this.api.documentTypeDetails(this.documentTypeId).subscribe(t=>{200!==t.status&&"success"!==t.status||(this.existingValue=t.data,this.documentForm=this.fob.group({title:new f.f(this.existingValue.title,f.v.required),description:new f.f(this.existingValue.description),isRequired:new f.f(this.existingValue.isRequired)}))})}updateDoc(){try{let t=this.util.cleanFormLevelOne(this.documentForm);this.api.updateDocument(t.value,this.companyId,this.documentTypeId).subscribe(t=>{"success"===t.status||200===t.status?(this.successMessage=!0,this.errorMsg=!1,this.successMsg=t.message,setTimeout(()=>{this.handleErrors(),this.ngZone.run(()=>this.router.navigateByUrl("/pages/document-types/list-document-types"))},2e3)):"error"==t.status&&(this.errorMsg=!0,this.successMessage=!1,this.errMsg=t.message,setTimeout(()=>{this.handleErrors()},3e3))})}catch(t){console.log(t)}}documentValidation(){try{this.documentForm=this.fob.group({title:new f.f("",f.v.required),description:new f.f(""),isRequired:new f.f(!1)})}catch(t){console.log(t)}}handleErrors(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(o.a),c.Tb(f.e),c.Tb(o.b),c.Tb(u.a),c.Tb(c.E),c.Tb(d.a))},t.\u0275cmp=c.Nb({type:t,selectors:[["app-update-document-types"]],decls:36,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","title","placeholder","Enter Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["type","textarea","id","description","placeholder","Enter description","formControlName","description",1,"form-control"],[1,"control-label"],["type","checkbox","name","required","formControlName","isRequired"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../../../list-document-types",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(t,e){1&t&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Update Document Type"),c.Yb(),c.Yb(),c.Zb(4,"div",3),c.Zb(5,"div",4),c.Gc(6,I,3,1,"p",5),c.Yb(),c.Zb(7,"div",4),c.Gc(8,v,3,1,"p",6),c.Yb(),c.Zb(9,"form",7),c.gc("ngSubmit",(function(){return e.updateDoc()})),c.Zb(10,"div",8),c.Zb(11,"label",9),c.Zb(12,"b"),c.Ic(13,"Title:\xa0"),c.Zb(14,"span",10),c.Ic(15,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(16,"div",4),c.Ub(17,"input",11),c.Gc(18,D,2,1,"div",12),c.Yb(),c.Yb(),c.Zb(19,"div",8),c.Zb(20,"label",9),c.Zb(21,"b"),c.Ic(22,"Description: "),c.Yb(),c.Yb(),c.Zb(23,"div",4),c.Ub(24,"textarea",13),c.Yb(),c.Yb(),c.Zb(25,"div",8),c.Zb(26,"label",14),c.Ic(27,"Is Required ?"),c.Yb(),c.Ic(28,": "),c.Ub(29,"input",15),c.Yb(),c.Zb(30,"div",8),c.Zb(31,"div",16),c.Zb(32,"button",17),c.Ic(33,"Update"),c.Yb(),c.Zb(34,"button",18),c.Ic(35,"cancel"),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb()),2&t&&(c.Hb(6),c.pc("ngIf",e.errorMsg),c.Hb(2),c.pc("ngIf",e.successMessage),c.Hb(1),c.pc("formGroup",e.documentForm),c.Hb(9),c.pc("ngForOf",e.validationMessage.title),c.Hb(14),c.pc("disabled",e.documentForm.invalid||-1===e.permissionInfo.search("Edit DocumentType")))},directives:[i.m,f.x,f.o,f.i,f.c,f.n,f.g,i.l,f.b,o.c],encapsulation:2}),t})()},{path:"",redirectTo:"list-document-types",pathMatch:"full"}]}];let x=(()=>{class t{}return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)},imports:[[i.c,o.f.forChild(M)]]}),t})(),w=(()=>{class t{}return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)},imports:[[i.c,x,f.j,f.s,o.f]]}),t})()}}]);
//# sourceMappingURL=16-es2015.77e8e82a9945dc00e269.js.map