!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function n(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{ANNO:function(t,s,i){"use strict";i.r(s),i.d(s,"DocumenttypesModule",(function(){return U}));var o,c=i("ofXK"),r=i("tyNb"),a=i("fXoL"),u=((o=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.Nb({type:o,selectors:[["app-document-types"]],decls:1,vars:0,template:function(e,t){1&e&&a.Ub(0,"router-outlet")},directives:[r.g],encapsulation:2}),o),b=i("CG1p"),d=i("PSD3"),l=i.n(d),p=i("Zz1j"),m=i("cnwL");function f(e,t){1&e&&(a.Zb(0,"td"),a.Ub(1,"i",13),a.Yb())}function h(e,t){1&e&&(a.Zb(0,"td"),a.Ub(1,"i",14),a.Yb())}function g(e,t){if(1&e){var n=a.ac();a.Zb(0,"tbody"),a.Zb(1,"tr"),a.Zb(2,"td"),a.Zb(3,"b"),a.Ic(4),a.Yb(),a.Yb(),a.Zb(5,"td"),a.Ic(6),a.Yb(),a.Zb(7,"td"),a.Ic(8),a.Yb(),a.Gc(9,f,2,0,"td",8),a.Gc(10,h,2,0,"td",8),a.Zb(11,"td"),a.Zb(12,"a",9),a.Ub(13,"i",10),a.Yb(),a.Ic(14,"\xa0 "),a.Zb(15,"button",11),a.gc("click",(function(){a.Bc(n);var e=t.$implicit;return a.jc().removeDocument(e._id)})),a.Ub(16,"i",12),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&e){var s=t.$implicit,i=t.index,o=a.jc();a.Hb(4),a.Kc("",i+1,"."),a.Hb(2),a.Kc(" ",s.title," "),a.Hb(2),a.Kc(" ",s.description,""),a.Hb(1),a.pc("ngIf",s.isRequired),a.Hb(1),a.pc("ngIf",!s.isRequired),a.Hb(2),a.Lb("disabled",-1===o.permissionInfo.search("Edit DocumentType")),a.sc("routerLink","/pages/document-types/update-document-types/",s.companyId,"/",s._id,""),a.Hb(3),a.pc("disabled",-1===o.permissionInfo.search("Delete DocumentType"))}}var y,v=((y=function(){function t(n,s,i){e(this,t),this.api=n,this.route=s,this.util=i,this.document=new Array,this.showCard={}}return n(t,[{key:"ngOnInit",value:function(){this.documentList(),this.permissionInfo=this.util.permissionRoleInfo}},{key:"documentList",value:function(){var e=this;try{this.api.documentData().subscribe((function(t){200!==t.status&&"success"!==t.status||(0==t.data.length?e.route.navigateByUrl("/pages/document-types/add-document-types"):e.document=t.data)}))}catch(t){console.log(t.message)}}},{key:"showData",value:function(e){this.showCard[""+e]=!this.showCard[""+e]}},{key:"removeDocument",value:function(e){var t=this,n=l.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});n.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then((function(s){s.value?t.api.removeDocument(e).subscribe((function(e){"success"===e.status?(n.fire("Deleted!",e.message,"success"),t.documentList()):"error"===e.status&&n.fire("ERROR!",e.message,"error")})):s.dismiss===l.a.DismissReason.cancel&&n.fire("Cancelled","Your list data safe","error")}))}},{key:"addDocumentType",value:function(){try{this.util.documentTypeStatus=1}catch(e){console.log(e)}}}]),t}()).\u0275fac=function(e){return new(e||y)(a.Tb(p.a),a.Tb(r.b),a.Tb(m.a))},y.\u0275cmp=a.Nb({type:y,selectors:[["app-list-document-types"]],decls:22,vars:2,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["type","button","routerLink","/pages/document-types/add-document-types",1,"btn","btn-primary",2,"float","right",3,"disabled","click"],[1,"fa","fa-plus-square"],[1,"table-responsive-lg"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash"],[1,"fa","fa-check",2,"color","green","font-size","25px"],[1,"fa","fa-times",2,"color","red","font-size","25px"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2"),a.Ic(3,"Document Type"),a.Yb(),a.Zb(4,"button",2),a.gc("click",(function(){return t.addDocumentType()})),a.Ub(5,"i",3),a.Ic(6,"\xa0 Add Document Type"),a.Yb(),a.Yb(),a.Zb(7,"div",4),a.Zb(8,"table",5),a.Zb(9,"thead",6),a.Zb(10,"tr"),a.Zb(11,"th"),a.Ic(12," S.No "),a.Yb(),a.Zb(13,"th"),a.Ic(14," Title "),a.Yb(),a.Zb(15,"th"),a.Ic(16,"Description"),a.Yb(),a.Zb(17,"th"),a.Ic(18,"Is Required"),a.Yb(),a.Zb(19,"th"),a.Ic(20,"Action"),a.Yb(),a.Yb(),a.Yb(),a.Gc(21,g,17,10,"tbody",7),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(4),a.pc("disabled",-1===t.permissionInfo.search("Create DocumentType")),a.Hb(17),a.pc("ngForOf",t.document))},directives:[r.c,c.l,c.m,r.e],encapsulation:2}),y),Y=i("3Pt+");function Z(e,t){if(1&e&&(a.Zb(0,"p",21),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){var n=a.jc();a.Hb(2),a.Jc(n.errMsg)}}function I(e,t){if(1&e&&(a.Zb(0,"p",22),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){var n=a.jc();a.Hb(2),a.Jc(n.successMsg)}}function T(e,t){if(1&e&&(a.Zb(0,"div",24),a.Ic(1),a.Yb()),2&e){var n=a.jc().$implicit;a.Hb(1),a.Jc(n.message)}}function D(e,t){if(1&e&&(a.Zb(0,"div"),a.Gc(1,T,2,1,"div",23),a.Yb()),2&e){var n=t.$implicit,s=a.jc();a.Hb(1),a.pc("ngIf",s.documentForm.get("title").hasError(n.type)&&(s.documentForm.get("title").dirty||s.documentForm.get("title").touched))}}function M(e,t){if(1&e&&(a.Zb(0,"p",19),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){var n=a.jc();a.Hb(2),a.Jc(n.errMsg)}}function k(e,t){if(1&e&&(a.Zb(0,"p",20),a.Zb(1,"strong"),a.Ic(2),a.Yb(),a.Yb()),2&e){var n=a.jc();a.Hb(2),a.Jc(n.successMsg)}}function w(e,t){if(1&e&&(a.Zb(0,"div",22),a.Ic(1),a.Yb()),2&e){var n=a.jc().$implicit;a.Hb(1),a.Kc(" ",n.message,"")}}function x(e,t){if(1&e&&(a.Zb(0,"div"),a.Gc(1,w,2,1,"div",21),a.Yb()),2&e){var n=t.$implicit,s=a.jc();a.Hb(1),a.pc("ngIf",s.documentForm.get("title").hasError(n.type)&&(s.documentForm.get("title").dirty||s.documentForm.get("title").touched))}}var F,H,q,C,R=[{path:"",component:u,canActivate:[b.a],children:[{path:"list-document-types",component:v},{path:"add-document-types",component:(H=function(){function t(n,s,i,o,c){e(this,t),this.api=n,this.fob=s,this.router=i,this.ngzone=o,this.util=c,this.successMessage=!1,this.errorMsg=!1,this.validationMessage={title:[{type:"required",message:"Title is required"}]},this.isListAvaliable()}return n(t,[{key:"ngOnInit",value:function(){this.documentValidation(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Create DocumentType")&&this.documentForm.disable()}},{key:"documentValidation",value:function(){try{this.documentForm=this.fob.group({title:new Y.f("",Y.v.required),description:new Y.f(""),isRequired:new Y.f(!1)})}catch(e){console.log(e)}}},{key:"addDocumentType",value:function(){var e=this;try{var t=this.util.cleanFormLevelOne(this.documentForm);this.api.addDocumentSubmit(t.value,this.companyId).subscribe((function(t){"success"===t.status||200===t.status?(e.successMessage=!0,e.errorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.ngzone.run((function(){return e.router.navigateByUrl("/pages/document-types/list-document-types")}))}),2e3)):"error"!==t.status&&404!==t.status||(e.errorMsg=!0,e.successMessage=!1,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(n){console.log(n)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}},{key:"isListAvaliable",value:function(){var e=this;try{this.api.documentData().subscribe((function(t){"success"===t.status&&t.data.length>0&&1!==e.util.documentTypeStatus&&(e.router.navigateByUrl("/pages/document-types/list-document-types"),e.util.documentTypeStatus=0)}))}catch(t){console.log(t)}}}]),t}(),H.\u0275fac=function(e){return new(e||H)(a.Tb(p.a),a.Tb(Y.e),a.Tb(r.b),a.Tb(a.E),a.Tb(m.a))},H.\u0275cmp=a.Nb({type:H,selectors:[["app-add-document-types"]],decls:40,vars:6,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],["type","button","routerLink","../list-document-types",1,"btn","btn-primary",2,"float","right",3,"disabled"],[1,"fa","fa-list"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","titleDoc","placeholder","Enter Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["type","textarea","id","descriptionDoc","placeholder","Enter description","formControlName","description",1,"form-control"],[1,"control-label"],["type","checkbox","name","required","formControlName","isRequired"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-document-types",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2",2),a.Ic(3,"Document Type Details"),a.Yb(),a.Zb(4,"button",3),a.Ub(5,"i",4),a.Ic(6,"\xa0 Show Document List"),a.Yb(),a.Yb(),a.Zb(7,"div",5),a.Zb(8,"div",6),a.Gc(9,Z,3,1,"p",7),a.Yb(),a.Zb(10,"div",6),a.Gc(11,I,3,1,"p",8),a.Yb(),a.Zb(12,"form",9),a.gc("ngSubmit",(function(){return t.addDocumentType()})),a.Zb(13,"div",10),a.Ic(14," \xa0"),a.Zb(15,"label",11),a.Zb(16,"b"),a.Ic(17,"Title: \xa0"),a.Zb(18,"span",12),a.Ic(19,"*"),a.Yb(),a.Yb(),a.Yb(),a.Zb(20,"div",6),a.Ub(21,"input",13),a.Gc(22,D,2,1,"div",14),a.Yb(),a.Yb(),a.Zb(23,"div",10),a.Zb(24,"label",11),a.Zb(25,"b"),a.Ic(26,"Description: "),a.Yb(),a.Yb(),a.Zb(27,"div",6),a.Ub(28,"textarea",15),a.Yb(),a.Yb(),a.Zb(29,"div",10),a.Zb(30,"label",16),a.Ic(31,"Is Required "),a.Yb(),a.Ic(32,": "),a.Ub(33,"input",17),a.Yb(),a.Zb(34,"div",10),a.Zb(35,"div",18),a.Zb(36,"button",19),a.Ic(37,"Submit"),a.Yb(),a.Zb(38,"button",20),a.Ic(39,"cancel"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(4),a.pc("disabled",-1===t.permissionInfo.search("Create DocumentType")),a.Hb(5),a.pc("ngIf",t.errorMsg),a.Hb(2),a.pc("ngIf",t.successMessage),a.Hb(1),a.pc("formGroup",t.documentForm),a.Hb(10),a.pc("ngForOf",t.validationMessage.title),a.Hb(14),a.pc("disabled",t.documentForm.invalid||-1===t.permissionInfo.search("Create DocumentType")))},directives:[r.c,c.m,Y.x,Y.o,Y.i,Y.c,Y.n,Y.g,c.l,Y.b],encapsulation:2}),H)},{path:"update-document-types/:companyId/:documentTypeId",component:(F=function(){function t(n,s,i,o,c,r){var a=this;e(this,t),this.route=n,this.fob=s,this.router=i,this.api=o,this.ngZone=c,this.util=r,this.successMessage=!1,this.errorMsg=!1,this.val=[],this.validationMessage={title:[{type:"required",message:"Title is Required"}]},this.documentTypeId=this.route.snapshot.paramMap.get("documentTypeId"),this.util.moduleExists(this.documentTypeId,"DocumentTypes").subscribe((function(e){"success"===e.status&&(e.data||a.router.navigateByUrl("/pages/document-types/list-document-types"))}))}return n(t,[{key:"ngOnInit",value:function(){this.companyId=this.route.snapshot.paramMap.get("companyId"),this.valueCheck(),this.documentValidation(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Edit DocumentType")&&this.documentForm.disable()}},{key:"valueCheck",value:function(){var e=this;this.api.documentTypeDetails(this.documentTypeId).subscribe((function(t){200!==t.status&&"success"!==t.status||(e.existingValue=t.data,e.documentForm=e.fob.group({title:new Y.f(e.existingValue.title,Y.v.required),description:new Y.f(e.existingValue.description),isRequired:new Y.f(e.existingValue.isRequired)}))}))}},{key:"updateDoc",value:function(){var e=this;try{var t=this.util.cleanFormLevelOne(this.documentForm);this.api.updateDocument(t.value,this.companyId,this.documentTypeId).subscribe((function(t){"success"===t.status||200===t.status?(e.successMessage=!0,e.errorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.ngZone.run((function(){return e.router.navigateByUrl("/pages/document-types/list-document-types")}))}),2e3)):"error"==t.status&&(e.errorMsg=!0,e.successMessage=!1,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(n){console.log(n)}}},{key:"documentValidation",value:function(){try{this.documentForm=this.fob.group({title:new Y.f("",Y.v.required),description:new Y.f(""),isRequired:new Y.f(!1)})}catch(e){console.log(e)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}]),t}(),F.\u0275fac=function(e){return new(e||F)(a.Tb(r.a),a.Tb(Y.e),a.Tb(r.b),a.Tb(p.a),a.Tb(a.E),a.Tb(m.a))},F.\u0275cmp=a.Nb({type:F,selectors:[["app-update-document-types"]],decls:36,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","title","placeholder","Enter Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["type","textarea","id","description","placeholder","Enter description","formControlName","description",1,"form-control"],[1,"control-label"],["type","checkbox","name","required","formControlName","isRequired"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../../../list-document-types",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"h2",2),a.Ic(3,"Update Document Type"),a.Yb(),a.Yb(),a.Zb(4,"div",3),a.Zb(5,"div",4),a.Gc(6,M,3,1,"p",5),a.Yb(),a.Zb(7,"div",4),a.Gc(8,k,3,1,"p",6),a.Yb(),a.Zb(9,"form",7),a.gc("ngSubmit",(function(){return t.updateDoc()})),a.Zb(10,"div",8),a.Zb(11,"label",9),a.Zb(12,"b"),a.Ic(13,"Title:\xa0"),a.Zb(14,"span",10),a.Ic(15,"*"),a.Yb(),a.Yb(),a.Yb(),a.Zb(16,"div",4),a.Ub(17,"input",11),a.Gc(18,x,2,1,"div",12),a.Yb(),a.Yb(),a.Zb(19,"div",8),a.Zb(20,"label",9),a.Zb(21,"b"),a.Ic(22,"Description: "),a.Yb(),a.Yb(),a.Zb(23,"div",4),a.Ub(24,"textarea",13),a.Yb(),a.Yb(),a.Zb(25,"div",8),a.Zb(26,"label",14),a.Ic(27,"Is Required ?"),a.Yb(),a.Ic(28,": "),a.Ub(29,"input",15),a.Yb(),a.Zb(30,"div",8),a.Zb(31,"div",16),a.Zb(32,"button",17),a.Ic(33,"Update"),a.Yb(),a.Zb(34,"button",18),a.Ic(35,"cancel"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(6),a.pc("ngIf",t.errorMsg),a.Hb(2),a.pc("ngIf",t.successMessage),a.Hb(1),a.pc("formGroup",t.documentForm),a.Hb(9),a.pc("ngForOf",t.validationMessage.title),a.Hb(14),a.pc("disabled",t.documentForm.invalid||-1===t.permissionInfo.search("Edit DocumentType")))},directives:[c.m,Y.x,Y.o,Y.i,Y.c,Y.n,Y.g,c.l,Y.b,r.c],encapsulation:2}),F)},{path:"",redirectTo:"list-document-types",pathMatch:"full"}]}],E=((C=function t(){e(this,t)}).\u0275mod=a.Rb({type:C}),C.\u0275inj=a.Qb({factory:function(e){return new(e||C)},imports:[[c.c,r.f.forChild(R)]]}),C),U=((q=function t(){e(this,t)}).\u0275mod=a.Rb({type:q}),q.\u0275inj=a.Qb({factory:function(e){return new(e||q)},imports:[[c.c,E,Y.j,Y.s,r.f]]}),q)}}])}();
//# sourceMappingURL=16-es5.77e8e82a9945dc00e269.js.map