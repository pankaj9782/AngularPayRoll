!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{nqxb:function(t,r,n){"use strict";n.r(r),n.d(r,"GraderuleModule",(function(){return Pe}));var i,s=n("ofXK"),o=n("tyNb"),c=n("fXoL"),d=((i=function(){function t(){e(this,t)}return a(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c.Nb({type:i,selectors:[["app-graderule"]],decls:1,vars:0,template:function(e,t){1&e&&c.Ub(0,"router-outlet")},directives:[o.g],styles:[""]}),i),u=n("CG1p"),l=n("PSD3"),b=n.n(l),g=n("y8g4"),p=n("3Pt+"),m=n("cnwL");function f(e,t){if(1&e){var a=c.ac();c.Zb(0,"tbody"),c.Zb(1,"tr"),c.Zb(2,"td"),c.Zb(3,"b"),c.Ic(4),c.Yb(),c.Yb(),c.Zb(5,"td"),c.Ic(6),c.Yb(),c.Zb(7,"td"),c.Zb(8,"a",7),c.Ub(9,"i",8),c.Yb(),c.Ic(10,"\xa0 "),c.Zb(11,"button",9),c.gc("click",(function(){c.Bc(a);var e=t.$implicit;return c.jc().showConfirmationMessage(e._id)})),c.Ub(12,"i",10),c.Yb(),c.Ic(13,"\xa0 "),c.Zb(14,"button",11),c.Ic(15,"Manage Payment Heads"),c.Yb(),c.Yb(),c.Yb(),c.Yb()}if(2&e){var r=t.$implicit,n=t.index,i=c.jc();c.Hb(4),c.Kc("",n+1,"."),c.Hb(2),c.Kc(" ",r.title," "),c.Hb(2),c.Lb("disabled",-1===i.permissionInfo.search("Edit GradeRule")),c.rc("routerLink","/pages/graderule/update-graderule/",r._id,""),c.Hb(3),c.pc("disabled",-1===i.permissionInfo.search("Delete GradeRule")),c.Hb(3),c.rc("routerLink","../list-managePaymentHeads/",r._id,""),c.pc("disabled",-1===i.permissionInfo.search("Create PaymentHeads"))}}var h,v=((h=function(){function t(a,r,n,i){e(this,t),this.api=a,this.fb=r,this.route=n,this.util=i}return a(t,[{key:"ngOnInit",value:function(){this.listGradRule(),this.permissionInfo=this.util.permissionRoleInfo}},{key:"listGradRule",value:function(){var e=this;try{this.api.getGradeRuleList().subscribe((function(t){"success"!==t.status&&200!==t.status||(e.listGradRuleData=t.data,0==Object.keys(e.listGradRuleData).length?e.route.navigateByUrl("pages/graderule/add-graderule"):e.listGradRuleData=t.data)}))}catch(t){console.log(t)}}},{key:"showConfirmationMessage",value:function(e){var t=this,a=b.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});a.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then((function(r){r.value?t.api.removeData(e).subscribe((function(e){"success"===e.status?a.fire("Deleted!",e.message,"success"):"error"===e.status&&a.fire("ERROR!",e.message,"error"),t.listGradRule()})):r.dismiss===b.a.DismissReason.cancel&&a.fire("Cancelled","Your list data safe","error")}))}},{key:"addGradeRule",value:function(){try{this.util.gradeRuleStatus=1}catch(e){console.log(e)}}}]),t}()).\u0275fac=function(e){return new(e||h)(c.Tb(g.a),c.Tb(p.e),c.Tb(o.b),c.Tb(m.a))},h.\u0275cmp=c.Nb({type:h,selectors:[["app-list-graderule"]],decls:15,vars:2,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["type","button","routerLink","/pages/graderule/add-graderule",1,"btn","btn-primary",2,"float","right",3,"disabled","click"],[1,"fa","fa-plus-square"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash"],["type","button",1,"btn","btn-info",3,"disabled","routerLink"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2"),c.Ic(3,"Grade Rule"),c.Yb(),c.Zb(4,"button",2),c.gc("click",(function(){return t.addGradeRule()})),c.Ub(5,"i",3),c.Ic(6,"\xa0 Add Grade Rule"),c.Yb(),c.Yb(),c.Zb(7,"table",4),c.Zb(8,"thead",5),c.Zb(9,"tr"),c.Zb(10,"th"),c.Ic(11," S.No "),c.Yb(),c.Zb(12,"th"),c.Ic(13," Title "),c.Yb(),c.Yb(),c.Yb(),c.Gc(14,f,16,8,"tbody",6),c.Yb(),c.Yb()),2&e&&(c.Hb(4),c.pc("disabled",-1===t.permissionInfo.search("Create GradeRule")),c.Hb(10),c.pc("ngForOf",t.listGradRuleData))},directives:[o.c,s.l,o.e],styles:[""]}),h);function y(e,t){if(1&e&&(c.Zb(0,"p",26),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.errMsg)}}function H(e,t){if(1&e&&(c.Zb(0,"p",27),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.successMsg)}}function I(e,t){if(1&e&&(c.Zb(0,"div",29),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function Y(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,I,2,1,"div",28),c.Yb()),2&e){var a=t.$implicit,r=c.jc();c.Hb(1),c.pc("ngIf",r.graderuleForm.get("title").hasError(a.type)&&(r.graderuleForm.get("title").dirty||r.graderuleForm.get("title").touched))}}function Z(e,t){if(1&e&&(c.Zb(0,"option",30),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.pc("ngValue",a._id),c.Hb(1),c.Jc(a.title)}}function M(e,t){if(1&e&&(c.Zb(0,"div",29),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function P(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,M,2,1,"div",28),c.Yb()),2&e){var a=t.$implicit,r=c.jc();c.Hb(1),c.pc("ngIf",r.graderuleForm.get("paymentHead.paymentHeadId").hasError(a.type)&&(r.graderuleForm.get("paymentHead.paymentHeadId").dirty||r.graderuleForm.get("paymentHead.paymentHeadId").touched))}}function F(e,t){if(1&e&&(c.Zb(0,"option",31),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.Hb(1),c.Jc(a)}}function E(e,t){if(1&e&&(c.Zb(0,"div",29),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function x(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,E,2,1,"div",28),c.Yb()),2&e){var a=t.$implicit,r=c.jc();c.Hb(1),c.pc("ngIf",r.graderuleForm.get("paymentHead.type").hasError(a.type)&&(r.graderuleForm.get("paymentHead.type").dirty||r.graderuleForm.get("paymentHead.type").touched))}}function G(e,t){if(1&e&&(c.Zb(0,"div",29),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function w(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,G,2,1,"div",28),c.Yb()),2&e){var a=t.$implicit,r=c.jc(2);c.Hb(1),c.pc("ngIf",r.graderuleForm.get("paymentHead.value").hasError(a.type)&&(r.graderuleForm.get("paymentHead.value").dirty||r.graderuleForm.get("paymentHead.value").touched))}}function R(e,t){if(1&e&&(c.Zb(0,"div",19),c.Zb(1,"div",9),c.Zb(2,"label",10),c.Zb(3,"b"),c.Ic(4,"Enter Amount:\xa0"),c.Zb(5,"span",11),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"div",4),c.Ub(8,"input",32),c.Yb(),c.Yb(),c.Gc(9,w,2,1,"div",13),c.Yb()),2&e){var a=c.jc();c.Hb(9),c.pc("ngForOf",a.validationMessage.value)}}function V(e,t){if(1&e){var a=c.ac();c.Zb(0,"div",19),c.Zb(1,"div",9),c.Zb(2,"label",10),c.Zb(3,"b"),c.Ic(4,"Enter Percent:\xa0"),c.Zb(5,"span",11),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"div",4),c.Zb(8,"input",33),c.gc("input",(function(){return c.Bc(a),c.jc().demo()})),c.Yb(),c.Yb(),c.Yb(),c.Zb(9,"div"),c.Zb(10,"p",34),c.Ic(11),c.Yb(),c.Yb(),c.Zb(12,"div"),c.Zb(13,"p",34),c.Ic(14),c.Yb(),c.Yb(),c.Yb()}if(2&e){var r=c.jc();c.Hb(11),c.Jc(r.percentErrorMsg),c.Hb(3),c.Kc(" ",r.errorMsg,"")}}function k(e,t){if(1&e&&(c.Zb(0,"option",30),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.pc("ngValue",a.value),c.Hb(1),c.Jc(a.name)}}function O(e,t){if(1&e&&(c.Zb(0,"div",19),c.Zb(1,"div",9),c.Zb(2,"label",10),c.Zb(3,"b"),c.Ic(4,"Percent Of:\xa0"),c.Zb(5,"span",11),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"select",35),c.Zb(8,"option",16),c.Ic(9,"----Select Percent Of----"),c.Yb(),c.Gc(10,k,2,2,"option",17),c.Yb(),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(10),c.pc("ngForOf",a.fixedPaymentHeadsList)}}var T,L=((T=function(){function t(a,r,n,i){e(this,t),this.api=a,this.fb=r,this.router=n,this.util=i,this.Fixed=!1,this.Percent=!1,this.percentErrorMsg="Percent is Required",this.gradeType=["Fixed","Percent"],this.successMessage=!1,this.serverErrorMsg=!1,this.fixedPaymentHeadsList=[],this.percentOfValue="basicSalary",this.validationMessage={title:[{type:"required",message:"Title is required"}],value:[{type:"required",message:"Amount is required"},{type:"maxlength",message:"Amount is too Large"},{type:"pattern",message:"Amount not valid"}],paymentHeadId:[{type:"required",message:"Payment Head is required"}],type:[{type:"required",message:"Type  is required"}]},this.isListAvaliable()}return a(t,[{key:"ngOnInit",value:function(){this.paymentHeadList(),this.addMemberValidation(),this.fixedPaymentHeads(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Create GradeRule")&&this.graderuleForm.disable()}},{key:"check",value:function(e){var t={fixed:[p.v.required,p.v.maxLength(8),p.v.pattern("^[0-9]*$")],percent:[p.v.required,p.v.maxLength(8),p.v.pattern(/^\d{0,2}(?:\.\d{0,2})?$/)]},a=e.target.options[e.target.options.selectedIndex].text;"Fixed"==a?(this.Fixed=!0,this.Percent=!1,this.errorMsg="",this.percentErrorMsg="",this.graderuleForm.get("paymentHead.value").setValidators(t.fixed),this.graderuleForm.get("paymentHead.value").updateValueAndValidity()):"Percent"==a&&(this.Percent=!0,this.Fixed=!1,this.graderuleForm.get("paymentHead.value").value&&this.switchTypeValidation(this.graderuleForm.get("paymentHead.value").value),this.graderuleForm.get("paymentHead.value").setValidators(t.percent),this.graderuleForm.get("paymentHead.value").updateValueAndValidity())}},{key:"addMemberValidation",value:function(){this.graderuleForm=this.fb.group({title:new p.f("",p.v.required),paymentHead:new p.h({paymentHeadId:new p.f("",p.v.required),type:new p.f("",p.v.required),value:new p.f("",p.v.compose([p.v.required,p.v.maxLength(8),p.v.pattern("^[0-9]*$")]))})})}},{key:"paymentHeadList",value:function(){var e=this;this.api.getPaymentHeadData().subscribe((function(t){e.paymentHeadDataList=t.data}))}},{key:"graderuleData",value:function(){var e=this;try{this.api.getGradeRule(this.graderuleForm.value,this.percentOfValue).subscribe((function(t){"success"===t.status?(e.successMessage=!0,e.serverErrorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.router.navigateByUrl("pages/graderule/list-graderule")}),2e3)):(e.serverErrorMsg=!0,e.successMessage=!1,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(t){console.log(t)}}},{key:"demo",value:function(){"Fixed"!=document.getElementById("typeValue").value&&(this.inputValue=document.getElementById("percentValue").value,this.inputValue>0&&this.inputValue<=100?(this.percentErrorMsg="",this.errorMsg=""):0==this.inputValue.length?(this.percentErrorMsg="Percent is Required",this.errorMsg=""):this.inputValue.length>6?(this.percentErrorMsg="Percent Value is too Large",this.errorMsg=""):(this.percentErrorMsg="",this.errorMsg="Enter value is not valid"))}},{key:"switchTypeValidation",value:function(e){e>0&&e<=100?(this.percentErrorMsg="",this.errorMsg=""):0==e.toString().length?(this.percentErrorMsg="Percent is Required",this.errorMsg=""):e.toString().length>6?(this.percentErrorMsg="Percent Value is too Large",this.errorMsg=""):(this.percentErrorMsg="",this.errorMsg="Enter value is not valid")}},{key:"handleErrors",value:function(){this.serverErrorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}},{key:"isListAvaliable",value:function(){var e=this;try{this.api.getGradeRuleList().subscribe((function(t){"success"===t.status&&t.data.length>0&&1!==e.util.gradeRuleStatus&&(e.router.navigateByUrl("/pages/graderule/list-graderule"),e.util.gradeRuleStatus=0)}))}catch(t){console.log(t)}}},{key:"fixedPaymentHeads",value:function(){var e=this;try{this.api.fixedPaymentHeads(void 0).subscribe((function(t){"success"===t.status&&(e.fixedPaymentHeadsList=t.data)}))}catch(t){console.log(t)}}}]),t}()).\u0275fac=function(e){return new(e||T)(c.Tb(g.a),c.Tb(p.e),c.Tb(o.b),c.Tb(m.a))},T.\u0275cmp=c.Nb({type:T,selectors:[["app-add-graderule"]],decls:49,vars:13,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"cols"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","title","placeholder","Enter Title","formControlName","title","required","",1,"form-control"],[4,"ngFor","ngForOf"],[3,"formGroup"],["name","Payment Heades","formControlName","paymentHeadId",1,"dropdown","dropdown-toggle","form-control",3,"change"],["ng-selected","true","value","","disabled",""],["selected","",3,"ngValue",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-4"],[1,"col-sm-4","control-label"],["id","typeValue","formControlName","type",1,"dropdown","dropdown-toggle","form-control",3,"change"],["class","dropdown-item",4,"ngFor","ngForOf"],["class","col-md-4",4,"ngIf"],["type","submit",1,"btn","btn-success",3,"disabled","click"],["routerLink","/pages/graderule/list-graderule",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"],["selected","",3,"ngValue"],[1,"dropdown-item"],["type","text","id","value","placeholder","Enter Amount","formControlName","value","required","",1,"form-control"],["type","number","id","percentValue","placeholder","Enter Percent","formControlName","value","required","",1,"form-control",3,"input"],[2,"color","red"],["name","Payment Heades",1,"dropdown","dropdown-toggle","form-control"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Grade Rule Details"),c.Yb(),c.Yb(),c.Zb(4,"div",3),c.Zb(5,"div",4),c.Gc(6,y,3,1,"p",5),c.Yb(),c.Zb(7,"div",4),c.Gc(8,H,3,1,"p",6),c.Yb(),c.Zb(9,"form",7),c.gc("ngSubmit",(function(){return t.graderuleData()})),c.Zb(10,"div",8),c.Zb(11,"div",9),c.Zb(12,"label",10),c.Zb(13,"b"),c.Ic(14,"Title:\xa0"),c.Zb(15,"span",11),c.Ic(16,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(17,"div",4),c.Ub(18,"input",12),c.Gc(19,Y,2,1,"div",13),c.Yb(),c.Yb(),c.Yb(),c.Zb(20,"div",14),c.Zb(21,"label",10),c.Zb(22,"b"),c.Ic(23,"Payment Head:\xa0"),c.Zb(24,"span",11),c.Ic(25,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(26,"select",15),c.gc("change",(function(e){return t.check(e.target)})),c.Zb(27,"option",16),c.Ic(28,"----------Select Payment Head Name----------"),c.Yb(),c.Gc(29,Z,2,2,"option",17),c.Yb(),c.Gc(30,P,2,1,"div",13),c.Ub(31,"br"),c.Zb(32,"div",18),c.Zb(33,"div",19),c.Zb(34,"label",20),c.Zb(35,"b"),c.Ic(36,"Type:\xa0"),c.Yb(),c.Yb(),c.Zb(37,"select",21),c.gc("change",(function(e){return t.check(e)})),c.Zb(38,"option",16),c.Ic(39,"----------Select Grade Type----------"),c.Yb(),c.Gc(40,F,2,1,"option",22),c.Yb(),c.Gc(41,x,2,1,"div",13),c.Yb(),c.Gc(42,R,10,1,"div",23),c.Gc(43,V,15,2,"div",23),c.Gc(44,O,11,1,"div",23),c.Yb(),c.Yb(),c.Zb(45,"button",24),c.gc("click",(function(){return t.demo()})),c.Ic(46,"Submit"),c.Yb(),c.Zb(47,"button",25),c.Ic(48,"Cancel"),c.Yb(),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Hb(6),c.pc("ngIf",t.serverErrorMsg),c.Hb(2),c.pc("ngIf",t.successMessage),c.Hb(1),c.pc("formGroup",t.graderuleForm),c.Hb(10),c.pc("ngForOf",t.validationMessage.title),c.Hb(1),c.pc("formGroup",t.graderuleForm.get("paymentHead")),c.Hb(9),c.pc("ngForOf",t.paymentHeadDataList),c.Hb(1),c.pc("ngForOf",t.validationMessage.paymentHeadId),c.Hb(10),c.pc("ngForOf",t.gradeType),c.Hb(1),c.pc("ngForOf",t.validationMessage.type),c.Hb(1),c.pc("ngIf",t.Fixed),c.Hb(1),c.pc("ngIf",t.Percent),c.Hb(1),c.pc("ngIf",t.Percent),c.Hb(1),c.pc("disabled",t.graderuleForm.invalid||t.errorMsg||t.percentErrorMsg||-1===t.permissionInfo.search("Create GradeRule")))},directives:[s.m,p.x,p.o,p.i,p.c,p.n,p.g,p.t,s.l,p.u,p.q,p.w,o.c,p.r],encapsulation:2}),T);function q(e,t){if(1&e&&(c.Zb(0,"p",15),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.errMsg)}}function j(e,t){if(1&e&&(c.Zb(0,"p",16),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.successMsg)}}function D(e,t){if(1&e&&(c.Zb(0,"div",18),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function C(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,D,2,1,"div",17),c.Yb()),2&e){var a=t.$implicit,r=c.jc();c.Hb(1),c.pc("ngIf",r.graderuleUpdateForm.get("title").hasError(a.type)&&(r.graderuleUpdateForm.get("title").dirty||r.graderuleUpdateForm.get("title").touched))}}var $,B=(($=function(){function t(a,r,n,i,s,o){var c=this;e(this,t),this.api=a,this.fb=r,this.route=n,this.ngZone=i,this.router=s,this.util=o,this.successMessage=!1,this.errorMsg=!1,this.validationMessage={title:[{type:"required",message:"Title is required"}]},this.gradeRuleId=this.route.snapshot.paramMap.get("gradeRuleId"),this.util.moduleExists(this.gradeRuleId,"GradeRule").subscribe((function(e){"success"===e.status&&(e.data||c.router.navigateByUrl("/pages/graderule/list-graderule"))}))}return a(t,[{key:"ngOnInit",value:function(){this.addMemberValidation(),this.existingData(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Edit GradeRule")&&this.graderuleUpdateForm.disable()}},{key:"addMemberValidation",value:function(){this.graderuleUpdateForm=this.fb.group({title:new p.f("",p.v.required)})}},{key:"existingData",value:function(){var e=this;this.api.existingData(this.gradeRuleId).subscribe((function(t){e.graderuleUpdateForm=e.fb.group({title:new p.f(t.data.title,p.v.required)})}))}},{key:"graderuleUpdateData",value:function(){var e=this;try{var t=this.util.cleanFormLevelOne(this.graderuleUpdateForm);this.api.updateGadeRule(t.value,this.gradeRuleId).subscribe((function(t){"success"===t.status?(e.successMessage=!0,e.errorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.ngZone.run((function(){return e.router.navigateByUrl("/pages/graderule/list-graderule")}))}),2e3)):(e.successMessage=!1,e.errorMsg=!0,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(a){console.log(a)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}]),t}()).\u0275fac=function(e){return new(e||$)(c.Tb(g.a),c.Tb(p.e),c.Tb(o.a),c.Tb(c.E),c.Tb(o.b),c.Tb(m.a))},$.\u0275cmp=c.Nb({type:$,selectors:[["app-update-graderule"]],decls:23,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","placeholder","Enter Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],["routerLink","/pages/graderule/list-graderule",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Update Grade Rule Details"),c.Yb(),c.Yb(),c.Zb(4,"div",3),c.Zb(5,"div",4),c.Gc(6,q,3,1,"p",5),c.Yb(),c.Zb(7,"div",4),c.Gc(8,j,3,1,"p",6),c.Yb(),c.Zb(9,"form",7),c.gc("ngSubmit",(function(){return t.graderuleUpdateData()})),c.Zb(10,"div",8),c.Zb(11,"label",9),c.Zb(12,"b"),c.Ic(13,"Title:\xa0"),c.Zb(14,"span",10),c.Ic(15,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(16,"div",4),c.Ub(17,"input",11),c.Gc(18,C,2,1,"div",12),c.Yb(),c.Yb(),c.Zb(19,"button",13),c.Ic(20,"Update"),c.Yb(),c.Zb(21,"button",14),c.Ic(22,"Cancel"),c.Yb(),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Hb(6),c.pc("ngIf",t.errorMsg),c.Hb(2),c.pc("ngIf",t.successMessage),c.Hb(1),c.pc("formGroup",t.graderuleUpdateForm),c.Hb(9),c.pc("ngForOf",t.validationMessage.title),c.Hb(1),c.pc("disabled",t.graderuleUpdateForm.invalid||-1===t.permissionInfo.search("Edit GradeRule")))},directives:[s.m,p.x,p.o,p.i,p.c,p.n,p.g,s.l,o.c],encapsulation:2}),$);function U(e,t){if(1&e){var a=c.ac();c.Zb(0,"tbody"),c.Zb(1,"tr"),c.Zb(2,"td"),c.Zb(3,"b"),c.Ic(4),c.Yb(),c.Yb(),c.Zb(5,"td"),c.Ic(6),c.Yb(),c.Zb(7,"td"),c.Ic(8),c.Yb(),c.Zb(9,"td"),c.Ic(10),c.Yb(),c.Zb(11,"td"),c.Zb(12,"a",10),c.Ub(13,"i",11),c.Yb(),c.Ic(14,"\xa0 "),c.Zb(15,"button",12),c.gc("click",(function(){c.Bc(a);var e=t.$implicit;return c.jc().showConfirmationMessage(e._id)})),c.Ub(16,"i",13),c.Yb(),c.Ic(17,"\xa0 "),c.Yb(),c.Yb(),c.Yb()}if(2&e){var r=t.$implicit,n=t.index,i=c.jc();c.Hb(4),c.Kc("",n+1,"."),c.Hb(2),c.Kc(" ",r.paymentHeadName," "),c.Hb(2),c.Jc(r.value),c.Hb(2),c.Jc(r.type),c.Hb(2),c.Lb("disabled",-1===i.permissionInfo.search("Edit PaymentHeads")),c.sc("routerLink","/pages/graderule/update-managePaymentHeads/",r._id,"/",i.gradeRuleId,""),c.Hb(3),c.pc("disabled",-1===i.permissionInfo.search("Delete PaymentHeads"))}}function A(e,t){if(1&e&&(c.Zb(0,"p",23),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.errMsg)}}function S(e,t){if(1&e&&(c.Zb(0,"p",24),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.successMsg)}}function N(e,t){if(1&e&&(c.Zb(0,"option",25),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.pc("ngValue",a._id),c.Hb(1),c.Jc(a.title)}}function J(e,t){if(1&e&&(c.Zb(0,"div",27),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function K(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,J,2,1,"div",26),c.Yb()),2&e){var a=t.$implicit,r=c.jc();c.Hb(1),c.pc("ngIf",r.managePaymentForm.get("paymentHead.paymentHeadId").hasError(a.type)&&(r.managePaymentForm.get("paymentHead.paymentHeadId").dirty||r.managePaymentForm.get("paymentHead.paymentHeadId").touched))}}function _(e,t){if(1&e&&(c.Zb(0,"option",28),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.Hb(1),c.Jc(a)}}function z(e,t){if(1&e&&(c.Zb(0,"div",27),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function Q(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,z,2,1,"div",26),c.Yb()),2&e){var a=t.$implicit,r=c.jc();c.Hb(1),c.pc("ngIf",r.managePaymentForm.get("paymentHead.type").hasError(a.type)&&(r.managePaymentForm.get("paymentHead.type").dirty||r.managePaymentForm.get("paymentHead.type").touched))}}function X(e,t){if(1&e&&(c.Zb(0,"div",27),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function W(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,X,2,1,"div",26),c.Yb()),2&e){var a=t.$implicit,r=c.jc(2);c.Hb(1),c.pc("ngIf",r.managePaymentForm.get("paymentHead.value").hasError(a.type)&&(r.managePaymentForm.get("paymentHead.value").dirty||r.managePaymentForm.get("paymentHead.value").touched))}}function ee(e,t){if(1&e&&(c.Zb(0,"div",16),c.Zb(1,"div",29),c.Zb(2,"label",9),c.Zb(3,"b"),c.Ic(4,"Enter Amount:\xa0"),c.Zb(5,"span",10),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"div",4),c.Ub(8,"input",30),c.Yb(),c.Yb(),c.Gc(9,W,2,1,"div",14),c.Yb()),2&e){var a=c.jc();c.Hb(9),c.pc("ngForOf",a.validationMessage.value)}}function te(e,t){if(1&e){var a=c.ac();c.Zb(0,"div",16),c.Zb(1,"div",29),c.Zb(2,"label",9),c.Zb(3,"b"),c.Ic(4,"Enter Percent:\xa0"),c.Zb(5,"span",10),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"div",4),c.Zb(8,"input",31),c.gc("input",(function(){return c.Bc(a),c.jc().demo()})),c.Yb(),c.Yb(),c.Yb(),c.Zb(9,"div"),c.Zb(10,"p",32),c.Ic(11),c.Yb(),c.Yb(),c.Zb(12,"div"),c.Zb(13,"p",32),c.Ic(14),c.Yb(),c.Yb(),c.Yb()}if(2&e){var r=c.jc();c.Hb(11),c.Jc(r.percentErrorMsg),c.Hb(3),c.Kc(" ",r.errorMsg,"")}}function ae(e,t){if(1&e&&(c.Zb(0,"option",35),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.pc("value",a.value),c.Hb(1),c.Jc(a.name)}}function re(e,t){if(1&e){var a=c.ac();c.Zb(0,"div",16),c.Zb(1,"div",29),c.Zb(2,"label",9),c.Zb(3,"b"),c.Ic(4,"Percent Of:\xa0"),c.Zb(5,"span",10),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"select",33),c.gc("change",(function(e){return c.Bc(a),c.jc().percentOf(e.target.value)})),c.Zb(8,"option",12),c.Ic(9,"----Select Percent Of----"),c.Yb(),c.Gc(10,ae,2,2,"option",34),c.Yb(),c.Yb(),c.Yb()}if(2&e){var r=c.jc();c.Hb(10),c.pc("ngForOf",r.fixedPaymentHeadsList)}}function ne(e,t){if(1&e&&(c.Zb(0,"p",22),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.errMsg)}}function ie(e,t){if(1&e&&(c.Zb(0,"p",23),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.successMsg)}}function se(e,t){if(1&e&&(c.Zb(0,"option",24),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.pc("ngValue",a._id),c.Hb(1),c.Jc(a.title)}}function oe(e,t){if(1&e&&(c.Zb(0,"div",26),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function ce(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,oe,2,1,"div",25),c.Yb()),2&e){var a=t.$implicit,r=c.jc();c.Hb(1),c.pc("ngIf",r.updateManagePaymentForm.get("paymentHead.paymentHeadId").hasError(a.type)&&(r.updateManagePaymentForm.get("paymentHead.paymentHeadId").dirty||r.updateManagePaymentForm.get("paymentHead.paymentHeadId").touched))}}function de(e,t){if(1&e&&(c.Zb(0,"option",27),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.Hb(1),c.Jc(a)}}function ue(e,t){if(1&e&&(c.Zb(0,"div",26),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function le(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,ue,2,1,"div",25),c.Yb()),2&e){var a=t.$implicit,r=c.jc();c.Hb(1),c.pc("ngIf",r.updateManagePaymentForm.get("paymentHead.type").hasError(a.type)&&(r.updateManagePaymentForm.get("paymentHead.type").dirty||r.updateManagePaymentForm.get("paymentHead.type").touched))}}function be(e,t){if(1&e&&(c.Zb(0,"div",26),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function ge(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,be,2,1,"div",25),c.Yb()),2&e){var a=t.$implicit,r=c.jc(2);c.Hb(1),c.pc("ngIf",r.updateManagePaymentForm.get("paymentHead.value").hasError(a.type)&&(r.updateManagePaymentForm.get("paymentHead.value").dirty||r.updateManagePaymentForm.get("paymentHead.value").touched))}}function pe(e,t){if(1&e&&(c.Zb(0,"div",15),c.Zb(1,"div",28),c.Zb(2,"label",9),c.Zb(3,"b"),c.Ic(4,"Enter Amount:\xa0"),c.Zb(5,"span",10),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"div",4),c.Ub(8,"input",29),c.Yb(),c.Yb(),c.Gc(9,ge,2,1,"div",13),c.Yb()),2&e){var a=c.jc();c.Hb(9),c.pc("ngForOf",a.validationMessage.value)}}function me(e,t){if(1&e){var a=c.ac();c.Zb(0,"div",15),c.Zb(1,"div",28),c.Zb(2,"label",9),c.Zb(3,"b"),c.Ic(4,"Enter Percent:\xa0"),c.Zb(5,"span",10),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"div",4),c.Zb(8,"input",30),c.gc("input",(function(){return c.Bc(a),c.jc().demo()})),c.Yb(),c.Yb(),c.Yb(),c.Zb(9,"div"),c.Zb(10,"p",31),c.Ic(11),c.Yb(),c.Yb(),c.Zb(12,"div"),c.Zb(13,"p",31),c.Ic(14),c.Yb(),c.Yb(),c.Yb()}if(2&e){var r=c.jc();c.Hb(11),c.Jc(r.percentErrorMsg),c.Hb(3),c.Kc(" ",r.errorMsg,"")}}function fe(e,t){if(1&e&&(c.Zb(0,"option",35),c.Ic(1),c.Yb()),2&e){var a=t.$implicit;c.pc("value",a.value),c.Hb(1),c.Jc(a.name)}}function he(e,t){if(1&e){var a=c.ac();c.Zb(0,"div",15),c.Zb(1,"div",28),c.Zb(2,"label",9),c.Zb(3,"b"),c.Ic(4,"Percent Of:\xa0"),c.Zb(5,"span",10),c.Ic(6,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(7,"select",32),c.gc("change",(function(e){return c.Bc(a),c.jc().percentOf(e.target.value)})),c.Zb(8,"option",33),c.Ic(9,"----Select Percent Of----"),c.Yb(),c.Gc(10,fe,2,2,"option",34),c.Yb(),c.Yb(),c.Yb()}if(2&e){var r=c.jc();c.Hb(10),c.pc("ngForOf",r.fixedPaymentHeadsList)}}var ve,ye,He,Ie,Ye,Ze=[{path:"",component:d,canActivate:[u.a],children:[{path:"list-graderule",component:v},{path:"list-managePaymentHeads/:gradeRuleId",component:(He=function(){function t(a,r,n,i,s,o){e(this,t),this.api=a,this.fb=r,this.route=n,this.ngZone=i,this.router=s,this.util=o,this.showCard={},this.leaveListData=new Array,this.companyShowData=[]}return a(t,[{key:"ngOnDestroy",value:function(){document.getElementById("headerCompanyDropDown").removeAttribute("disabled")}},{key:"ngOnInit",value:function(){this.gradeRuleId=this.route.snapshot.paramMap.get("gradeRuleId"),this.listGradeRule(),document.getElementById("headerCompanyDropDown").setAttribute("disabled","disabled"),this.permissionInfo=this.util.permissionRoleInfo}},{key:"listGradeRule",value:function(){var e=this;this.api.existingData(this.gradeRuleId).subscribe((function(t){e.gradeRuleTitle=t.data.title,e.dataValue=t.data.paymentHeads}))}},{key:"showConfirmationMessage",value:function(e){var t=this,a=b.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});a.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then((function(r){r.value?t.api.removeGradeData(e,t.gradeRuleId).subscribe((function(e){a.fire("Deleted!",e.message,"success"),t.listGradeRule()})):r.dismiss===b.a.DismissReason.cancel&&a.fire("Cancelled","Your list data safe","error")}))}}]),t}(),He.\u0275fac=function(e){return new(e||He)(c.Tb(g.a),c.Tb(p.e),c.Tb(o.a),c.Tb(c.E),c.Tb(o.b),c.Tb(m.a))},He.\u0275cmp=c.Nb({type:He,selectors:[["app-list-managePaymentHeads"]],decls:25,vars:4,consts:[[1,"card"],[1,"card-header"],[2,"text-align","center"],["type","button",1,"btn","btn-primary",2,"float","right",3,"disabled","routerLink"],[1,"fa","fa-plus-square"],["type","button","routerLink","/pages/graderule/list-graderule",1,"btn","btn-primary",2,"float","right"],[1,"fa","fa-arrow-left"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Payment Heads List"),c.Yb(),c.Zb(4,"button",3),c.Ub(5,"i",4),c.Ic(6,"\xa0 Add Payment Heads"),c.Yb(),c.Zb(7,"button",5),c.Ub(8,"i",6),c.Yb(),c.Zb(9,"h4"),c.Ic(10),c.Yb(),c.Yb(),c.Zb(11,"table",7),c.Zb(12,"thead",8),c.Zb(13,"tr"),c.Zb(14,"th"),c.Ic(15,"S.No"),c.Yb(),c.Zb(16,"th"),c.Ic(17,"Title"),c.Yb(),c.Zb(18,"th"),c.Ic(19,"Amount/Rate"),c.Yb(),c.Zb(20,"th"),c.Ic(21,"Category"),c.Yb(),c.Zb(22,"th"),c.Ic(23,"Action"),c.Yb(),c.Yb(),c.Yb(),c.Gc(24,U,18,9,"tbody",9),c.Yb(),c.Yb()),2&e&&(c.Hb(4),c.rc("routerLink","/pages/graderule/add-managePaymentHeads/",t.gradeRuleId,""),c.pc("disabled",-1===t.permissionInfo.search("Create PaymentHeads")),c.Hb(6),c.Jc(t.gradeRuleTitle),c.Hb(14),c.pc("ngForOf",t.dataValue))},directives:[o.c,s.l,o.e],styles:[".card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;color:#50cbce}"]}),He)},{path:"add-managePaymentHeads/:gradeRuleId",component:(ye=function(){function t(a,r,n,i,s,o){e(this,t),this.api=a,this.fb=r,this.route=n,this.ngZone=i,this.router=s,this.util=o,this.fixedPaymentHeadsList=[],this.Fixed=!1,this.Percent=!1,this.gradeType=["Fixed","Percent"],this.successMessage=!1,this.serverErrorMsg=!1,this.percentOfValue="basicSalary",this.validationMessage={value:[{type:"required",message:"Amount is Required"},{type:"maxlength",message:"Amount is too Large"},{type:"pattern",message:"Amount not valid"}],paymentHeadId:[{type:"required",message:"Payment Head is Required"}],type:[{type:"required",message:"Type  is Required"}]}}return a(t,[{key:"ngOnDestroy",value:function(){document.getElementById("headerCompanyDropDown").removeAttribute("disabled")}},{key:"ngOnInit",value:function(){this.gradeRuleId=this.route.snapshot.paramMap.get("gradeRuleId"),this.addMemberValidation(),this.fixedPaymentHeads(),this.paymentHeadList(),document.getElementById("headerCompanyDropDown").setAttribute("disabled","disabled"),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Create PaymentHeads")&&this.managePaymentForm.disable()}},{key:"check",value:function(e){var t={fixed:[p.v.required,p.v.maxLength(8),p.v.pattern("^[0-9]*$")],percent:[p.v.required,p.v.maxLength(8),p.v.pattern(/^\d{0,2}(?:\.\d{0,2})?$/)]};try{var a=e.target.options[e.target.options.selectedIndex].text;"Fixed"==a?(this.Fixed=!0,this.Percent=!1,this.errorMsg="",this.percentErrorMsg="",this.managePaymentForm.get("paymentHead.value").setValidators(t.fixed),this.managePaymentForm.get("paymentHead.value").updateValueAndValidity()):"Percent"==a&&(this.Percent=!0,this.Fixed=!1,this.managePaymentForm.get("paymentHead.value").value&&this.switchTypeValidation(this.managePaymentForm.get("paymentHead.value").value),this.managePaymentForm.get("paymentHead.value").setValidators(t.percent),this.managePaymentForm.get("paymentHead.value").updateValueAndValidity())}catch(r){console.log(r)}}},{key:"addMemberValidation",value:function(){try{this.managePaymentForm=this.fb.group({paymentHead:new p.h({paymentHeadId:new p.f("",p.v.required),type:new p.f("",p.v.required),value:new p.f("",p.v.compose([p.v.required,p.v.pattern("^[0-9]*$")]))})})}catch(e){console.log(e)}}},{key:"paymentHeadList",value:function(){var e=this;this.api.filterPaymentHeads(this.gradeRuleId).subscribe((function(t){e.paymentHeadDataList=t.data}))}},{key:"managePaymentData",value:function(){var e=this;try{this.api.addGradules(this.managePaymentForm.value,this.gradeRuleId,this.percentOfValue).subscribe((function(t){"success"===t.status?(e.successMessage=!0,e.serverErrorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.router.navigateByUrl("pages/graderule/list-managePaymentHeads/"+e.gradeRuleId)}),2e3)):(e.serverErrorMsg=!0,e.successMessage=!1,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(t){console.log(t)}}},{key:"handleErrors",value:function(){this.serverErrorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}},{key:"demo",value:function(){"Fixed"!=document.getElementById("typeValue").value&&(this.inputValue=document.getElementById("percentValue").value,this.inputValue>0&&this.inputValue<=100?(this.percentErrorMsg="",this.errorMsg=""):0==this.inputValue.length?(this.percentErrorMsg="Percent is Required",this.errorMsg=""):(this.percentErrorMsg="",this.errorMsg="Enter value is not valid"))}},{key:"switchTypeValidation",value:function(e){e>0&&e<=100?(this.percentErrorMsg="",this.errorMsg=""):0==e.toString().length?(this.percentErrorMsg="Percent is Required",this.errorMsg=""):e.toString().length>6?(this.percentErrorMsg="Percent Value is too Large",this.errorMsg=""):(this.percentErrorMsg="",this.errorMsg="Enter value is not valid")}},{key:"fixedPaymentHeads",value:function(){var e=this;try{this.api.fixedPaymentHeads(this.gradeRuleId).subscribe((function(t){"success"===t.status&&(e.fixedPaymentHeadsList=t.data)}))}catch(t){console.log(t)}}},{key:"percentOf",value:function(e){this.percentOfValue=e}}]),t}(),ye.\u0275fac=function(e){return new(e||ye)(c.Tb(g.a),c.Tb(p.e),c.Tb(o.a),c.Tb(c.E),c.Tb(o.b),c.Tb(m.a))},ye.\u0275cmp=c.Nb({type:ye,selectors:[["app-add-managePaymentHeads"]],decls:41,vars:13,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"formGroup"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["name","Payment Heades","formControlName","paymentHeadId",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled",""],["selected","",3,"ngValue",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-4"],[1,"col-sm-8","control-label"],["id","typeValue","formControlName","type",1,"dropdown","dropdown-toggle","form-control",3,"change"],["class","dropdown-item",4,"ngFor","ngForOf"],["class","col-md-4",4,"ngIf"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"btn","btn-danger",3,"routerLink"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["selected","",3,"ngValue"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"],[1,"dropdown-item"],[1,"form-group"],["type","text","id","value","placeholder","Enter Amount","formControlName","value","required","",1,"form-control"],["type","number","id","percentValue","placeholder","Enter Percent","formControlName","value","required","",1,"form-control",3,"input"],[2,"color","red"],["name","Payment Heades",1,"dropdown","dropdown-toggle","form-control",3,"change"],["selected","",3,"value",4,"ngFor","ngForOf"],["selected","",3,"value"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Manage Payment Heads Details"),c.Yb(),c.Yb(),c.Zb(4,"div",3),c.Zb(5,"div",4),c.Gc(6,A,3,1,"p",5),c.Yb(),c.Zb(7,"div",4),c.Gc(8,S,3,1,"p",6),c.Yb(),c.Zb(9,"form",7),c.gc("ngSubmit",(function(){return t.managePaymentData()})),c.Zb(10,"div",8),c.Zb(11,"label",9),c.Zb(12,"b"),c.Ic(13,"Payment Head:\xa0"),c.Zb(14,"span",10),c.Ic(15,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(16,"select",11),c.Zb(17,"option",12),c.Ic(18,"----------Select Payment Head Name----------"),c.Yb(),c.Gc(19,N,2,2,"option",13),c.Yb(),c.Gc(20,K,2,1,"div",14),c.Ub(21,"br"),c.Zb(22,"div",15),c.Zb(23,"div",16),c.Zb(24,"label",17),c.Zb(25,"b"),c.Ic(26,"Type:\xa0"),c.Zb(27,"span",10),c.Ic(28,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(29,"select",18),c.gc("change",(function(e){return t.check(e)})),c.Zb(30,"option",12),c.Ic(31,"----------Select Grade Type----------"),c.Yb(),c.Gc(32,_,2,1,"option",19),c.Yb(),c.Gc(33,Q,2,1,"div",14),c.Yb(),c.Gc(34,ee,10,1,"div",20),c.Gc(35,te,15,2,"div",20),c.Gc(36,re,11,1,"div",20),c.Yb(),c.Yb(),c.Zb(37,"button",21),c.Ic(38,"Submit"),c.Yb(),c.Zb(39,"button",22),c.Ic(40,"Cancel"),c.Yb(),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Hb(6),c.pc("ngIf",t.serverErrorMsg),c.Hb(2),c.pc("ngIf",t.successMessage),c.Hb(1),c.pc("formGroup",t.managePaymentForm),c.Hb(1),c.pc("formGroup",t.managePaymentForm.get("paymentHead")),c.Hb(9),c.pc("ngForOf",t.paymentHeadDataList),c.Hb(1),c.pc("ngForOf",t.validationMessage.paymentHeadId),c.Hb(12),c.pc("ngForOf",t.gradeType),c.Hb(1),c.pc("ngForOf",t.validationMessage.type),c.Hb(1),c.pc("ngIf",t.Fixed),c.Hb(1),c.pc("ngIf",t.Percent),c.Hb(1),c.pc("ngIf",t.Percent),c.Hb(1),c.pc("disabled",t.managePaymentForm.invalid||t.errorMsg||t.percentErrorMsg||-1===t.permissionInfo.search("Create PaymentHeads")),c.Hb(2),c.rc("routerLink","/pages/graderule/list-managePaymentHeads/",t.gradeRuleId,""))},directives:[s.m,p.x,p.o,p.i,p.u,p.n,p.g,p.q,p.w,s.l,o.c,p.c,p.t,p.r],encapsulation:2}),ye)},{path:"update-managePaymentHeads/:paymentHeadId/:gradeRuleId",component:(ve=function(){function t(a,r,n,i,s,o){e(this,t),this.fb=a,this.api=r,this.router=n,this.ngZone=i,this.route=s,this.util=o,this.gradeType=["Fixed","Percent"],this.Fixed=!1,this.Percent=!1,this.successMessage=!1,this.serverErrorMsg=!1,this.validationMessage={value:[{type:"required",message:"Amount is Required"},{type:"maxlength",message:"Amount is too Large"},{type:"pattern",message:"Amount not valid"}],paymentHeadId:[{type:"required",message:"Payment Head is Required"}],type:[{type:"required",message:"Type  is Required"}]},this.percentOfFunction=function(e){setTimeout((function(){document.getElementById("percentOfValue").value=e}),200)}}return a(t,[{key:"ngOnDestroy",value:function(){document.getElementById("headerCompanyDropDown").removeAttribute("disabled")}},{key:"ngOnInit",value:function(){this.paymentHeadId=this.route.snapshot.paramMap.get("paymentHeadId"),this.gradeRuleId=this.route.snapshot.paramMap.get("gradeRuleId"),this.paymentHeadList(),this.addMemberValidation(),this.existing(),this.fixedPaymentHeadList(),document.getElementById("headerCompanyDropDown").setAttribute("disabled","disabled"),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Edit PaymentHeads")&&this.updateManagePaymentForm.disable()}},{key:"existing",value:function(){var e=this;try{this.api.existingData(this.gradeRuleId).subscribe((function(t){"success"===t.status&&(e.existingGradeRule=t.data.paymentHeads,e.existingGradeRule.forEach((function(t){t._id==e.paymentHeadId&&("Percent"===t.type?(e.Percent=!0,e.Fixed=!1,e.percentOfValue=t.percentOfValue,e.percentOfFunction(t.percentOfValue),e.errorMsg="",e.percentErrorMsg="",e.updateManagePaymentForm=e.fb.group({paymentHead:new p.h({paymentHeadId:new p.f(t.paymentHeadId),type:new p.f(t.type),value:new p.f(t.value,p.v.compose([p.v.required,p.v.maxLength(8),p.v.pattern(/^\d{0,2}(?:\.\d{0,2})?$/)]))})})):(e.Percent=!1,e.Fixed=!0,e.updateManagePaymentForm=e.fb.group({paymentHead:new p.h({paymentHeadId:new p.f(t.paymentHeadId),type:new p.f(t.type),value:new p.f(t.value,p.v.compose([p.v.required,p.v.maxLength(8),p.v.pattern("^[0-9]*$")]))})})),e.existingPaymentHeadId=t._id,e.existingPaymentHeadName=t.paymentHeadName)})))}))}catch(t){console.log(t)}}},{key:"paymentHeadList",value:function(){var e=this;this.api.getPaymentHeadData().subscribe((function(t){e.paymentHeadDataList=t.data}))}},{key:"updatePaymentHeads",value:function(){var e=this;try{this.api.updatePaymentHeads(this.updateManagePaymentForm.value,this.paymentHeadId,this.gradeRuleId,this.percentOfValue,this.Percent).subscribe((function(t){"success"===t.status?(e.successMessage=!0,e.serverErrorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.router.navigateByUrl("pages/graderule/list-graderule")}),1e3)):(e.serverErrorMsg=!0,e.successMessage=!1,e.errMsg=t.message)}))}catch(t){console.log(t)}}},{key:"addMemberValidation",value:function(){try{this.updateManagePaymentForm=this.fb.group({paymentHead:new p.h({paymentHeadId:new p.f("",p.v.required),type:new p.f("",p.v.required),value:new p.f("",p.v.compose([p.v.required,p.v.maxLength(8),p.v.pattern(/^\d{0,2}(?:\.\d{0,2})?$/)]))})})}catch(e){console.log(e)}}},{key:"check",value:function(e){var t={fixed:[p.v.required,p.v.maxLength(8),p.v.pattern("^[0-9]*$")],percent:[p.v.required,p.v.maxLength(8),p.v.pattern(/^\d{0,2}(?:\.\d{0,2})?$/)]},a=e.target.options[e.target.options.selectedIndex].text;"Fixed"==a?(this.Fixed=!0,this.Percent=!1,this.errorMsg="",this.percentErrorMsg="",this.updateManagePaymentForm.get("paymentHead.value").setValidators(t.fixed),this.updateManagePaymentForm.get("paymentHead.value").updateValueAndValidity()):"Percent"==a&&(this.Percent=!0,this.Fixed=!1,this.updateManagePaymentForm.get("paymentHead.value").value&&this.switchTypeValidation(this.updateManagePaymentForm.get("paymentHead.value").value),this.updateManagePaymentForm.get("paymentHead.value").setValidators(t.percent),this.updateManagePaymentForm.get("paymentHead.value").updateValueAndValidity())}},{key:"demo",value:function(){"Fixed"!=document.getElementById("typeValue").value&&(this.inputValue=document.getElementById("percentValue").value,this.inputValue>0&&this.inputValue<=100?(this.percentErrorMsg="",this.errorMsg=""):0==this.inputValue.length?(this.percentErrorMsg="Percent is Required",this.errorMsg=""):this.inputValue.length>6?(this.percentErrorMsg="Percent Value is too Large",this.errorMsg=""):(this.percentErrorMsg="",this.errorMsg="Enter value is not valid"))}},{key:"switchTypeValidation",value:function(e){e>0&&e<=100?(this.percentErrorMsg="",this.errorMsg=""):0==e.toString().length?(this.percentErrorMsg="Percent is Required",this.errorMsg=""):e.toString().length>6?(this.percentErrorMsg="Percent Value is too Large",this.errorMsg=""):(this.percentErrorMsg="",this.errorMsg="Enter value is not valid")}},{key:"fixedPaymentHeadList",value:function(){var e=this;this.api.fixedPaymentHeads(this.gradeRuleId).subscribe((function(t){"success"===t.status&&(e.fixedPaymentHeadsList=t.data)}))}},{key:"percentOf",value:function(e){this.percentOfValue=e}}]),t}(),ve.\u0275fac=function(e){return new(e||ve)(c.Tb(p.e),c.Tb(g.a),c.Tb(o.b),c.Tb(c.E),c.Tb(o.a),c.Tb(m.a))},ve.\u0275cmp=c.Nb({type:ve,selectors:[["app-update-managePaymentHeads"]],decls:37,vars:13,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[3,"formGroup"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["name","Payment Heades","formControlName","paymentHeadId",1,"dropdown","dropdown-toggle","form-control"],["selected","",3,"ngValue",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-4"],[1,"col-sm-8","control-label"],["id","typeValue","formControlName","type",1,"dropdown","dropdown-toggle","form-control",3,"change"],["class","dropdown-item",4,"ngFor","ngForOf"],["class","col-md-4",4,"ngIf"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"btn","btn-danger",3,"routerLink"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["selected","",3,"ngValue"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"],[1,"dropdown-item"],[1,"form-group"],["type","text","id","value","placeholder","Enter Amount","formControlName","value",1,"form-control"],["type","number","id","percentValue","placeholder","Enter Percent","formControlName","value","required","",1,"form-control",3,"input"],[2,"color","red"],["name","Payment Heades","id","percentOfValue",1,"dropdown","dropdown-toggle","form-control",3,"change"],["ng-selected","true","value","","disabled",""],["selected","",3,"value",4,"ngFor","ngForOf"],["selected","",3,"value"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Update Payment Heads"),c.Yb(),c.Yb(),c.Zb(4,"div",3),c.Zb(5,"div",4),c.Gc(6,ne,3,1,"p",5),c.Yb(),c.Zb(7,"div",4),c.Gc(8,ie,3,1,"p",6),c.Yb(),c.Zb(9,"form",7),c.gc("ngSubmit",(function(){return t.updatePaymentHeads()})),c.Zb(10,"div",8),c.Zb(11,"label",9),c.Zb(12,"b"),c.Ic(13,"Payment Head:\xa0"),c.Zb(14,"span",10),c.Ic(15,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(16,"select",11),c.Gc(17,se,2,2,"option",12),c.Yb(),c.Gc(18,ce,2,1,"div",13),c.Ub(19,"br"),c.Zb(20,"div",14),c.Zb(21,"div",15),c.Zb(22,"label",16),c.Zb(23,"b"),c.Ic(24,"Type:\xa0"),c.Zb(25,"span",10),c.Ic(26,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(27,"select",17),c.gc("change",(function(e){return t.check(e)})),c.Gc(28,de,2,1,"option",18),c.Yb(),c.Gc(29,le,2,1,"div",13),c.Yb(),c.Gc(30,pe,10,1,"div",19),c.Gc(31,me,15,2,"div",19),c.Gc(32,he,11,1,"div",19),c.Yb(),c.Yb(),c.Zb(33,"button",20),c.Ic(34,"Update"),c.Yb(),c.Zb(35,"button",21),c.Ic(36,"Cancel"),c.Yb(),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Hb(6),c.pc("ngIf",t.serverErrorMsg),c.Hb(2),c.pc("ngIf",t.successMessage),c.Hb(1),c.pc("formGroup",t.updateManagePaymentForm),c.Hb(1),c.pc("formGroup",t.updateManagePaymentForm.get("paymentHead")),c.Hb(7),c.pc("ngForOf",t.paymentHeadDataList),c.Hb(1),c.pc("ngForOf",t.validationMessage.paymentHeadId),c.Hb(10),c.pc("ngForOf",t.gradeType),c.Hb(1),c.pc("ngForOf",t.validationMessage.type),c.Hb(1),c.pc("ngIf",t.Fixed),c.Hb(1),c.pc("ngIf",t.Percent),c.Hb(1),c.pc("ngIf",t.Percent),c.Hb(1),c.pc("disabled",t.updateManagePaymentForm.invalid||t.errorMsg||t.percentErrorMsg||-1===t.permissionInfo.search("Edit PaymentHeads")),c.Hb(2),c.rc("routerLink","/pages/graderule/list-managePaymentHeads/",t.gradeRuleId,""))},directives:[s.m,p.x,p.o,p.i,p.u,p.n,p.g,s.l,o.c,p.q,p.w,p.c,p.r,p.t],encapsulation:2}),ve)},{path:"add-graderule",component:L},{path:"update-graderule/:gradeRuleId",component:B},{path:"",redirectTo:"list-graderule",pathMatch:"full"}]}],Me=((Ye=function t(){e(this,t)}).\u0275mod=c.Rb({type:Ye}),Ye.\u0275inj=c.Qb({factory:function(e){return new(e||Ye)},imports:[[s.c,o.f.forChild(Ze)]]}),Ye),Pe=((Ie=function t(){e(this,t)}).\u0275mod=c.Rb({type:Ie}),Ie.\u0275inj=c.Qb({factory:function(e){return new(e||Ie)},imports:[[s.c,Me,p.j,p.s,o.f]]}),Ie)}}])}();
//# sourceMappingURL=18-es5.8e49d92e711d0d06e151.js.map