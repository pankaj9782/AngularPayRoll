{"version":3,"sources":["./src/app/pages/dashboard/company-list/company-list.component.ts","./src/app/pages/dashboard/company-list/company-list.component.html"],"names":[],"mappings":"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","file":"default~company-company-module~dashboard-dashboard-module-es2015.js","sourcesContent":["import { Component, OnInit, NgZone, Input } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { FormBuilder } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport Swal from 'sweetalert2';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { UtilitiesService } from 'src/app/utilities/utilities.service';\n\n\n@Component({\n  selector: 'app-company-list',\n  templateUrl: './company-list.component.html',\n  styleUrls: ['./company-list.component.scss']\n})\n\nexport class CompanyListComponent implements OnInit {\n  @Input() showProgress:boolean = false;\n  showCard = {};\n  companyListData:any = Object;\n  individualCompanyData = [];\n  companyData: String;\n  companyId:string;\n  wholeCompanyData = [];\n  permissionsInfo: any;\n\n  constructor(private api: ApiService, public fb: FormBuilder, private ngZone: NgZone,\n    private router: Router,\n    private spinner: NgxSpinnerService,\n    private util: UtilitiesService\n    ) {\n   }\n\n  ngOnInit() {\n  this.permissionsInfo = this.util.permissionRoleInfo;\n  this.getList();\n  this.getAllCompanyList();\n  }\n\n  //Method for show data in the list\n  getList() {\n    try {\n      this.spinner.show();\n      this.api.getIndividualData(sessionStorage.getItem('companyId')).subscribe(data => {\n        if (data.status === 'success' || data.status === 200) {\n         this.individualCompanyData.push(data.data);\n         setTimeout(() => {\n          this.spinner.hide();\n         },1000)\n        }\n      })\n    }\n    catch (err) {\n      console.log(err.message);\n    }\n  }\n\n  // Get All Company Lists\n  getAllCompanyList() {\n    try {\n      this.api.getListData().subscribe(data => {\n        if (data.status === 'success' || data.status === 200) {\n          if(data.company.length === 0){\n            this.spinner.hide();\n            this.router.navigateByUrl(\"/pages/company/add-company\");\n          } else {\n            this.wholeCompanyData = data.company;\n          }\n        }\n      })\n    }\n    catch (err) {\n      console.log(err.message);\n    }\n  }\n\n  //Method for onclick data show when collapse\n  showData(companyId: String) {\n    try {\n      this.showCard[`${companyId}`] = !this.showCard[`${companyId}`];\n    }\n    catch (err) {\n      console.log(err.message);\n    }\n  }\n\n  //Method for remove company list\n  showConfirmationMessage(companyId: String) {\n    try {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-success',\n          cancelButton: 'btn btn-danger'\n        },\n        buttonsStyling: false\n      })\n      swalWithBootstrapButtons.fire({\n        title: 'Are you sure?',\n        text: \"You want to delete it\",\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No',\n        reverseButtons: true\n      }).then((result) => {\n        if (result.value) {\n          this.api.removeData(companyId).subscribe((data) => {\n            if (data.status === \"success\" || data.status === 200) {\n              if(this.wholeCompanyData.length > 0) {\n                for (let i = 0; i<this.wholeCompanyData.length; i++ ){\n                  if(this.wholeCompanyData[i]._id != companyId){\n                    sessionStorage.setItem('companyId',this.wholeCompanyData[i]._id);\n                    break;\n                  } else {\n                    continue;\n                  }\n                }\n              }\n              swalWithBootstrapButtons.fire(\n                'Deleted!',\n                data.message,\n                'success'\n              )\n              this.ngZone.run(()=>{\n                this.router.navigateByUrl('/pages/dashboard/company-list')\n              })\n              window.location.reload();\n            }\n          })\n        } else if (\n          result.dismiss === Swal.DismissReason.cancel\n        ) {\n          swalWithBootstrapButtons.fire(\n            'Cancelled',\n            'Your list data safe',\n            'error'\n          )\n        }\n      })\n    }\n    catch (err) {\n      console.log(err.message);\n    }\n  }\n\n}\n","\n<div class=\"card\">\n        <ngx-spinner\n        bdColor=\"rgba(51,51,51,0.8)\"\n        size=\"large\"\n        color=\"#fff\"\n        type=\"square-jelly-box\"\n      >\n        <p style=\"font-size: 20px; color: white\">Loading...</p>\n      </ngx-spinner>\n    <div class=\"card-header\" style=\"text-align: center\">\n        <h2>Company List</h2>\n        <a [class.disabled]=\"permissionsInfo.search('Create Company') === -1\"\n        class=\"btn btn-primary\" routerLink=\"/pages/company/add-company\" style=\"float: right;\"><i\n                class=\"fa fa-plus-square\"></i>&nbsp; Add Company</a>\n\n\n    </div>\n\n    <div class=\"panel-body\">\n        <ul class=\"list-group\">\n            <li class=\"list-group-item\" *ngFor=\"let list of individualCompanyData\">\n                <strong><b (click)=\"showData(list._id)\" style=\"cursor: pointer\">{{ list.name }}</b></strong>\n                <div style=\"float: right;\">\n                    <i class=\"dropdown-toggle\" (click)=\"showData(list._id)\"></i>\n                </div>\n                <div class=\"card\" style=\"background-color:ghostwhite\" [hidden]=\"showCard[list._id]\">\n                    <table class=\"table\" style=\"margin: auto\">\n                        <tr>\n                            <td><strong>Name:</strong></td>\n                            <td>{{ list.name }}</td>\n                            <td><strong>Address:</strong></td>\n                            <td>{{ list.address}}</td>\n                        </tr>\n                        <tr>\n                            <td><strong>Domicile:</strong></td>\n                            <td>{{ list.domicile}}</td>\n                            <td><strong>Official Company Number:</strong></td>\n                            <td>{{ list.officialNumber}}</td>\n                        </tr>\n                        <tr>\n                            <td><strong>Fax Number:</strong></td>\n                            <td>{{ list.fax}}</td>\n                            <td><strong>Email Address:</strong></td>\n                            <td>{{ list.email}}</td>\n                        </tr>\n                        <tr>\n                            <td><strong>Bank Name:</strong></td>\n                            <td>{{ list.bankName}}</td>\n                            <td><strong>Account No:</strong></td>\n                            <td>{{ list.bankAccNum}}</td>\n                        </tr>\n                        <tr>\n                            <td><strong>Country:</strong></td>\n                            <td>{{ list.countryName}}</td>\n                            <td><strong>Currency:</strong></td>\n                            <td>{{ list.currency}}</td>\n                        </tr>\n                        <tr>\n                            <td><strong>Taxation No:</strong></td>\n                            <td>{{ list.taxationNumber}}</td>\n                            <td><strong>PAN No:</strong></td>\n                            <td>{{ list.panNumber}}</td>\n                        </tr>\n                        <tr>\n                            <td><strong>BCC Address for all outgoing mails:</strong></td>\n                            <td>{{ list.outGoingMails}}</td>\n                            <td></td>\n                            <td></td>\n                        </tr>\n                    </table>\n                    <div>\n                            <a [class.disabled]=\"permissionsInfo.search('Edit Company') === -1\"\n                            routerLink=\"/pages/company/update-company-list/{{ list._id }}\" style=\"float: right\"\n                            class=\"btn btn-primary\">\n                            <i class=\"fa fa-pencil-square-o\"></i> </a>\n                        <button [disabled]=\"permissionsInfo.search('Delete Company') === -1\"\n                        style=\"float: right;\" class=\"btn btn-danger\" type=\"button\"\n                            (click)=\"showConfirmationMessage(list._id)\">\n                            <i class=\"fa fa-trash\"></i></button>\n\n                    </div>\n                </div>\n            </li>\n        </ul>\n    </div>\n\n</div>\n\n\n"],"sourceRoot":"webpack:///"}