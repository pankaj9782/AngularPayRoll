{"version":3,"sources":["webpack:///node_modules/@fullcalendar/common/main.js","webpack:///node_modules/preact/dist/preact.module.js","webpack:///node_modules/@fullcalendar/common/vdom.js","webpack:///node_modules/@fullcalendar/common/main.css","webpack:///node_modules/@fullcalendar/timegrid/main.css","webpack:///node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","webpack:///node_modules/css-loader/dist/runtime/api.js","webpack:///node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///src/app/pages/calendar/add-calendar/add-calendar.component.ts","webpack:///node_modules/@fullcalendar/daygrid/main.js","webpack:///node_modules/@fullcalendar/timegrid/main.js","webpack:///node_modules/@fullcalendar/daygrid/main.css","webpack:///src/app/pages/calendar/calendar-routing.module.ts","webpack:///node_modules/@fullcalendar/core/vdom.js","webpack:///node_modules/@fullcalendar/core/main.js","webpack:///src/app/pages/calendar/list-calendar/list-calendar.component.ts","webpack:///src/app/pages/calendar/list-calendar/list-calendar.component.html","webpack:///src/app/pages/calendar/calendar.module.ts","webpack:///src/app/pages/calendar/calendar.component.ts","webpack:///src/app/pages/calendar/calendar.component.html","webpack:///node_modules/@fullcalendar/angular/node_modules/fast-deep-equal/index.js","webpack:///src/app/pages/calendar/update-calendar/update-calendar.component.ts","webpack:///node_modules/@fullcalendar/interaction/main.js","webpack:///node_modules/@fullcalendar/daygrid/main.css?929a","webpack:///src/app/pages/calendar/report-service/report-api.service.ts"],"names":["EventSourceApi","context","internalEventSource","prototype","remove","dispatch","type","sourceId","refetch","sourceIds","Object","defineProperty","get","publicId","enumerable","configurable","meta","url","removeElement","el","parentNode","removeChild","elementClosest","selector","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","call","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","push","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","val","style","test","preventDefault","ev","buildDelegationHandler","handler","matchedChild","target","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","realOnMouseLeave_1","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","input","specs","tokens","token","split","Array","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","hasOwnProperty","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","key","mapHash","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","keys","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","options","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","map","INTERNAL_UNITS","PARSE_RE","createDuration","unit","_a","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","format","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","Boolean","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMinHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","createEventUi","constraints","allows","combineEventUis","uis","reduce","combineTwoEventUis","EMPTY_EVENT_UI","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","segStart","segEnd","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","args","changeView","viewType","dateOrRange","_this","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","_b","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","relevantEvents_1","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","slice","merged","NumberFormat","dateInput","buildDateEnv","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","createElement","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","JSON","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","getClippingParents","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","reduceEventStore","receiveRawEvents","fetchId","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","isPropsValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","currentState","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","selectionConfig","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isPopover","isInPopover","isValidDateDownEl","createPlugin","deps","reducers","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","externalDefTransforms","eventResizeJoinTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","render","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","customContentInfo","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","rootEl","componentWillUnmount","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","reduceEventSourcesNewTimeZone","computeEventSourceLoadingLevel","cnt","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","customButtonProps_1","buttonClick","buttonIcon","click","text","eventSourceDef","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef$2","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","loadingLevel","renderableEventStore","contextAndState","reducer","resetOptions","append","eventSourceLoadingLevel","eventUiSingleBase","eventUiBySource","prevLoadingLevel","newState","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","Interaction","destroy","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","widgetGroups","ToolbarSection","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","disabled","onClick","groupClassName","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","interactionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","calendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","renderInner","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","index","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","createRef","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","sectionI","outerContent","renderChunkTd","chunk","isLiquid","rowSyncHeights","reportRowHeightChange","scrollerEl","scrollerElRef","scrollbarWidth","sectionCnt","scroller","harnessEl","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellRoot","refineHookProps","showDayNumber","extraProps","dataAttrs","DayCellContent","dayNumberText","renderFill","fillType","BgEvent","renderInnerContent$1","WeekNumberRoot","defaultFormat","renderInner$1","version","v","l","u","t","o","r","f","e","defaultProps","h","__k","__","__b","__e","__d","__c","constructor","__v","vnode","p","_","base","k","__r","debounceRendering","some","__P","T","__n","ownerSVGElement","$","g","A","P","I","H","nextSibling","insertBefore","C","setProperty","toLowerCase","z","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","N","__E","L","__h","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","checked","unmount","M","O","S","q","getDerivedStateFromError","componentDidCatch","forceUpdate","Promise","resolve","FullCalendarVDom","Component","Fragment","createContext","flushToDom","deepCopy","shallowCopy","assign","output","OPTION_IS_DEEP","resources","FullCalendarComponent","element","optionSnapshot","deepChangeDetection","optionVal","calendar","nativeElement","newOptions","newProcessedOptions","oldOptionNames","pauseRendering","resumeRendering","ɵfac","FullCalendarComponent_Factory","ɵcmp","selectors","decls","vars","template","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","propDecorators","None","FullCalendarModule","ɵmod","ɵinj","factory","FullCalendarModule_Factory","imports","ngJitMode","declarations","exports","module","useSourceMap","toString","cssWithMappingToString","modules","mediaQuery","dedupe","alreadyImportedModules","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sourceRoot","sourceMap","base64","unescape","isOldIE","memo","memorize","all","atob","getTarget","styleTarget","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","count","css","media","references","updater","addStyle","insertStyleElement","nonce","insert","removeStyleElement","replaceText","textStore","replacement","applyToSingletonTag","styleSheet","cssText","cssNode","applyToTag","singleton","singletonCounter","styleIndex","updateStyle","newObj","lastIdentifiers","newList","newLastIdentifiers","_identifier","_index","AddCalendarComponent","templateUrl","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","DEFAULT_WEEK_NUM_FORMAT","TableCell","handleMoreLinkClick","onMoreClick","allSegs","segsByEachCol","hiddenSegs","segIsHidden","moreCnt","dayEl","buildMoreLinkText","rootDataAttrs","showWeekNumber","TableCellTop","forceDayTop","fgContentElRef","fgPaddingBottom","fgContent","moreMarginTop","moreLinkClassNames","moreLinkContent","renderMoreLinkInner","moreLinkDidMount","moreLinkWillUnmount","bgContent","renderTopInner","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableListItemEvent","TableBlockEvent","computeFgSegPlacement","cellModels","eventHeights","maxContentHeight","colPlacements","moreCnts","segTops","segMarginTops","moreTops","paddingBottoms","eventHeight","placeSeg","limitByMaxHeight","limitByMaxEvents","limitByMaxRows","placements","currentNonAbsBottom","currentAbsHeight","placements_1","placement","segHeight","tryPlaceSegAt","canPlaceSegAt","insertionIndex","instanceIdAndFirstCol","segsByFirstCol","extractFirstColSegs","extractAllColSegs","resliceDaySegs","oneColPlacements","oneColPlacements_1","oneColPlacements_2","hiddenCnts","limitEvents","levelIndex","_moreLinkConsumesLevel","isPlacementInBounds","segIsVisible","visibleColPlacements","level","placements_2","recordVisible","recordHidden","currentLevel","moreLinkConsumesLevel","hiddenCnt","doomedLevel","pop","dayDate","colIndex","dayEnd","dayRange","newSegs","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","segHeights","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","selectedInstanceHash","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","nodes","isInvisible","top_1","visibility","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","computeSegHeights","computeMaxContentHeight","eventHarnessEl","firstKey","fcContainerEl","getCellEls","elMap","PADDING_FROM_VIEWPORT","SCROLL_DEBOUNCE","Popover","repositioner","handleDocumentMousedown","onClose","handleDocumentScroll","handleCloseClick","extraAttrs","alignmentEl","topAlignmentEl","dims","alignment","innerHeight","innerWidth","MorePopover","handlePopoverEl","popoverEl","hiddenInstances","selectedInstanceId","dayClassNames","onCloseClick","layer","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","buildBuildMoreLinkText","rowRefs","morePopoverState","clickOption","moreLinkClick","segForPublic","currentFgEventSegs","handleMorePopoverClose","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","headerAlignElRef","rowPositions","rowObj","colPositions","positionToHit","getCellRange","getCellEl","relativeRect","moreLinkTextInput","DayTable","slicer","DayTableSlicer","tableRef","dayTableModel","rawHit","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","OPTION_REFINERS","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","AllDaySplitter","timed","TimeColsSlatsCoords","positions","slatMetas","safeComputeTop","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slotDurationMs","slatCoverage","slatIndex","slatRemainder","STOCK_SUB_DURATIONS","TimeColsSlats","slatElRefs","minHeight","TimeColsSlatsBody","axis","onCoords","collectSlatEls","slatMeta","isLabeled","TimeColsAxisCell","isoTimeStr","DEFAULT_SLAT_LABEL_FORMAT","labelFormat","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","timeContent","isNowIndicator","TimeBodyAxis","nowIndicatorTop","getAllDayMaxEventProps","splitSegsByCol","segsByCol","splitInteractionByCol","computeSegCoords","computeSegVerticals","computeSegHorizontals","forwardCoord","backwardCoord","forwardPressure","level0","levels","buildSlotSegLevels","computeForwardSlotSegs","level0_1","computeSlotSegPressures","level0_2","computeSegForwardBack","computeSlotSegCollisions","otherSegs","results","isSlotSegCollision","seg1","seg2","forwardSegs","forwardSeg","seriesBackwardPressure","seriesBackwardCoord","sortForwardSegs","buildTimeGridSegCompareObj","DEFAULT_TIME_FORMAT","TimeColEvent","isCondensed","timeGridEventCondensedHeight","TimeCol","isSelectMirror","mirrorSegs","interactionAffectedInstances","renderNowIndicator","nowIndicatorSegs","TimeColMisc","segIsInvisible","renderPrintFgSegs","renderPositionedFgSegs","positionCss","computeSegTopBottomCss","computeFgSegPositionCss","shouldOverlap","zIndex","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeCols","buildDayRanges","DayTimeColsSlicer","timeColsRef","dayRanges","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","___CSS_LOADER_EXPORT___","route","path","canActivate","redirectTo","pathMatch","CalendarRoutingModule","forChild","globalThis","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","defaultValue","ContextType","origProvider","isNew","subs_1","_props","old","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","ListCalendarComponent","api","calendarVisible","calendarPlugins","calendarWeekends","calendarEvents","confirm","dateStr","holiday","attadance","getHoliday","subscribe","holidayData","eventDate","holidayDate","userLeave","attadanceData","styleUrls","CalendarModule","schemas","CalendarComponent","equal","RegExp","flags","UpdateCalendarComponent","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","isVisible","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay","handleHitUpdate","isFinal","isInvalid","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay$1","receivingComponent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","transforms","transforms_1","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","__esModule","locals","ReportApiService","http","endpoint","apiBaseUrl","headers","set","ErrorEvent","companyId","sessionStorage","getItem","apiURL","pipe","errorMgmt","providedIn"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA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A;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;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AA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;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","file":"calendar-calendar-module-es5.js","sourcesContent":["/*!\nFullCalendar v5.3.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArrays, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment } from './vdom';\nexport * from './vdom';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource // rename?\n    ) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId]\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        // only relevant to json-feed event sources\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    else {\n        if (!document.documentElement.contains(el)) {\n            return null;\n        }\n        do {\n            if (elementMatches(el, selector)) {\n                return el;\n            }\n            el = (el.parentElement || el.parentNode);\n        } while (el !== null && el.nodeType === 1);\n        return null;\n    }\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i++) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j++) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i++) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j++) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + 'px';\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (ev, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(ev, matchedChild);\n            var realOnMouseLeave_1 = function (ev) {\n                currentMatchedChild = null;\n                onMouseLeave(ev, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend'\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    return String(guidNumber++);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i++) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf())\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate()\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours()\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes()\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds()\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds()\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i--) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i--) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i++) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i++) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) {\n        return !defs[instance.defId].recurringDef;\n    });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration)\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    else if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    else {\n        return null;\n    }\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            )\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0) // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i++) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + ':' + padStart(mins, 2);\n    }\n    else {\n        return 'GMT' + sign + hours + (mins ? ':' + padStart(mins, 2) : '');\n    }\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt++;\n        }\n        else {\n            i++;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i++) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i++) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i++) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc // TODO: change arg order\n) {\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) {\n            return formatTimeZoneOffset(date.timeZoneOffset);\n        };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) {\n            return formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week);\n        };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) {\n            return m1.toLocaleLowerCase();\n        });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) {\n            return m1.toLocaleLowerCase() + 'm';\n        });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) {\n            return m0.toLocaleLowerCase();\n        });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ' ' + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6]\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    else if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    else if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMinHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next'\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    else {\n        return a === b;\n    }\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) {\n            return isEventDefsGrouped(def_1, lookDef);\n        });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances)\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) {\n        return defs[instance.defId]; // still exists?\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    else if (input != null) {\n        return String(input);\n    }\n    else {\n        return null;\n    }\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    else if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    else {\n        return [];\n    }\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []) // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames)\n    };\n}\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: []\n};\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration\n        };\n        return { def: def, instance: null };\n    }\n    else {\n        var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n        if (singleRes) {\n            var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n            var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n            return { def: def, instance: instance };\n        }\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra)\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    else if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    else {\n        return diffDayAndTime(date0, date1); // returns a duration\n    }\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i++) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start;\n    var end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf()\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) {\n        return compileEventUi(eventDef, eventUiBases);\n    });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) {\n        return compareByFieldSpecs(obj0, obj1, eventOrderSpecs);\n    });\n    return objs.map(function (c) {\n        return c._seg;\n    });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg // for later retrieval\n     });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    if (displayEventTime && !eventDef.allDay && (seg.isStart || seg.isEnd)) {\n        var segStart = startOverride || (seg.isStart ? eventInstance.range.start : (seg.start || seg.eventRange.range.start));\n        var segEnd = endOverride || (seg.isEnd ? eventInstance.range.end : (seg.end || seg.eventRange.range.end));\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo\n            });\n        }\n        else {\n            return dateEnv.format(segStart, timeFormat, {\n                forcedTzo: startOverride ? null : eventInstance.forcedStartTzo // nooooo, same\n            });\n        }\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start)\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + ':' + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        else {\n            range.end = dateEnv.add(range.start, defaultDuration);\n        }\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime })\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta)\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta)\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context)\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end)\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i--) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    else {\n        return getNow(options.now, dateEnv); // getNow already returns unzoned\n    }\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArrays([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange)\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i++) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1)\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1)\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv)\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput)\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta)\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }) // TODO: cache this?\n        );\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }) // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn('Could not find an event source with ID \"' + sourceInput + '\"'); // TODO: test\n                return null;\n            }\n            else {\n                eventSource = sourceApi.internalEventSource;\n            }\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple)\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi)\n                });\n            }\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                else {\n                    for (var instanceId in instances) {\n                        var instance = instances[instanceId];\n                        if (instance.defId === def.defId) {\n                            return new EventApi(state, def, instance);\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource]\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES' });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn(\"Could not set date-related prop 'name'. Use one of the date-related methods instead.\");\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a)\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui }\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a)\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo\n            });\n        }\n        else {\n            return dateEnv.format(instance.range.start, formatter, {\n                forcedTzo: instance.forcedStartTzo\n            });\n        }\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore = context_1.getCurrentData().eventStore;\n            var relevantEvents_1 = getRelevantEvents(eventStore, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: []\n                }\n            };\n            relevantEvents_1 = applyMutationToEventStore(relevantEvents_1, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents_1.defs[def.defId];\n            this._instance = relevantEvents_1.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents_1\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents_1, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'REMOVE_EVENTS',\n                        eventStore: relevantEvents_1\n                    });\n                }\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore\n                });\n            }\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {}\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number('0.' + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        else {\n            // if we can't compute the current date val for a timezone,\n            // better to give the current local date vals than UTC\n            return arrayToUtcDate(dateToLocalArray(new Date()));\n        }\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        else if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        else if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        else if (unit === 'day') {\n            return startOfDay(m);\n        }\n        else if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        else if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        else if (unit === 'second') {\n            return startOfSecond(m);\n        }\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m)\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m)\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7)\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        else {\n            return weekOfYear(marker, this.weekDow, this.weekDoy);\n        }\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker)\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start)\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end)\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        else if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        else {\n            return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n        }\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        else if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        else if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        else if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        else if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        else {\n            return new Date(m.valueOf() -\n                this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60 // convert minutes -> ms\n            );\n        }\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4 // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list'\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display'\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    else {\n        return queryLocale(inputSingular, available);\n    }\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i++) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j--) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo\n    });\n}\nfunction formatRange(startInput, endInput, options // mixture of env and formatter settings\n) {\n    var dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours' // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) {\n            return rawDef.daysOfWeek;\n        });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) {\n        return __assign(__assign({}, DEF_DEFAULTS), rawDef);\n    });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom)\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom)\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) {\n            return _this.eventUiBuilders[key] || memoize(buildEventUiForKey);\n        });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) {\n            return _this.getKeysForEventDef(eventDef);\n        });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents) // can't use cached. might be events from other calendar\n            );\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts)\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false)\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        'fc-day-' + DAY_IDS[meta.dow]\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        'fc-slot-' + DAY_IDS[meta.dow]\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl'\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset\n    };\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments);\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments);\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) {\n                return func !== handler;\n            });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var lefts = this.lefts;\n        var rights = this.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i++) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var tops = this.tops;\n        var bottoms = this.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i++) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + ' ' + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + ' ' + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime));\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent\n    };\n}\n\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            else {\n                return eventStore;\n            }\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) {\n                return !eventDef.sourceId; // only keep events with no source id\n            });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        else {\n            return __assign(__assign({}, instance), { range: {\n                    start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                    end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo))\n                }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n        }\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) {\n        return eventDef.sourceId !== sourceId;\n    });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) {\n            return !removals[instance.instanceId];\n        })\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, context) {\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, context) {\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig } // if not a real event, validate as a selection\n    );\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances); // exclude the subject events. TODO: exclude defs too?\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance) // moving event\n                )) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext // for expanding businesshours\n) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    else if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) {\n            return eventDef.groupId === constraint;\n        }));\n    }\n    else if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Validation\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isInteractionValid = function (interaction) {\n        var dateProfile = this.props.dateProfile; // HACK\n        var instances = interaction.mutatedEvents.instances;\n        if (dateProfile) { // HACK for MorePopover\n            for (var instanceId in instances) {\n                if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                    return false;\n                }\n            }\n        }\n        return isInteractionValid(interaction, this.context);\n    };\n    DateComponent.prototype.isDateSelectionValid = function (selection) {\n        var dateProfile = this.props.dateProfile; // HACK\n        if (dateProfile && // HACK for MorePopover\n            !rangeContainsRange(dateProfile.validRange, selection.range)) {\n            return false;\n        }\n        return isDateSelectionValid(selection, this.context);\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror') &&\n            (this.isPopover() || !this.isInPopover(el));\n        // ^above line ensures we don't detect a seg interaction within a nested component.\n        // it's a HACK because it only supports a popover as the nested component.\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-daygrid-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !this.isInPopover(el);\n    };\n    DateComponent.prototype.isPopover = function () {\n        return false;\n    };\n    DateComponent.prototype.isInPopover = function (el) {\n        return Boolean(elementClosest(el, '.fc-popover'));\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        eventResizeJoinTransforms: input.eventResizeJoinTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {}\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        eventResizeJoinTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {}\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        eventResizeJoinTransforms: hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers)\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active'\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right'\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left'\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) {\n        return (defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n            ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null);\n    };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {}))\n    };\n}\n\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        customContentInfo = this.customContentInfo = {\n                            contentKey: contentKey,\n                            contentVal: innerContent[contentKey],\n                            handler: contentTypeHandlers[contentKey]()\n                        };\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.handler(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        callback && callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        callback && callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    else {\n        return input;\n    }\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) {\n        return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, viewClassNames) {\n            var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: rootElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n        })); }));\n    };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) {\n        return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults);\n    });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration)\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start;\n        var end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount++;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        else if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        else if (fallback) {\n            return fallback;\n        }\n        else {\n            return createDuration({ days: 1 });\n        }\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i++) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt++;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start;\n        var end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker) // don't move if date already in view\n            ) {\n                return dateProfileGenerator.build(action.dateMarker);\n            }\n            break;\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            else {\n                return eventSources;\n            }\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, context);\n}\nfunction computeEventSourceLoadingLevel(eventSources) {\n    var cnt = 0;\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            cnt++;\n        }\n    }\n    return cnt;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) {\n        return eventSource.sourceId !== sourceId;\n    });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) {\n        return isSourceDirty(eventSource, fetchRange, context);\n    }), fetchRange, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    else {\n        return !context.options.lazyFetching ||\n            !eventSource.fetchRange ||\n            eventSource.isFetching || // always cancel outdated in-progress fetches\n            fetchRange.start < eventSource.fetchRange.start ||\n            fetchRange.end > eventSource.fetchRange.end;\n    }\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        context: context\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange // also serves as a marker that at least one fetch has completed\n         }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) {\n        return doesSourceNeedRange(eventSource, context);\n    });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons // dump side effects\n) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons // dump side effects\n) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) {\n        return buttonGroupStr.split(',').map(function (buttonName) {\n            if (buttonName === 'title') {\n                return { buttonName: buttonName };\n            }\n            else {\n                var customButtonProps_1;\n                var viewSpec = void 0;\n                var buttonClick = void 0;\n                var buttonIcon = void 0; // only one of these will be set\n                var buttonText = void 0; // \"\n                if ((customButtonProps_1 = calendarCustomButtons[buttonName])) {\n                    buttonClick = function (ev) {\n                        if (customButtonProps_1.click) {\n                            customButtonProps_1.click.call(ev.target, ev, ev.target);\n                        }\n                    };\n                    (buttonIcon = theme.getCustomButtonIconClass(customButtonProps_1)) ||\n                        (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                        (buttonText = customButtonProps_1.text);\n                }\n                else if ((viewSpec = viewSpecs[buttonName])) {\n                    viewsWithButtons.push(buttonName);\n                    buttonClick = function () {\n                        calendarApi.changeView(buttonName);\n                    };\n                    (buttonText = viewSpec.buttonTextOverride) ||\n                        (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                        (buttonText = viewSpec.buttonTextDefault);\n                }\n                else if (calendarApi[buttonName]) { // a calendarApi method\n                    buttonClick = function () {\n                        calendarApi[buttonName]();\n                    };\n                    (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                        (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                        (buttonText = calendarButtonText[buttonName]);\n                    //            ^ everything else is considered default\n                }\n                return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n            }\n        });\n    });\n}\n\nvar eventSourceDef = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta\n        });\n    }\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef]\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure // send errorObj directly to failure callback\n        );\n    }\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1]\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + '=' + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String\n};\n\nvar eventSourceDef$2 = {\n    parseMeta: function (refined) {\n        if (refined.url) {\n            return {\n                url: refined.url,\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    }\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef$2]\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        else {\n            return [];\n        }\n    }\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources\n    }\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i++) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        contentTypeHandlers: {\n            html: function () { return injectHtml; },\n            domNodes: function () { return injectDomNodes; }\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore\n        }\n    })\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                var depth = --pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    else if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    else {\n        var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n        if (days !== null && days > 1) {\n            // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n            return { year: 'numeric', month: 'short', day: 'numeric' };\n        }\n        else {\n            // one day. longer, like \"September 9 2014\"\n            return { year: 'numeric', month: 'long', day: 'numeric' };\n        }\n    }\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () {\n            return _this.data;\n        };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            loadingLevel: computeEventSourceLoadingLevel(eventSources),\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (initialState.loadingLevel) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING'\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData\n        };\n        var currentDate = state.currentDate;\n        var dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventSourceLoadingLevel = computeEventSourceLoadingLevel(eventSources);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var renderableEventStore = (eventSourceLoadingLevel && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var prevLoadingLevel = state.loadingLevel || 0;\n        var loadingLevel = eventSourceLoadingLevel;\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            loadingLevel: loadingLevel,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action)\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        // TODO: use propSetHandlers in plugin system\n        if (!prevLoadingLevel && loadingLevel) {\n            emitter.trigger('loading', true);\n        }\n        else if (prevLoadingLevel && !loadingLevel) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] && (optionName in currentRaw) && COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) {\n        return eventSource.ui;\n    });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow\n        }, calendarContext)\n    };\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra\n    };\n}\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent, endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : ''\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArrays(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: 'fc-toolbar-title' }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = ['fc-' + buttonName + '-button', theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: 'button' }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArrays(['div', { className: groupClassName }], children));\n        }\n        else {\n            return children[0];\n        }\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive' // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + '%';\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (interactionClass) {\n                return new interactionClass(settings);\n            });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar &&\n                createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: 'fc-header-toolbar', model: toolbarConfig.headerToolbar }, toolbarProps)),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar &&\n                createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: 'fc-footer-toolbar', model: toolbarConfig.footerToolbar }, toolbarProps))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (calendarInteractionClass) {\n            return new calendarInteractionClass(props);\n        });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArrays([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (theClass) {\n        return new theClass();\n    });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            'fc-direction-' + options.direction,\n            props.theme.getClass('root')\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    else if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    else {\n        return createFormatter({ weekday: 'long' }); // \"Saturday\"\n    }\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: 'fc-scrollgrid-sync-inner' }, !dayMeta.isDisabled &&\n                createElement(\"a\", __assign({ ref: innerElRef, className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : ''\n                    ].join(' ') }, navLinkAttrs), innerContent)))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: 'fc-scrollgrid-sync-inner' },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : ''\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\nfunction renderInner(hookProps) {\n    return hookProps.text;\n}\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: 'day' }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro(),\n            dates.map(function (date) { return (datesRepDistinctDays ?\n                createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat }) :\n                createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat })); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex++;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        else if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        else {\n            return indices[dayOffset];\n        }\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow++) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row++) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col++) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col++) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArrays([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArrays([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArrays([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArrays([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArrays([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArrays([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArrays([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs)\n            };\n        }\n        else {\n            return { bg: [], fg: [] };\n        }\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArrays([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1)\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArrays([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5) // 864e5 = ms in a day\n    };\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || ''\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i++) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i++) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        else {\n            return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n        }\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        else {\n            return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n        }\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                removed = (key in currentMap); // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else if (--depths[key] === 0) {\n                delete currentMap[key];\n                delete _this.callbackMap[key];\n                removed = true;\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : ''\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '' // css `height` on a <table> serves as a min-height\n            }\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i++) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || ''\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArrays(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table')\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        'fc-scrollgrid-section-' + sectionConfig.type,\n        sectionConfig.className // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: 'fc-scrollgrid-sticky-shim', style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        _this.renderMicroColGroup = memoize(renderMicroColGroup); // yucky to memoize VNodes, but much more efficient for consumers\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {}\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, configI, microColGroupNode));\n            configI++;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, configI, microColGroupNode));\n            configI++;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, configI, microColGroupNode));\n            configI++;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height }\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArrays(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArrays(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArrays(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArrays(['tbody', {}], headSectionNodes, bodySectionNodes, footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, sectionI, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, sectionI, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, sectionI, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: scrollerClientWidths[sectionI] !== undefined ? scrollerClientWidths[sectionI] : null,\n            clientHeight: scrollerClientHeights[sectionI] !== undefined ? scrollerClientHeights[sectionI] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { }\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: 'fc-scroller-harness' + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionI), elRef: this.scrollerElRefs.createRef(sectionI), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute: true /* because its within a harness */ }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var sectionI = parseInt(key, 10);\n        var chunkConfig = this.props.sections[sectionI].chunk;\n        setRef(chunkConfig.scrollerElRef, scrollerEl);\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var sectionCnt = this.props.sections.length;\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionI = 0; sectionI < sectionCnt; sectionI++) { // along edge\n            var scroller = scrollerRefs.currentMap[sectionI];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var sectionI = 0; sectionI < sectionCnt; sectionI++) { // along edge\n            var scrollerEl = scrollerElRefs.currentMap[sectionI];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionI] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionI] = Math.floor(harnessEl.getBoundingClientRect().height // never has horizontal scrollbars\n                );\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual\n});\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing)\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: 'fc-event-main', ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: 'fc-event-resizer fc-event-resizer-start' }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: 'fc-event-resizer fc-event-resizer-end' }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(\"div\", { className: 'fc-event-main-frame' },\n        innerProps.timeText &&\n            createElement(\"div\", { className: 'fc-event-time' }, innerProps.timeText),\n        createElement(\"div\", { className: 'fc-event-title-container' },\n            createElement(\"div\", { className: 'fc-event-title fc-sticky' }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date)\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent$1, seg: props.seg /* uselesss i think */, timeText: '' /* weird */, disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor\n    } }, innerContent)); })); };\nfunction renderInnerContent$1(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: 'fc-event-title' }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner$1, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner$1(innerProps) {\n    return innerProps.text;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.3.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, buildClassNameNormalizer, buildEventApis, buildEventRangeKey, buildHashFromArray, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isColPropsEqual, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return h(n,f,i,t,null)}function h(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(r.__v=r),null!=n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!m.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(m)}function m(){for(var n;m.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=i,t=T(f,o,i,l.__n,void 0!==f.ownerSVGElement,null,u,null==r?_(o):r),$(u,o),t!=r&&w(o)))})}function g(n,l,u,i,t,o,r,c,s,v){var y,d,w,k,m,g,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?h(null,k,null,null,k):Array.isArray(k)?h(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?h(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}m=T(n,k,w=w||f,t,o,r,c,s,v),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||m,k)),null!=m?(null==g&&(g=m),s=x(n,k,w,A,r,m,s),v||\"option\"!=u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=g,null!=r&&\"function\"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&I(A[y],A[y]);if(b)for(y=0;y<b.length;y++)H(b[y],b[++y],b[++y])}function b(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){b(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o,r;if(t&&\"className\"==l&&(l=\"class\"),\"style\"===l)if(\"string\"==typeof u)n.style=u;else{if(\"string\"==typeof i&&(n.style=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else\"o\"===l[0]&&\"n\"===l[1]?(o=l!==(l=l.replace(/Capture$/,\"\")),(r=l.toLowerCase())in n&&(l=r),l=l.slice(2),n.l||(n.l={}),n.l[l]=u,u?i||n.addEventListener(l,z,o):n.removeEventListener(l,z,o)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&\"download\"!==l&&\"href\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type](n.event?n.event(l):l)}function N(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&(\"function\"==typeof t.type&&t.__k.length>1&&N(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),\"function\"==typeof n.type&&(n.__d=l)))}function T(l,u,i,t,o,r,f,e,c){var a,v,h,y,_,w,k,m,b,x,A,P=u.type;if(void 0!==u.constructor)return null;(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(m=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(m,x):(u.__c=v=new d(m,x),v.constructor=P,v.render=L),b&&b.sub(v),v.props=m,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(m,v.__s))),y=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(m,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(m,v.__s,x)||u.__v===i.__v){v.props=m,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),N(u,e,l);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(m,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(y,_,w)})}v.context=x,v.props=m,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,g(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,n.__e(l,u,i)}return u.__e}function $(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,r,c){var s,a,v,h,y,p=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p!==d&&n.data!==d&&(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),v=(p=u.props||f).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||\"\"))}A(n,d,p,t,c),h?l.__k=[]:(s=l.props.children,g(n,Array.isArray(s)?s:[s],l,u,i,\"foreignObject\"!==l.type&&t,o,r,f,c)),c||(\"value\"in d&&void 0!==(s=d.value)&&s!==n.value&&C(n,\"value\",s,p.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,\"checked\",s,p.checked,!1))}return n}function H(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function I(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||H(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&I(t[r],u,i);null!=o&&a(o)}function L(n,l,u){return this.constructor(n,u)}function M(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=v(p,null,[l]),c=[],T(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),$(c,l)}function O(n,l){M(n,l,o)}function S(n,l,u){var i,t,o,r=arguments,f=s({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),h(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n,u,i){return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i;l=l.__;)if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return k(u.__E=u)}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,m.__r=0,o=f,r=0;export{M as render,O as hydrate,v as createElement,v as h,p as Fragment,y as createRef,l as isValidElement,d as Component,S as cloneElement,q as createContext,b as toChildArray,I as __u,n as options};\n//# sourceMappingURL=preact.module.js.map\n","\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nexport var Component = FullCalendarVDom.Component;\nexport var createElement = FullCalendarVDom.createElement;\nexport var render = FullCalendarVDom.render;\nexport var createRef = FullCalendarVDom.createRef;\nexport var Fragment = FullCalendarVDom.Fragment;\nexport var createContext = FullCalendarVDom.createContext;\nexport var flushToDom = FullCalendarVDom.flushToDom;\n","export default \"\\n/* classes attached to <body> */\\n\\n.fc-not-allowed,\\n.fc-not-allowed .fc-event { /* override events' custom cursors */\\n  cursor: not-allowed;\\n}\\n\\n.fc-unselectable {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n  -webkit-touch-callout: none;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.fc {\\n  /* layout of immediate children */\\n  display: flex;\\n  flex-direction: column;\\n\\n  font-size: 1em\\n}\\n\\n.fc,\\n  .fc *,\\n  .fc *:before,\\n  .fc *:after {\\n    box-sizing: border-box;\\n  }\\n\\n.fc table {\\n    border-collapse: collapse;\\n    border-spacing: 0;\\n    font-size: 1em; /* normalize cross-browser */\\n  }\\n\\n.fc th {\\n    text-align: center;\\n  }\\n\\n.fc th,\\n  .fc td {\\n    vertical-align: top;\\n    padding: 0;\\n  }\\n\\n.fc a[data-navlink] {\\n    cursor: pointer;\\n  }\\n\\n.fc a[data-navlink]:hover {\\n    text-decoration: underline;\\n  }\\n\\n.fc-direction-ltr {\\n  direction: ltr;\\n  text-align: left;\\n}\\n\\n.fc-direction-rtl {\\n  direction: rtl;\\n  text-align: right;\\n}\\n\\n.fc-theme-standard td,\\n  .fc-theme-standard th {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n  }\\n\\n/* for FF, which doesn't expand a 100% div within a table cell. use absolute positioning */\\n\\n/* inner-wrappers are responsible for being absolute */\\n\\n/* TODO: best place for this? */\\n\\n.fc-liquid-hack td,\\n  .fc-liquid-hack th {\\n    position: relative;\\n  }\\n\\n@font-face {\\n  font-family: 'fcicons';\\n  src: url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n\\n.fc-icon {\\n  /* added for fc */\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  text-align: center;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'fcicons' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.fc-icon-chevron-left:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n\\n.fc-icon-chevron-right:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n\\n.fc-icon-chevrons-left:before {\\n  content: \\\"\\\\e902\\\";\\n}\\n\\n.fc-icon-chevrons-right:before {\\n  content: \\\"\\\\e903\\\";\\n}\\n\\n.fc-icon-minus-square:before {\\n  content: \\\"\\\\e904\\\";\\n}\\n\\n.fc-icon-plus-square:before {\\n  content: \\\"\\\\e905\\\";\\n}\\n\\n.fc-icon-x:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n\\n/*\\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\\n\\nThese styles only apply when the standard-theme is activated.\\nWhen it's NOT activated, the fc-button classes won't even be in the DOM.\\n*/\\n\\n.fc {\\n\\n  /* reset */\\n\\n}\\n\\n.fc .fc-button {\\n    border-radius: 0;\\n    overflow: visible;\\n    text-transform: none;\\n    margin: 0;\\n    font-family: inherit;\\n    font-size: inherit;\\n    line-height: inherit;\\n  }\\n\\n.fc .fc-button:focus {\\n    outline: 1px dotted;\\n    outline: 5px auto -webkit-focus-ring-color;\\n  }\\n\\n.fc .fc-button {\\n    -webkit-appearance: button;\\n  }\\n\\n.fc .fc-button:not(:disabled) {\\n    cursor: pointer;\\n  }\\n\\n.fc .fc-button::-moz-focus-inner {\\n    padding: 0;\\n    border-style: none;\\n  }\\n\\n.fc {\\n\\n  /* theme */\\n\\n}\\n\\n.fc .fc-button {\\n    display: inline-block;\\n    font-weight: 400;\\n    text-align: center;\\n    vertical-align: middle;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n            user-select: none;\\n    background-color: transparent;\\n    border: 1px solid transparent;\\n    padding: 0.4em 0.65em;\\n    font-size: 1em;\\n    line-height: 1.5;\\n    border-radius: 0.25em;\\n  }\\n\\n.fc .fc-button:hover {\\n    text-decoration: none;\\n  }\\n\\n.fc .fc-button:focus {\\n    outline: 0;\\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n  }\\n\\n.fc .fc-button:disabled {\\n    opacity: 0.65;\\n  }\\n\\n.fc {\\n\\n  /* \\\"primary\\\" coloring */\\n\\n}\\n\\n.fc .fc-button-primary {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50);\\n  }\\n\\n.fc .fc-button-primary:hover {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1e2b37;\\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\\n    border-color: #1a252f;\\n    border-color: var(--fc-button-hover-border-color, #1a252f);\\n  }\\n\\n.fc .fc-button-primary:disabled { /* not DRY */\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\\n  }\\n\\n.fc .fc-button-primary:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n\\n.fc .fc-button-primary:not(:disabled):active,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1a252f;\\n    background-color: var(--fc-button-active-bg-color, #1a252f);\\n    border-color: #151e27;\\n    border-color: var(--fc-button-active-border-color, #151e27);\\n  }\\n\\n.fc .fc-button-primary:not(:disabled):active:focus,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n\\n.fc {\\n\\n  /* icons within buttons */\\n\\n}\\n\\n.fc .fc-button .fc-icon {\\n    vertical-align: middle;\\n    font-size: 1.5em; /* bump up the size (but don't make it bigger than line-height of button, which is 1.5em also) */\\n  }\\n\\n.fc .fc-button-group {\\n    position: relative;\\n    display: inline-flex;\\n    vertical-align: middle;\\n  }\\n\\n.fc .fc-button-group > .fc-button {\\n    position: relative;\\n    flex: 1 1 auto;\\n  }\\n\\n.fc .fc-button-group > .fc-button:hover {\\n    z-index: 1;\\n  }\\n\\n.fc .fc-button-group > .fc-button:focus,\\n  .fc .fc-button-group > .fc-button:active,\\n  .fc .fc-button-group > .fc-button.fc-button-active {\\n    z-index: 1;\\n  }\\n\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\\n    margin-left: -1px;\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\\n    margin-right: -1px;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n\\n.fc .fc-toolbar {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n\\n.fc .fc-toolbar.fc-header-toolbar {\\n    margin-bottom: 1.5em;\\n  }\\n\\n.fc .fc-toolbar.fc-footer-toolbar {\\n    margin-top: 1.5em;\\n  }\\n\\n.fc .fc-toolbar-title {\\n    font-size: 1.75em;\\n    margin: 0;\\n  }\\n\\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\\n    margin-left: .75em; /* space between */\\n  }\\n\\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\\n    margin-right: .75em; /* space between */\\n  }\\n\\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\\n    flex-direction: row-reverse;\\n  }\\n\\n.fc .fc-scroller {\\n    -webkit-overflow-scrolling: touch;\\n    position: relative; /* for abs-positioned elements within */\\n  }\\n\\n.fc .fc-scroller-liquid {\\n    height: 100%;\\n  }\\n\\n.fc .fc-scroller-liquid-absolute {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    bottom: 0;\\n  }\\n\\n.fc .fc-scroller-harness {\\n    position: relative;\\n    overflow: hidden;\\n    direction: ltr;\\n      /* hack for chrome computing the scroller's right/left wrong for rtl. undone below... */\\n      /* TODO: demonstrate in codepen */\\n  }\\n\\n.fc .fc-scroller-harness-liquid {\\n    height: 100%;\\n  }\\n\\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\\n    direction: rtl;\\n  }\\n\\n.fc-theme-standard .fc-scrollgrid {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\\n  }\\n\\n.fc .fc-scrollgrid,\\n    .fc .fc-scrollgrid table { /* all tables (self included) */\\n      width: 100%; /* because tables don't normally do this */\\n      table-layout: fixed;\\n    }\\n\\n.fc .fc-scrollgrid table { /* inner tables */\\n      border-top-style: hidden;\\n      border-left-style: hidden;\\n      border-right-style: hidden;\\n    }\\n\\n.fc .fc-scrollgrid {\\n\\n    border-collapse: separate;\\n    border-right-width: 0;\\n    border-bottom-width: 0;\\n\\n  }\\n\\n.fc .fc-scrollgrid-liquid {\\n    height: 100%;\\n  }\\n\\n.fc .fc-scrollgrid-section { /* a <tr> */\\n    height: 1px /* better than 0, for firefox */\\n\\n  }\\n\\n.fc .fc-scrollgrid-section > td {\\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\\n    }\\n\\n.fc .fc-scrollgrid-section table {\\n      height: 1px;\\n        /* for most browsers, if a height isn't set on the table, can't do liquid-height within cells */\\n        /* serves as a min-height. harmless */\\n    }\\n\\n.fc .fc-scrollgrid-section-liquid {\\n    height: auto\\n\\n  }\\n\\n.fc .fc-scrollgrid-section-liquid > td {\\n      height: 100%; /* better than `auto`, for firefox */\\n    }\\n\\n.fc .fc-scrollgrid-section > * {\\n    border-top-width: 0;\\n    border-left-width: 0;\\n  }\\n\\n.fc .fc-scrollgrid-section-header > *,\\n  .fc .fc-scrollgrid-section-footer > * {\\n    border-bottom-width: 0;\\n  }\\n\\n.fc .fc-scrollgrid-section-body table,\\n  .fc .fc-scrollgrid-section-footer table {\\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\\n  }\\n\\n.fc {\\n\\n  /* stickiness */\\n\\n}\\n\\n.fc .fc-scrollgrid-section-sticky > * {\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n    position: -webkit-sticky;\\n    position: sticky;\\n    z-index: 2; /* TODO: var */\\n    /* TODO: box-shadow when sticking */\\n  }\\n\\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\\n    top: 0; /* because border-sharing causes a gap at the top */\\n      /* TODO: give safari -1. has bug */\\n  }\\n\\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\\n    bottom: 0; /* known bug: bottom-stickiness doesn't work in safari */\\n  }\\n\\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\\n    height: 1px; /* needs height to create scrollbars */\\n    margin-bottom: -1px;\\n  }\\n\\n.fc-sticky { /* no .fc wrap because used as child of body */\\n  position: -webkit-sticky;\\n  position: sticky;\\n}\\n\\n.fc .fc-view-harness {\\n    flex-grow: 1; /* because this harness is WITHIN the .fc's flexbox */\\n    position: relative;\\n  }\\n\\n.fc {\\n\\n  /* when the harness controls the height, make the view liquid */\\n\\n}\\n\\n.fc .fc-view-harness-active > .fc-view {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n\\n.fc .fc-col-header-cell-cushion {\\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\\n    padding: 2px 4px;\\n  }\\n\\n.fc .fc-bg-event,\\n  .fc .fc-non-business,\\n  .fc .fc-highlight {\\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n\\n.fc .fc-non-business {\\n    background: rgba(215, 215, 215, 0.3);\\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\\n  }\\n\\n.fc .fc-bg-event {\\n    background: rgb(143, 223, 130);\\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\\n    opacity: 0.3;\\n    opacity: var(--fc-bg-event-opacity, 0.3)\\n  }\\n\\n.fc .fc-bg-event .fc-event-title {\\n      margin: .5em;\\n      font-size: .85em;\\n      font-size: var(--fc-small-font-size, .85em);\\n      font-style: italic;\\n    }\\n\\n.fc .fc-highlight {\\n    background: rgba(188, 232, 241, 0.3);\\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\\n  }\\n\\n.fc .fc-cell-shaded,\\n  .fc .fc-day-disabled {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n\\n/* link resets */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\na.fc-event,\\na.fc-event:hover {\\n  text-decoration: none;\\n}\\n\\n/* cursor */\\n\\n.fc-event[href],\\n.fc-event.fc-event-draggable {\\n  cursor: pointer;\\n}\\n\\n/* event text content */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event .fc-event-main {\\n    position: relative;\\n    z-index: 2;\\n  }\\n\\n/* dragging */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\\n    opacity: 0.75;\\n  }\\n\\n.fc-event-dragging.fc-event-selected { /* TOUCH */\\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\\n  }\\n\\n/* resizing */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n/* (subclasses should hone positioning for touch and non-touch) */\\n\\n.fc-event .fc-event-resizer {\\n    display: none;\\n    position: absolute;\\n    z-index: 4;\\n  }\\n\\n.fc-event:hover, /* MOUSE */\\n.fc-event-selected { /* TOUCH */\\n\\n}\\n\\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\\n    display: block;\\n  }\\n\\n.fc-event-selected .fc-event-resizer {\\n    border-radius: 4px;\\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\\n    border-width: 1px;\\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\\n    width: 8px;\\n    width: var(--fc-event-resizer-dot-total-width, 8px);\\n    height: 8px;\\n    height: var(--fc-event-resizer-dot-total-width, 8px);\\n    border-style: solid;\\n    border-color: inherit;\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff)\\n\\n    /* expand hit area */\\n\\n  }\\n\\n.fc-event-selected .fc-event-resizer:before {\\n      content: '';\\n      position: absolute;\\n      top: -20px;\\n      left: -20px;\\n      right: -20px;\\n      bottom: -20px;\\n    }\\n\\n/* selecting (always TOUCH) */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event-selected {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\\n\\n  /* expand hit area (subclasses should expand) */\\n\\n}\\n\\n.fc-event-selected:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    z-index: 3;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n\\n.fc-event-selected {\\n\\n  /* dimmer effect */\\n\\n}\\n\\n.fc-event-selected:after {\\n    content: \\\"\\\";\\n    background: rgba(0, 0, 0, 0.25);\\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\\n    position: absolute;\\n    z-index: 1;\\n\\n    /* assume there's a border on all sides. overcome it. */\\n    /* sometimes there's NOT a border, in which case the dimmer will go over */\\n    /* an adjacent border, which looks fine. */\\n    top: -1px;\\n    left: -1px;\\n    right: -1px;\\n    bottom: -1px;\\n  }\\n\\n/*\\nA HORIZONTAL event\\n*/\\n\\n.fc-h-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n\\n.fc-h-event .fc-event-main {\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n  }\\n\\n.fc-h-event .fc-event-main-frame {\\n    display: flex; /* for make fc-event-title-container expand */\\n  }\\n\\n.fc-h-event .fc-event-time {\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n\\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-h-event .fc-event-title {\\n    display: inline-block; /* need this to be sticky cross-browser */\\n    vertical-align: top; /* for not messing up line-height */\\n    left: 0;  /* for sticky */\\n    right: 0; /* for sticky */\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n\\n.fc-h-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n\\n/* adjust border and border-radius (if there is any) for non-start/end */\\n\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-left-width: 0;\\n}\\n\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border-right-width: 0;\\n}\\n\\n/* resizers */\\n\\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\\n  top: 0;\\n  bottom: 0;\\n  width: 8px;\\n  width: var(--fc-event-resizer-thickness, 8px);\\n}\\n\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\\n  cursor: w-resize;\\n  left: -4px;\\n  left: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\\n  cursor: e-resize;\\n  right: -4px;\\n  right: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n\\n/* resizers for TOUCH */\\n\\n.fc-h-event.fc-event-selected .fc-event-resizer {\\n  top: 50%;\\n  margin-top: -4px;\\n  margin-top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\\n  left: -4px;\\n  left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\\n  right: -4px;\\n  right: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AZnVsbGNhbGVuZGFyL2NvbW1vbi9tYWluLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsK0JBQStCOztBQUUvQjs0QkFDNEIsb0NBQW9DO0VBQzlELG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHlCQUF5QjtLQUN0QixzQkFBc0I7VUFFakIsaUJBQWlCO0VBQ3pCLDJCQUEyQjtFQUMzQiw2Q0FBNkM7QUFDL0M7O0FBQ0E7RUFDRSxpQ0FBaUM7RUFDakMsYUFBYTtFQUNiLHNCQUFzQjs7RUFFdEI7QUFDRjs7QUFDQTs7OztJQUlJLHNCQUFzQjtFQUN4Qjs7QUFDRjtJQUNJLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsY0FBYyxFQUFFLDRCQUE0QjtFQUM5Qzs7QUFDRjtJQUNJLGtCQUFrQjtFQUNwQjs7QUFDRjs7SUFFSSxtQkFBbUI7SUFDbkIsVUFBVTtFQUNaOztBQUNGO0lBQ0ksZUFBZTtFQUNqQjs7QUFDRjtJQUNJLDBCQUEwQjtFQUM1Qjs7QUFDRjtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7QUFDbEI7O0FBQ0E7RUFDRSxjQUFjO0VBQ2QsaUJBQWlCO0FBQ25COztBQUNBOztJQUVJLHNCQUFzQjtJQUN0Qiw4Q0FBOEM7RUFDaEQ7O0FBQ0YsMEZBQTBGOztBQUMxRixzREFBc0Q7O0FBQ3RELCtCQUErQjs7QUFDL0I7O0lBRUksa0JBQWtCO0VBQ3BCOztBQUVGO0VBQ0Usc0JBQXNCO0VBQ3RCLDRtR0FBNG1HO0VBQzVtRyxtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLHFCQUFxQjtFQUNyQixVQUFVO0VBQ1YsV0FBVztFQUNYLGtCQUFrQjtFQUNsQix5QkFBeUI7S0FDdEIsc0JBQXNCO1VBRWpCLGlCQUFpQjs7RUFFekIsK0VBQStFO0VBQy9FLGlDQUFpQztFQUNqQyxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsb0JBQW9CO0VBQ3BCLGNBQWM7O0VBRWQsc0NBQXNDO0VBQ3RDLG1DQUFtQztFQUNuQyxrQ0FBa0M7QUFDcEM7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBQ0E7Ozs7O0NBS0M7O0FBQ0Q7O0VBRUUsVUFBVTs7QUFFWjs7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLFNBQVM7SUFDVCxvQkFBb0I7SUFDcEIsa0JBQWtCO0lBQ2xCLG9CQUFvQjtFQUN0Qjs7QUFDRjtJQUNJLG1CQUFtQjtJQUNuQiwwQ0FBMEM7RUFDNUM7O0FBQ0Y7SUFDSSwwQkFBMEI7RUFDNUI7O0FBQ0Y7SUFDSSxlQUFlO0VBQ2pCOztBQUNGO0lBQ0ksVUFBVTtJQUNWLGtCQUFrQjtFQUNwQjs7QUFDRjs7RUFFRSxVQUFVOztBQUVaOztBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsc0JBQXNCO0lBQ3RCLHlCQUF5QjtPQUN0QixzQkFBc0I7WUFFakIsaUJBQWlCO0lBQ3pCLDZCQUE2QjtJQUM3Qiw2QkFBNkI7SUFDN0IscUJBQXFCO0lBQ3JCLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIscUJBQXFCO0VBQ3ZCOztBQUNGO0lBQ0kscUJBQXFCO0VBQ3ZCOztBQUNGO0lBQ0ksVUFBVTtJQUNWLCtDQUErQztFQUNqRDs7QUFDRjtJQUNJLGFBQWE7RUFDZjs7QUFDRjs7RUFFRSx1QkFBdUI7O0FBRXpCOztBQUNBO0lBQ0ksV0FBVztJQUNYLHdDQUF3QztJQUN4Qyx5QkFBeUI7SUFDekIsb0RBQW9EO0lBQ3BELHFCQUFxQjtJQUNyQixvREFBb0Q7RUFDdEQ7O0FBQ0Y7SUFDSSxXQUFXO0lBQ1gsd0NBQXdDO0lBQ3hDLHlCQUF5QjtJQUN6QiwwREFBMEQ7SUFDMUQscUJBQXFCO0lBQ3JCLDBEQUEwRDtFQUM1RDs7QUFDRixrQ0FBa0MsWUFBWTtJQUMxQyxXQUFXO0lBQ1gsd0NBQXdDO0lBQ3hDLHlCQUF5QjtJQUN6QixvREFBb0Q7SUFDcEQscUJBQXFCO0lBQ3JCLG9EQUFvRCxFQUFFLHFCQUFxQjtFQUM3RTs7QUFDRjtJQUNJLCtDQUErQztFQUNqRDs7QUFDRjs7SUFFSSxXQUFXO0lBQ1gsd0NBQXdDO0lBQ3hDLHlCQUF5QjtJQUN6QiwyREFBMkQ7SUFDM0QscUJBQXFCO0lBQ3JCLDJEQUEyRDtFQUM3RDs7QUFDRjs7SUFFSSwrQ0FBK0M7RUFDakQ7O0FBQ0Y7O0VBRUUseUJBQXlCOztBQUUzQjs7QUFDQTtJQUNJLHNCQUFzQjtJQUN0QixnQkFBZ0IsRUFBRSxnR0FBZ0c7RUFDcEg7O0FBQ0Y7SUFDSSxrQkFBa0I7SUFDbEIsb0JBQW9CO0lBQ3BCLHNCQUFzQjtFQUN4Qjs7QUFDRjtJQUNJLGtCQUFrQjtJQUNsQixjQUFjO0VBQ2hCOztBQUNGO0lBQ0ksVUFBVTtFQUNaOztBQUNGOzs7SUFHSSxVQUFVO0VBQ1o7O0FBQ0Y7SUFDSSxpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLDRCQUE0QjtFQUM5Qjs7QUFDRjtJQUNJLDBCQUEwQjtJQUMxQiw2QkFBNkI7RUFDL0I7O0FBQ0Y7SUFDSSxrQkFBa0I7SUFDbEIsMEJBQTBCO0lBQzFCLDZCQUE2QjtFQUMvQjs7QUFDRjtJQUNJLHlCQUF5QjtJQUN6Qiw0QkFBNEI7RUFDOUI7O0FBQ0Y7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtFQUNyQjs7QUFDRjtJQUNJLG9CQUFvQjtFQUN0Qjs7QUFDRjtJQUNJLGlCQUFpQjtFQUNuQjs7QUFDRjtJQUNJLGlCQUFpQjtJQUNqQixTQUFTO0VBQ1g7O0FBQ0Y7SUFDSSxrQkFBa0IsRUFBRSxrQkFBa0I7RUFDeEM7O0FBQ0Y7SUFDSSxtQkFBbUIsRUFBRSxrQkFBa0I7RUFDekM7O0FBQ0Ysb0NBQW9DLDBFQUEwRTtJQUMxRywyQkFBMkI7RUFDN0I7O0FBQ0Y7SUFDSSxpQ0FBaUM7SUFDakMsa0JBQWtCLEVBQUUsdUNBQXVDO0VBQzdEOztBQUNGO0lBQ0ksWUFBWTtFQUNkOztBQUNGO0lBQ0ksa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixRQUFRO0lBQ1IsT0FBTztJQUNQLFNBQVM7RUFDWDs7QUFDRjtJQUNJLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsY0FBYztNQUNaLHVGQUF1RjtNQUN2RixpQ0FBaUM7RUFDckM7O0FBQ0Y7SUFDSSxZQUFZO0VBQ2Q7O0FBQ0Ysd0RBQXdELG9CQUFvQjtJQUN4RSxjQUFjO0VBQ2hCOztBQUNGO0lBQ0ksc0JBQXNCO0lBQ3RCLDhDQUE4QyxFQUFFLCtCQUErQjtFQUNqRjs7QUFDRjsrQkFDK0IsK0JBQStCO01BQ3hELFdBQVcsRUFBRSwwQ0FBMEM7TUFDdkQsbUJBQW1CO0lBQ3JCOztBQUNKLDJCQUEyQixpQkFBaUI7TUFDdEMsd0JBQXdCO01BQ3hCLHlCQUF5QjtNQUN6QiwwQkFBMEI7SUFDNUI7O0FBQ0o7O0lBRUkseUJBQXlCO0lBQ3pCLHFCQUFxQjtJQUNyQixzQkFBc0I7O0VBRXhCOztBQUNGO0lBQ0ksWUFBWTtFQUNkOztBQUNGLDZCQUE2QixXQUFXO0lBQ3BDLFVBQVUsRUFBRSwrQkFBK0I7O0VBRTdDOztBQUNGO01BQ00sV0FBVyxFQUFFLHdFQUF3RTtJQUN2Rjs7QUFDSjtNQUNNLFdBQVc7UUFDVCwrRkFBK0Y7UUFDL0YscUNBQXFDO0lBQ3pDOztBQUNKO0lBQ0k7O0VBRUY7O0FBQ0Y7TUFDTSxZQUFZLEVBQUUsb0NBQW9DO0lBQ3BEOztBQUNKO0lBQ0ksbUJBQW1CO0lBQ25CLG9CQUFvQjtFQUN0Qjs7QUFDRjs7SUFFSSxzQkFBc0I7RUFDeEI7O0FBQ0Y7O0lBRUksMkJBQTJCLEVBQUUscUNBQXFDO0VBQ3BFOztBQUNGOztFQUVFLGVBQWU7O0FBRWpCOztBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLHlDQUF5QztJQUN6Qyx3QkFBd0I7SUFDeEIsZ0JBQWdCO0lBQ2hCLFVBQVUsRUFBRSxjQUFjO0lBQzFCLG1DQUFtQztFQUNyQzs7QUFDRjtJQUNJLE1BQU0sRUFBRSxtREFBbUQ7TUFDekQsa0NBQWtDO0VBQ3RDOztBQUNGO0lBQ0ksU0FBUyxFQUFFLHdEQUF3RDtFQUNyRTs7QUFDRixpQ0FBaUMsNkJBQTZCO0lBQzFELFdBQVcsRUFBRSxzQ0FBc0M7SUFDbkQsbUJBQW1CO0VBQ3JCOztBQUNGLGFBQWEsOENBQThDO0VBQ3pELHdCQUF3QjtFQUN4QixnQkFBZ0I7QUFDbEI7O0FBQ0E7SUFDSSxZQUFZLEVBQUUscURBQXFEO0lBQ25FLGtCQUFrQjtFQUNwQjs7QUFDRjs7RUFFRSwrREFBK0Q7O0FBRWpFOztBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixRQUFRO0lBQ1IsU0FBUztJQUNULE9BQU87RUFDVDs7QUFDRjtJQUNJLHFCQUFxQixFQUFFLHVEQUF1RDtJQUM5RSxnQkFBZ0I7RUFDbEI7O0FBQ0Y7OztJQUdJLHFGQUFxRjtJQUNyRixrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87SUFDUCxRQUFRO0lBQ1IsU0FBUztFQUNYOztBQUNGO0lBQ0ksb0NBQW9DO0lBQ3BDLGtFQUFrRTtFQUNwRTs7QUFDRjtJQUNJLDhCQUE4QjtJQUM5Qix3REFBd0Q7SUFDeEQsWUFBWTtJQUNaO0VBQ0Y7O0FBQ0Y7TUFDTSxZQUFZO01BQ1osZ0JBQWdCO01BQ2hCLDJDQUEyQztNQUMzQyxrQkFBa0I7SUFDcEI7O0FBQ0o7SUFDSSxvQ0FBb0M7SUFDcEMsK0RBQStEO0VBQ2pFOztBQUNGOztJQUVJLG9DQUFvQztJQUNwQyxnRUFBZ0U7RUFDbEU7O0FBQ0YsZ0JBQWdCOztBQUNoQix5R0FBeUc7O0FBQ3pHOztFQUVFLHFCQUFxQjtBQUN2Qjs7QUFDQSxXQUFXOztBQUNYOztFQUVFLGVBQWU7QUFDakI7O0FBQ0EsdUJBQXVCOztBQUN2Qix5R0FBeUc7O0FBQ3pHO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7RUFDWjs7QUFDRixhQUFhOztBQUNiLHlHQUF5Rzs7QUFDekcsNkNBQTZDLFVBQVU7SUFDbkQsYUFBYTtFQUNmOztBQUNGLHVDQUF1QyxVQUFVO0lBQzdDLHdDQUF3QztFQUMxQzs7QUFDRixhQUFhOztBQUNiLHlHQUF5Rzs7QUFDekcsaUVBQWlFOztBQUNqRTtJQUNJLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsVUFBVTtFQUNaOztBQUNGO3FCQUNxQixVQUFVOztBQUUvQjs7QUFDQTtJQUNJLGNBQWM7RUFDaEI7O0FBQ0Y7SUFDSSxrQkFBa0I7SUFDbEIscUVBQXFFO0lBQ3JFLGlCQUFpQjtJQUNqQiwyREFBMkQ7SUFDM0QsVUFBVTtJQUNWLG1EQUFtRDtJQUNuRCxXQUFXO0lBQ1gsb0RBQW9EO0lBQ3BELG1CQUFtQjtJQUNuQixxQkFBcUI7SUFDckIsZ0JBQWdCO0lBQ2hCLHdDQUF3Qzs7SUFFeEMsb0JBQW9COztFQUV0Qjs7QUFDRjtNQUNNLFdBQVc7TUFDWCxrQkFBa0I7TUFDbEIsVUFBVTtNQUNWLFdBQVc7TUFDWCxZQUFZO01BQ1osYUFBYTtJQUNmOztBQUNKLDZCQUE2Qjs7QUFDN0IseUdBQXlHOztBQUN6RztFQUNFLHVDQUF1Qzs7RUFFdkMsK0NBQStDOztBQUVqRDs7QUFDQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLE1BQU07SUFDTixPQUFPO0lBQ1AsUUFBUTtJQUNSLFNBQVM7RUFDWDs7QUFDRjs7RUFFRSxrQkFBa0I7O0FBRXBCOztBQUNBO0lBQ0ksV0FBVztJQUNYLCtCQUErQjtJQUMvQix1RUFBdUU7SUFDdkUsa0JBQWtCO0lBQ2xCLFVBQVU7O0lBRVYsdURBQXVEO0lBQ3ZELDBFQUEwRTtJQUMxRSwwQ0FBMEM7SUFDMUMsU0FBUztJQUNULFVBQVU7SUFDVixXQUFXO0lBQ1gsWUFBWTtFQUNkOztBQUNGOztDQUVDOztBQUNELGNBQWMsNEJBQTRCO0VBQ3hDLGNBQWM7RUFDZCx5QkFBeUI7RUFDekIsdURBQXVEO0VBQ3ZELHlCQUF5QjtFQUN6Qjs7QUFFRjs7QUFDQTtJQUNJLFdBQVc7SUFDWCx1Q0FBdUM7RUFDekM7O0FBQ0Y7SUFDSSxhQUFhLEVBQUUsNkNBQTZDO0VBQzlEOztBQUNGO0lBQ0ksZUFBZSxFQUFFLGtDQUFrQztJQUNuRCxnQkFBZ0I7RUFDbEI7O0FBQ0Ysd0NBQXdDLGlEQUFpRDtJQUNyRixZQUFZO0lBQ1osY0FBYztJQUNkLFlBQVksRUFBRSxpREFBaUQ7RUFDakU7O0FBQ0Y7SUFDSSxxQkFBcUIsRUFBRSx5Q0FBeUM7SUFDaEUsbUJBQW1CLEVBQUUsbUNBQW1DO0lBQ3hELE9BQU8sR0FBRyxlQUFlO0lBQ3pCLFFBQVEsRUFBRSxlQUFlO0lBQ3pCLGVBQWUsRUFBRSxrQ0FBa0M7SUFDbkQsZ0JBQWdCO0VBQ2xCOztBQUNGO0lBQ0ksb0JBQW9CO0lBQ3BCLFVBQVU7SUFDVixhQUFhO0VBQ2Y7O0FBQ0Ysd0VBQXdFOztBQUN4RTs7RUFFRSx5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLG9CQUFvQjtBQUN0Qjs7QUFDQTs7RUFFRSwwQkFBMEI7RUFDMUIsNkJBQTZCO0VBQzdCLHFCQUFxQjtBQUN2Qjs7QUFDQSxhQUFhOztBQUNiO0VBQ0UsTUFBTTtFQUNOLFNBQVM7RUFDVCxVQUFVO0VBQ1YsNkNBQTZDO0FBQy9DOztBQUNBOztFQUVFLGdCQUFnQjtFQUNoQixVQUFVO0VBQ1YsdURBQXVEO0FBQ3pEOztBQUNBOztFQUVFLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsd0RBQXdEO0FBQzFEOztBQUNBLHVCQUF1Qjs7QUFDdkI7RUFDRSxRQUFRO0VBQ1IsZ0JBQWdCO0VBQ2hCLG1FQUFtRTtBQUNyRTs7QUFDQTs7RUFFRSxVQUFVO0VBQ1YsNkRBQTZEO0FBQy9EOztBQUNBOztFQUVFLFdBQVc7RUFDWCw4REFBOEQ7QUFDaEUiLCJmaWxlIjoibm9kZV9tb2R1bGVzL0BmdWxsY2FsZW5kYXIvY29tbW9uL21haW4uY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKiBjbGFzc2VzIGF0dGFjaGVkIHRvIDxib2R5PiAqL1xuXG4uZmMtbm90LWFsbG93ZWQsXG4uZmMtbm90LWFsbG93ZWQgLmZjLWV2ZW50IHsgLyogb3ZlcnJpZGUgZXZlbnRzJyBjdXN0b20gY3Vyc29ycyAqL1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuXG4uZmMtdW5zZWxlY3RhYmxlIHtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XG59XG4uZmMge1xuICAvKiBsYXlvdXQgb2YgaW1tZWRpYXRlIGNoaWxkcmVuICovXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgZm9udC1zaXplOiAxZW1cbn1cbi5mYyxcbiAgLmZjICosXG4gIC5mYyAqOmJlZm9yZSxcbiAgLmZjICo6YWZ0ZXIge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cbi5mYyB0YWJsZSB7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICBib3JkZXItc3BhY2luZzogMDtcbiAgICBmb250LXNpemU6IDFlbTsgLyogbm9ybWFsaXplIGNyb3NzLWJyb3dzZXIgKi9cbiAgfVxuLmZjIHRoIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbi5mYyB0aCxcbiAgLmZjIHRkIHtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cbi5mYyBhW2RhdGEtbmF2bGlua10ge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuLmZjIGFbZGF0YS1uYXZsaW5rXTpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIHtcbiAgZGlyZWN0aW9uOiBsdHI7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG4uZmMtZGlyZWN0aW9uLXJ0bCB7XG4gIGRpcmVjdGlvbjogcnRsO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cbi5mYy10aGVtZS1zdGFuZGFyZCB0ZCxcbiAgLmZjLXRoZW1lLXN0YW5kYXJkIHRoIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWZjLWJvcmRlci1jb2xvciwgI2RkZCk7XG4gIH1cbi8qIGZvciBGRiwgd2hpY2ggZG9lc24ndCBleHBhbmQgYSAxMDAlIGRpdiB3aXRoaW4gYSB0YWJsZSBjZWxsLiB1c2UgYWJzb2x1dGUgcG9zaXRpb25pbmcgKi9cbi8qIGlubmVyLXdyYXBwZXJzIGFyZSByZXNwb25zaWJsZSBmb3IgYmVpbmcgYWJzb2x1dGUgKi9cbi8qIFRPRE86IGJlc3QgcGxhY2UgZm9yIHRoaXM/ICovXG4uZmMtbGlxdWlkLWhhY2sgdGQsXG4gIC5mYy1saXF1aWQtaGFjayB0aCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG5cbkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogJ2ZjaWNvbnMnO1xuICBzcmM6IHVybChcImRhdGE6YXBwbGljYXRpb24veC1mb250LXR0ZjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxBQUVBQUFBTEFJQUFBd0F3VDFNdk1nOFNCZkFBQUFDOEFBQUFZR050WVhBWFZ0S05BQUFCSEFBQUFGUm5ZWE53QUFBQUVBQUFBWEFBQUFBSVoyeDVaZ1l5ZHhJQUFBRjRBQUFGTkdobFlXUVVKN2NJQUFBR3JBQUFBRFpvYUdWaEIyMER6QUFBQnVRQUFBQWthRzEwZUNJQUJoUUFBQWNJQUFBQUxHeHZZMkVENEFVNkFBQUhOQUFBQUJodFlYaHdBQThBakFBQUIwd0FBQUFnYm1GdFpYc3I2OTBBQUFkc0FBQUJobkJ2YzNRQUF3QUFBQUFJOUFBQUFDQUFBd1BBQVpBQUJRQUFBcGtDekFBQUFJOENtUUxNQUFBQjZ3QXpBUWtBQUFBQUFBQUFBQUFBQUFBQUFBQUJFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBQURwQmdQQS84QUFRQVBBQUVBQUFBQUJBQUFBQUFBQUFBQUFBQUFnQUFBQUFBQURBQUFBQXdBQUFCd0FBUUFEQUFBQUhBQURBQUVBQUFBY0FBUUFPQUFBQUFvQUNBQUNBQUlBQVFBZzZRYi8vZi8vQUFBQUFBQWc2UUQvL2YvL0FBSC80eGNFQUFNQUFRQUFBQUFBQUFBQUFBQUFBUUFCLy84QUR3QUJBQUFBQUFBQUFBQUFBZ0FBTnprQkFBQUFBQUVBQUFBQUFBQUFBQUFDQUFBM09RRUFBQUFBQVFBQUFBQUFBQUFBQUFJQUFEYzVBUUFBQUFBQkFXSUFqUUtlQXNrQUV3QUFKU2MzTmpRbkppSUhBUVlVRndFV01qYzJOQ2NDbnVMaURRME1KQXovQUEwTkFRQU1KQXdORGNuaTRnd2pEUXdNL3dBTkl3ei9BQTBORENNTkFBQUFBUUZpQUkwQ25nTEpBQk1BQUNVQk5qUW5BU1lpQndZVUh3RUhCaFFYRmpJM0FaNEJBQTBOL3dBTUpBd05EZUxpRFEwTUpBeU5BUUFNSXcwQkFBd01EU01NNHVJTkl3d05EUUFBQUFJQTRnQzNBeDRDbmdBVEFDY0FBQ1VuTnpZMEp5WWlEd0VHRkI4QkZqSTNOalFuSVNjM05qUW5KaUlQQVFZVUh3RVdNamMyTkNjQjg3ZTNEUTBNSXczVkRRM1ZEU01NRFEwQks3ZTNEUTBNSkF6VkRRM1ZEQ1FNRFEzenVMY01KQXdORGRVTkl3eldEQXdOSXd5NHR3d2tEQTBOMVEwakROWU1EQTBqREFBQUFnRGlBTGNESGdLZUFCTUFKd0FBSlRjMk5DOEJKaUlIQmhRZkFRY0dGQmNXTWpjaE56WTBMd0VtSWdjR0ZCOEJCd1lVRnhZeU53SkoxUTBOMVEwakRBME50N2NORFF3akRmN1YxUTBOMVF3a0RBME50N2NORFF3a0RMZldEQ01OMVEwTkRDUU10N2dNSXcwTUROWU1JdzNWRFEwTUpBeTN1QXdqRFF3TUFBQURBRlVBQUFPckExVUFNd0JvQUhjQUFCTWlCZ2NPQVFjT0FRY09BUlVSRkJZWEhnRVhIZ0VYSGdFeklUSTJOejRCTno0Qk56NEJOUkUwSmljdUFTY3VBU2N1QVNNRklUSVdGeDRCRng0QkZ4NEJGUkVVQmdjT0FRY09BUWNPQVNNaElpWW5MZ0VuTGdFbkxnRTFFVFEyTno0Qk56NEJOejRCTXhNaE1qWTFOQ1lqSVNJR0ZSUVdNOVVOR0F3TEZRa0pEZ1VGQlFVRkJRNEpDUlVMREJnTkFsWU5HQXdMRlFrSkRnVUZCUVVGQlE0SkNSVUxEQmdOL2FvQ1ZnUUlCQVFIQXdNRkFRSUJBUUlCQlFNREJ3UUVDQVQ5cWdRSUJBUUhBd01GQVFJQkFRSUJCUU1EQndRRUNBU0FBVllSR1JrUi9xb1JHUmtSQTFVRkJBVU9DUWtWREFzWkRmMnJEUmtMREJVSkNBNEZCUVVGQlFVT0NRZ1ZEQXNaRFFKVkRSa0xEQlVKQ1E0RkJBVlZBZ0VDQlFNQ0J3UUVDQVg5cXdRSkF3UUhBd01GQVFJQ0FnSUJCUU1EQndRRENRUUNWUVVJQkFRSEFnTUZBZ0VDL29BWkVoRVpHUkVTR1FBQUFBQURBRlVBQUFPckExVUFNd0JvQUlrQUFCTWlCZ2NPQVFjT0FRY09BUlVSRkJZWEhnRVhIZ0VYSGdFeklUSTJOejRCTno0Qk56NEJOUkUwSmljdUFTY3VBU2N1QVNNRklUSVdGeDRCRng0QkZ4NEJGUkVVQmdjT0FRY09BUWNPQVNNaElpWW5MZ0VuTGdFbkxnRTFFVFEyTno0Qk56NEJOejRCTXhNekZSUVdNekkyUFFFek1qWTFOQ1lyQVRVMEppTWlCaDBCSXlJR0ZSUVdNOVVOR0F3TEZRa0pEZ1VGQlFVRkJRNEpDUlVMREJnTkFsWU5HQXdMRlFrSkRnVUZCUVVGQlE0SkNSVUxEQmdOL2FvQ1ZnUUlCQVFIQXdNRkFRSUJBUUlCQlFNREJ3UUVDQVQ5cWdRSUJBUUhBd01GQVFJQkFRSUJCUU1EQndRRUNBU0FnQmtTRWhtQUVSa1pFWUFaRWhJWmdCRVpHUkVEVlFVRUJRNEpDUlVNQ3hrTi9hc05HUXNNRlFrSURnVUZCUVVGQlE0SkNCVU1DeGtOQWxVTkdRc01GUWtKRGdVRUJWVUNBUUlGQXdJSEJBUUlCZjJyQkFrREJBY0RBd1VCQWdJQ0FnRUZBd01IQkFNSkJBSlZCUWdFQkFjQ0F3VUNBUUwrZ0lBU0dSa1NnQmtTRVJtQUVoa1pFb0FaRVJJWkFBQUJBT0lBalFNZUFza0FJQUFBRXhjSEJoUVhGakkvQVJjV01qYzJOQzhCTnpZMEp5WWlEd0VuSmlJSEJoUVg0dUxpRFEwTUpBemk0Z3drREEwTjR1SU5EUXdrRE9MaURDUU1EUTBDamVMaURTTU1EUTNoNFEwTkRDTU40dUlNSXcwTURPTGlEQXdOSXd3QUFBQUJBQUFBQVFBQWE1bjB5MThQUFBVQUN3UUFBQUFBQU5pdk9Wc0FBQUFBMks4NVd3QUFBQUFEcXdOVkFBQUFDQUFDQUFBQUFBQUFBQUVBQUFQQS84QUFBQVFBQUFBQUFBT3JBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUxCQUFBQUFBQUFBQUFBQUFBQWdBQUFBUUFBV0lFQUFGaUJBQUE0Z1FBQU9JRUFBQlZCQUFBVlFRQUFPSUFBQUFBQUFvQUZBQWVBRVFBYWdDcUFPb0JuZ0prQXBvQUFRQUFBQXNBaWdBREFBQUFBQUFDQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE0QXJnQUJBQUFBQUFBQkFBY0FBQUFCQUFBQUFBQUNBQWNBWUFBQkFBQUFBQUFEQUFjQU5nQUJBQUFBQUFBRUFBY0FkUUFCQUFBQUFBQUZBQXNBRlFBQkFBQUFBQUFHQUFjQVN3QUJBQUFBQUFBS0FCb0FpZ0FEQUFFRUNRQUJBQTRBQndBREFBRUVDUUFDQUE0QVp3QURBQUVFQ1FBREFBNEFQUUFEQUFFRUNRQUVBQTRBZkFBREFBRUVDUUFGQUJZQUlBQURBQUVFQ1FBR0FBNEFVZ0FEQUFFRUNRQUtBRFFBcEdaamFXTnZibk1BWmdCakFHa0FZd0J2QUc0QWMxWmxjbk5wYjI0Z01TNHdBRllBWlFCeUFITUFhUUJ2QUc0QUlBQXhBQzRBTUdaamFXTnZibk1BWmdCakFHa0FZd0J2QUc0QWMyWmphV052Ym5NQVpnQmpBR2tBWXdCdkFHNEFjMUpsWjNWc1lYSUFVZ0JsQUdjQWRRQnNBR0VBY21aamFXTnZibk1BWmdCakFHa0FZd0J2QUc0QWMwWnZiblFnWjJWdVpYSmhkR1ZrSUdKNUlFbGpiMDF2YjI0dUFFWUFid0J1QUhRQUlBQm5BR1VBYmdCbEFISUFZUUIwQUdVQVpBQWdBR0lBZVFBZ0FFa0FZd0J2QUUwQWJ3QnZBRzRBTGdBQUFBTUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE9XCIpIGZvcm1hdCgndHJ1ZXR5cGUnKTtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xufVxuXG4uZmMtaWNvbiB7XG4gIC8qIGFkZGVkIGZvciBmYyAqL1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAxZW07XG4gIGhlaWdodDogMWVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbiAgLyogdXNlICFpbXBvcnRhbnQgdG8gcHJldmVudCBpc3N1ZXMgd2l0aCBicm93c2VyIGV4dGVuc2lvbnMgdGhhdCBjaGFuZ2UgZm9udHMgKi9cbiAgZm9udC1mYW1pbHk6ICdmY2ljb25zJyAhaW1wb3J0YW50O1xuICBzcGVhazogbm9uZTtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBmb250LXZhcmlhbnQ6IG5vcm1hbDtcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gIGxpbmUtaGVpZ2h0OiAxO1xuXG4gIC8qIEJldHRlciBGb250IFJlbmRlcmluZyA9PT09PT09PT09PSAqL1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbn1cblxuLmZjLWljb24tY2hldnJvbi1sZWZ0OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTAwXCI7XG59XG5cbi5mYy1pY29uLWNoZXZyb24tcmlnaHQ6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDFcIjtcbn1cblxuLmZjLWljb24tY2hldnJvbnMtbGVmdDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwMlwiO1xufVxuXG4uZmMtaWNvbi1jaGV2cm9ucy1yaWdodDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwM1wiO1xufVxuXG4uZmMtaWNvbi1taW51cy1zcXVhcmU6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDRcIjtcbn1cblxuLmZjLWljb24tcGx1cy1zcXVhcmU6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDVcIjtcbn1cblxuLmZjLWljb24teDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwNlwiO1xufVxuLypcbkxvdHMgdGFrZW4gZnJvbSBGbGF0bHkgKE1JVCk6IGh0dHBzOi8vYm9vdHN3YXRjaC5jb20vNC9mbGF0bHkvYm9vdHN0cmFwLmNzc1xuXG5UaGVzZSBzdHlsZXMgb25seSBhcHBseSB3aGVuIHRoZSBzdGFuZGFyZC10aGVtZSBpcyBhY3RpdmF0ZWQuXG5XaGVuIGl0J3MgTk9UIGFjdGl2YXRlZCwgdGhlIGZjLWJ1dHRvbiBjbGFzc2VzIHdvbid0IGV2ZW4gYmUgaW4gdGhlIERPTS5cbiovXG4uZmMge1xuXG4gIC8qIHJlc2V0ICovXG5cbn1cbi5mYyAuZmMtYnV0dG9uIHtcbiAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgIG1hcmdpbjogMDtcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XG4gICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG4gIH1cbi5mYyAuZmMtYnV0dG9uOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAxcHggZG90dGVkO1xuICAgIG91dGxpbmU6IDVweCBhdXRvIC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjtcbiAgfVxuLmZjIC5mYy1idXR0b24ge1xuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogYnV0dG9uO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpub3QoOmRpc2FibGVkKSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XG4gICAgcGFkZGluZzogMDtcbiAgICBib3JkZXItc3R5bGU6IG5vbmU7XG4gIH1cbi5mYyB7XG5cbiAgLyogdGhlbWUgKi9cblxufVxuLmZjIC5mYy1idXR0b24ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgcGFkZGluZzogMC40ZW0gMC42NWVtO1xuICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgYm9yZGVyLXJhZGl1czogMC4yNWVtO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpmb2N1cyB7XG4gICAgb3V0bGluZTogMDtcbiAgICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSg0NCwgNjIsIDgwLCAwLjI1KTtcbiAgfVxuLmZjIC5mYy1idXR0b246ZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IDAuNjU7XG4gIH1cbi5mYyB7XG5cbiAgLyogXCJwcmltYXJ5XCIgY29sb3JpbmcgKi9cblxufVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeSB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWJ1dHRvbi10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1iZy1jb2xvciwgIzJDM0U1MCk7XG4gICAgYm9yZGVyLWNvbG9yOiAjMkMzRTUwO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWJvcmRlci1jb2xvciwgIzJDM0U1MCk7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6aG92ZXIge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1idXR0b24tdGV4dC1jb2xvciwgI2ZmZik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFlMmIzNztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1idXR0b24taG92ZXItYmctY29sb3IsICMxZTJiMzcpO1xuICAgIGJvcmRlci1jb2xvcjogIzFhMjUyZjtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1ob3Zlci1ib3JkZXItY29sb3IsICMxYTI1MmYpO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5OmRpc2FibGVkIHsgLyogbm90IERSWSAqL1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1idXR0b24tdGV4dC1jb2xvciwgI2ZmZik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJDM0U1MDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYmctY29sb3IsICMyQzNFNTApO1xuICAgIGJvcmRlci1jb2xvcjogIzJDM0U1MDtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1ib3JkZXItY29sb3IsICMyQzNFNTApOyAvKiBvdmVycmlkZXMgOmhvdmVyICovXG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6Zm9jdXMge1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDc2LCA5MSwgMTA2LCAwLjUpO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5Om5vdCg6ZGlzYWJsZWQpOmFjdGl2ZSxcbiAgLmZjIC5mYy1idXR0b24tcHJpbWFyeTpub3QoOmRpc2FibGVkKS5mYy1idXR0b24tYWN0aXZlIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogdmFyKC0tZmMtYnV0dG9uLXRleHQtY29sb3IsICNmZmYpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxYTI1MmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWFjdGl2ZS1iZy1jb2xvciwgIzFhMjUyZik7XG4gICAgYm9yZGVyLWNvbG9yOiAjMTUxZTI3O1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWFjdGl2ZS1ib3JkZXItY29sb3IsICMxNTFlMjcpO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5Om5vdCg6ZGlzYWJsZWQpOmFjdGl2ZTpmb2N1cyxcbiAgLmZjIC5mYy1idXR0b24tcHJpbWFyeTpub3QoOmRpc2FibGVkKS5mYy1idXR0b24tYWN0aXZlOmZvY3VzIHtcbiAgICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSg3NiwgOTEsIDEwNiwgMC41KTtcbiAgfVxuLmZjIHtcblxuICAvKiBpY29ucyB3aXRoaW4gYnV0dG9ucyAqL1xuXG59XG4uZmMgLmZjLWJ1dHRvbiAuZmMtaWNvbiB7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICBmb250LXNpemU6IDEuNWVtOyAvKiBidW1wIHVwIHRoZSBzaXplIChidXQgZG9uJ3QgbWFrZSBpdCBiaWdnZXIgdGhhbiBsaW5lLWhlaWdodCBvZiBidXR0b24sIHdoaWNoIGlzIDEuNWVtIGFsc28pICovXG4gIH1cbi5mYyAuZmMtYnV0dG9uLWdyb3VwIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgfVxuLmZjIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZmxleDogMSAxIGF1dG87XG4gIH1cbi5mYyAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpob3ZlciB7XG4gICAgei1pbmRleDogMTtcbiAgfVxuLmZjIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOmZvY3VzLFxuICAuZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246YWN0aXZlLFxuICAuZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b24uZmMtYnV0dG9uLWFjdGl2ZSB7XG4gICAgei1pbmRleDogMTtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1sZWZ0OiAtMXB4O1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICBtYXJnaW4tcmlnaHQ6IC0xcHg7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOm5vdCg6bGFzdC1jaGlsZCkge1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcbiAgfVxuLmZjIC5mYy10b29sYmFyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG4uZmMgLmZjLXRvb2xiYXIuZmMtaGVhZGVyLXRvb2xiYXIge1xuICAgIG1hcmdpbi1ib3R0b206IDEuNWVtO1xuICB9XG4uZmMgLmZjLXRvb2xiYXIuZmMtZm9vdGVyLXRvb2xiYXIge1xuICAgIG1hcmdpbi10b3A6IDEuNWVtO1xuICB9XG4uZmMgLmZjLXRvb2xiYXItdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMS43NWVtO1xuICAgIG1hcmdpbjogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLXRvb2xiYXIgPiAqID4gOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICBtYXJnaW4tbGVmdDogLjc1ZW07IC8qIHNwYWNlIGJldHdlZW4gKi9cbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRvb2xiYXIgPiAqID4gOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICBtYXJnaW4tcmlnaHQ6IC43NWVtOyAvKiBzcGFjZSBiZXR3ZWVuICovXG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy10b29sYmFyLWx0ciB7IC8qIHdoZW4gdGhlIHRvb2xiYXItY2h1bmsgcG9zaXRpb25pbmcgc3lzdGVtIGlzIGV4cGxpY2l0bHkgbGVmdC10by1yaWdodCAqL1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcbiAgfVxuLmZjIC5mYy1zY3JvbGxlciB7XG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgLyogZm9yIGFicy1wb3NpdGlvbmVkIGVsZW1lbnRzIHdpdGhpbiAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyLWxpcXVpZC1hYnNvbHV0ZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgfVxuLmZjIC5mYy1zY3JvbGxlci1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBkaXJlY3Rpb246IGx0cjtcbiAgICAgIC8qIGhhY2sgZm9yIGNocm9tZSBjb21wdXRpbmcgdGhlIHNjcm9sbGVyJ3MgcmlnaHQvbGVmdCB3cm9uZyBmb3IgcnRsLiB1bmRvbmUgYmVsb3cuLi4gKi9cbiAgICAgIC8qIFRPRE86IGRlbW9uc3RyYXRlIGluIGNvZGVwZW4gKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxlci1oYXJuZXNzLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtc2Nyb2xsZXItaGFybmVzcyA+IC5mYy1zY3JvbGxlciB7IC8qIHVuZG8gYWJvdmUgaGFjayAqL1xuICAgIGRpcmVjdGlvbjogcnRsO1xuICB9XG4uZmMtdGhlbWUtc3RhbmRhcmQgLmZjLXNjcm9sbGdyaWQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmMtYm9yZGVyLWNvbG9yLCAjZGRkKTsgLyogYm9vdHN0cmFwIGRvZXMgdGhpcy4gbWF0Y2ggKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLFxuICAgIC5mYyAuZmMtc2Nyb2xsZ3JpZCB0YWJsZSB7IC8qIGFsbCB0YWJsZXMgKHNlbGYgaW5jbHVkZWQpICovXG4gICAgICB3aWR0aDogMTAwJTsgLyogYmVjYXVzZSB0YWJsZXMgZG9uJ3Qgbm9ybWFsbHkgZG8gdGhpcyAqL1xuICAgICAgdGFibGUtbGF5b3V0OiBmaXhlZDtcbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQgdGFibGUgeyAvKiBpbm5lciB0YWJsZXMgKi9cbiAgICAgIGJvcmRlci10b3Atc3R5bGU6IGhpZGRlbjtcbiAgICAgIGJvcmRlci1sZWZ0LXN0eWxlOiBoaWRkZW47XG4gICAgICBib3JkZXItcmlnaHQtc3R5bGU6IGhpZGRlbjtcbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQge1xuXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTtcbiAgICBib3JkZXItcmlnaHQtd2lkdGg6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMDtcblxuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtbGlxdWlkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uIHsgLyogYSA8dHI+ICovXG4gICAgaGVpZ2h0OiAxcHggLyogYmV0dGVyIHRoYW4gMCwgZm9yIGZpcmVmb3ggKi9cblxuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbiA+IHRkIHtcbiAgICAgIGhlaWdodDogMXB4OyAvKiBuZWVkcyBhIGhlaWdodCBzbyBpbm5lciBkaXYgd2l0aGluIGdyb3cuIGJldHRlciB0aGFuIDAsIGZvciBmaXJlZm94ICovXG4gICAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24gdGFibGUge1xuICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICAgIC8qIGZvciBtb3N0IGJyb3dzZXJzLCBpZiBhIGhlaWdodCBpc24ndCBzZXQgb24gdGhlIHRhYmxlLCBjYW4ndCBkbyBsaXF1aWQtaGVpZ2h0IHdpdGhpbiBjZWxscyAqL1xuICAgICAgICAvKiBzZXJ2ZXMgYXMgYSBtaW4taGVpZ2h0LiBoYXJtbGVzcyAqL1xuICAgIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiBhdXRvXG5cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tbGlxdWlkID4gdGQge1xuICAgICAgaGVpZ2h0OiAxMDAlOyAvKiBiZXR0ZXIgdGhhbiBgYXV0b2AsIGZvciBmaXJlZm94ICovXG4gICAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24gPiAqIHtcbiAgICBib3JkZXItdG9wLXdpZHRoOiAwO1xuICAgIGJvcmRlci1sZWZ0LXdpZHRoOiAwO1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1oZWFkZXIgPiAqLFxuICAuZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1mb290ZXIgPiAqIHtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1ib2R5IHRhYmxlLFxuICAuZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1mb290ZXIgdGFibGUge1xuICAgIGJvcmRlci1ib3R0b20tc3R5bGU6IGhpZGRlbjsgLyogaGVhZCBrZWVwcyBpdHMgYm90dG9tIGJvcmRlciB0aG8gKi9cbiAgfVxuLmZjIHtcblxuICAvKiBzdGlja2luZXNzICovXG5cbn1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLXN0aWNreSA+ICoge1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtcGFnZS1iZy1jb2xvciwgI2ZmZik7XG4gICAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgei1pbmRleDogMjsgLyogVE9ETzogdmFyICovXG4gICAgLyogVE9ETzogYm94LXNoYWRvdyB3aGVuIHN0aWNraW5nICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWhlYWRlci5mYy1zY3JvbGxncmlkLXNlY3Rpb24tc3RpY2t5ID4gKiB7XG4gICAgdG9wOiAwOyAvKiBiZWNhdXNlIGJvcmRlci1zaGFyaW5nIGNhdXNlcyBhIGdhcCBhdCB0aGUgdG9wICovXG4gICAgICAvKiBUT0RPOiBnaXZlIHNhZmFyaSAtMS4gaGFzIGJ1ZyAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1mb290ZXIuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLXN0aWNreSA+ICoge1xuICAgIGJvdHRvbTogMDsgLyoga25vd24gYnVnOiBib3R0b20tc3RpY2tpbmVzcyBkb2Vzbid0IHdvcmsgaW4gc2FmYXJpICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zdGlja3ktc2hpbSB7IC8qIGZvciBob3Jpem9udGFsIHNjcm9sbGJhciAqL1xuICAgIGhlaWdodDogMXB4OyAvKiBuZWVkcyBoZWlnaHQgdG8gY3JlYXRlIHNjcm9sbGJhcnMgKi9cbiAgICBtYXJnaW4tYm90dG9tOiAtMXB4O1xuICB9XG4uZmMtc3RpY2t5IHsgLyogbm8gLmZjIHdyYXAgYmVjYXVzZSB1c2VkIGFzIGNoaWxkIG9mIGJvZHkgKi9cbiAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICBwb3NpdGlvbjogc3RpY2t5O1xufVxuLmZjIC5mYy12aWV3LWhhcm5lc3Mge1xuICAgIGZsZXgtZ3JvdzogMTsgLyogYmVjYXVzZSB0aGlzIGhhcm5lc3MgaXMgV0lUSElOIHRoZSAuZmMncyBmbGV4Ym94ICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4uZmMge1xuXG4gIC8qIHdoZW4gdGhlIGhhcm5lc3MgY29udHJvbHMgdGhlIGhlaWdodCwgbWFrZSB0aGUgdmlldyBsaXF1aWQgKi9cblxufVxuLmZjIC5mYy12aWV3LWhhcm5lc3MtYWN0aXZlID4gLmZjLXZpZXcge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gIH1cbi5mYyAuZmMtY29sLWhlYWRlci1jZWxsLWN1c2hpb24ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgLyogeC1icm93c2VyIGZvciB3aGVuIHN0aWNreSAod2hlbiBtdWx0aS10aWVyIGhlYWRlcikgKi9cbiAgICBwYWRkaW5nOiAycHggNHB4O1xuICB9XG4uZmMgLmZjLWJnLWV2ZW50LFxuICAuZmMgLmZjLW5vbi1idXNpbmVzcyxcbiAgLmZjIC5mYy1oaWdobGlnaHQge1xuICAgIC8qIHdpbGwgYWx3YXlzIGhhdmUgYSBoYXJuZXNzIHdpdGggcG9zaXRpb246cmVsYXRpdmUvYWJzb2x1dGUsIHNvIGFic29sdXRlbHkgZXhwYW5kICovXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgfVxuLmZjIC5mYy1ub24tYnVzaW5lc3Mge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjE1LCAyMTUsIDIxNSwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1ub24tYnVzaW5lc3MtY29sb3IsIHJnYmEoMjE1LCAyMTUsIDIxNSwgMC4zKSk7XG4gIH1cbi5mYyAuZmMtYmctZXZlbnQge1xuICAgIGJhY2tncm91bmQ6IHJnYigxNDMsIDIyMywgMTMwKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1iZy1ldmVudC1jb2xvciwgcmdiKDE0MywgMjIzLCAxMzApKTtcbiAgICBvcGFjaXR5OiAwLjM7XG4gICAgb3BhY2l0eTogdmFyKC0tZmMtYmctZXZlbnQtb3BhY2l0eSwgMC4zKVxuICB9XG4uZmMgLmZjLWJnLWV2ZW50IC5mYy1ldmVudC10aXRsZSB7XG4gICAgICBtYXJnaW46IC41ZW07XG4gICAgICBmb250LXNpemU6IC44NWVtO1xuICAgICAgZm9udC1zaXplOiB2YXIoLS1mYy1zbWFsbC1mb250LXNpemUsIC44NWVtKTtcbiAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICB9XG4uZmMgLmZjLWhpZ2hsaWdodCB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgxODgsIDIzMiwgMjQxLCAwLjMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLWhpZ2hsaWdodC1jb2xvciwgcmdiYSgxODgsIDIzMiwgMjQxLCAwLjMpKTtcbiAgfVxuLmZjIC5mYy1jZWxsLXNoYWRlZCxcbiAgLmZjIC5mYy1kYXktZGlzYWJsZWQge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1uZXV0cmFsLWJnLWNvbG9yLCByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMykpO1xuICB9XG4vKiBsaW5rIHJlc2V0cyAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuYS5mYy1ldmVudCxcbmEuZmMtZXZlbnQ6aG92ZXIge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4vKiBjdXJzb3IgKi9cbi5mYy1ldmVudFtocmVmXSxcbi5mYy1ldmVudC5mYy1ldmVudC1kcmFnZ2FibGUge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4vKiBldmVudCB0ZXh0IGNvbnRlbnQgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi5mYy1ldmVudCAuZmMtZXZlbnQtbWFpbiB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDI7XG4gIH1cbi8qIGRyYWdnaW5nICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4uZmMtZXZlbnQtZHJhZ2dpbmc6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgeyAvKiBNT1VTRSAqL1xuICAgIG9wYWNpdHk6IDAuNzU7XG4gIH1cbi5mYy1ldmVudC1kcmFnZ2luZy5mYy1ldmVudC1zZWxlY3RlZCB7IC8qIFRPVUNIICovXG4gICAgYm94LXNoYWRvdzogMCAycHggN3B4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgfVxuLyogcmVzaXppbmcgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qIChzdWJjbGFzc2VzIHNob3VsZCBob25lIHBvc2l0aW9uaW5nIGZvciB0b3VjaCBhbmQgbm9uLXRvdWNoKSAqL1xuLmZjLWV2ZW50IC5mYy1ldmVudC1yZXNpemVyIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiA0O1xuICB9XG4uZmMtZXZlbnQ6aG92ZXIsIC8qIE1PVVNFICovXG4uZmMtZXZlbnQtc2VsZWN0ZWQgeyAvKiBUT1VDSCAqL1xuXG59XG4uZmMtZXZlbnQ6aG92ZXIgLmZjLWV2ZW50LXJlc2l6ZXIsIC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cbi5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplciB7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAyKTtcbiAgICBib3JkZXItd2lkdGg6IDFweDtcbiAgICBib3JkZXItd2lkdGg6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LWJvcmRlci13aWR0aCwgMXB4KTtcbiAgICB3aWR0aDogOHB4O1xuICAgIHdpZHRoOiB2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KTtcbiAgICBoZWlnaHQ6IDhweDtcbiAgICBoZWlnaHQ6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LXRvdGFsLXdpZHRoLCA4cHgpO1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgYm9yZGVyLWNvbG9yOiBpbmhlcml0O1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtcGFnZS1iZy1jb2xvciwgI2ZmZilcblxuICAgIC8qIGV4cGFuZCBoaXQgYXJlYSAqL1xuXG4gIH1cbi5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplcjpiZWZvcmUge1xuICAgICAgY29udGVudDogJyc7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IC0yMHB4O1xuICAgICAgbGVmdDogLTIwcHg7XG4gICAgICByaWdodDogLTIwcHg7XG4gICAgICBib3R0b206IC0yMHB4O1xuICAgIH1cbi8qIHNlbGVjdGluZyAoYWx3YXlzIFRPVUNIKSAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLmZjLWV2ZW50LXNlbGVjdGVkIHtcbiAgYm94LXNoYWRvdzogMCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4yKVxuXG4gIC8qIGV4cGFuZCBoaXQgYXJlYSAoc3ViY2xhc3NlcyBzaG91bGQgZXhwYW5kKSAqL1xuXG59XG4uZmMtZXZlbnQtc2VsZWN0ZWQ6YmVmb3JlIHtcbiAgICBjb250ZW50OiBcIlwiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiAzO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgfVxuLmZjLWV2ZW50LXNlbGVjdGVkIHtcblxuICAvKiBkaW1tZXIgZWZmZWN0ICovXG5cbn1cbi5mYy1ldmVudC1zZWxlY3RlZDphZnRlciB7XG4gICAgY29udGVudDogXCJcIjtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLWV2ZW50LXNlbGVjdGVkLW92ZXJsYXktY29sb3IsIHJnYmEoMCwgMCwgMCwgMC4yNSkpO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiAxO1xuXG4gICAgLyogYXNzdW1lIHRoZXJlJ3MgYSBib3JkZXIgb24gYWxsIHNpZGVzLiBvdmVyY29tZSBpdC4gKi9cbiAgICAvKiBzb21ldGltZXMgdGhlcmUncyBOT1QgYSBib3JkZXIsIGluIHdoaWNoIGNhc2UgdGhlIGRpbW1lciB3aWxsIGdvIG92ZXIgKi9cbiAgICAvKiBhbiBhZGphY2VudCBib3JkZXIsIHdoaWNoIGxvb2tzIGZpbmUuICovXG4gICAgdG9wOiAtMXB4O1xuICAgIGxlZnQ6IC0xcHg7XG4gICAgcmlnaHQ6IC0xcHg7XG4gICAgYm90dG9tOiAtMXB4O1xuICB9XG4vKlxuQSBIT1JJWk9OVEFMIGV2ZW50XG4qL1xuLmZjLWgtZXZlbnQgeyAvKiBhbGxvd2VkIHRvIGJlIHRvcC1sZXZlbCAqL1xuICBkaXNwbGF5OiBibG9jaztcbiAgYm9yZGVyOiAxcHggc29saWQgIzM3ODhkODtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmMtZXZlbnQtYm9yZGVyLWNvbG9yLCAjMzc4OGQ4KTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM3ODhkODtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtZXZlbnQtYmctY29sb3IsICMzNzg4ZDgpXG5cbn1cbi5mYy1oLWV2ZW50IC5mYy1ldmVudC1tYWluIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogdmFyKC0tZmMtZXZlbnQtdGV4dC1jb2xvciwgI2ZmZik7XG4gIH1cbi5mYy1oLWV2ZW50IC5mYy1ldmVudC1tYWluLWZyYW1lIHtcbiAgICBkaXNwbGF5OiBmbGV4OyAvKiBmb3IgbWFrZSBmYy1ldmVudC10aXRsZS1jb250YWluZXIgZXhwYW5kICovXG4gIH1cbi5mYy1oLWV2ZW50IC5mYy1ldmVudC10aW1lIHtcbiAgICBtYXgtd2lkdGg6IDEwMCU7IC8qIGNsaXAgb3ZlcmZsb3cgb24gdGhpcyBlbGVtZW50ICovXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LXRpdGxlLWNvbnRhaW5lciB7IC8qIHNlcnZlcyBhcyBhIGNvbnRhaW5lciBmb3IgdGhlIHN0aWNreSBjdXNoaW9uICovXG4gICAgZmxleC1ncm93OiAxO1xuICAgIGZsZXgtc2hyaW5rOiAxO1xuICAgIG1pbi13aWR0aDogMDsgLyogaW1wb3J0YW50IGZvciBhbGxvd2luZyB0byBzaHJpbmsgYWxsIHRoZSB3YXkgKi9cbiAgfVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LXRpdGxlIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IC8qIG5lZWQgdGhpcyB0byBiZSBzdGlja3kgY3Jvc3MtYnJvd3NlciAqL1xuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7IC8qIGZvciBub3QgbWVzc2luZyB1cCBsaW5lLWhlaWdodCAqL1xuICAgIGxlZnQ6IDA7ICAvKiBmb3Igc3RpY2t5ICovXG4gICAgcmlnaHQ6IDA7IC8qIGZvciBzdGlja3kgKi9cbiAgICBtYXgtd2lkdGg6IDEwMCU7IC8qIGNsaXAgb3ZlcmZsb3cgb24gdGhpcyBlbGVtZW50ICovXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuLmZjLWgtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQ6YmVmb3JlIHtcbiAgICAvKiBleHBhbmQgaGl0IGFyZWEgKi9cbiAgICB0b3A6IC0xMHB4O1xuICAgIGJvdHRvbTogLTEwcHg7XG4gIH1cbi8qIGFkanVzdCBib3JkZXIgYW5kIGJvcmRlci1yYWRpdXMgKGlmIHRoZXJlIGlzIGFueSkgZm9yIG5vbi1zdGFydC9lbmQgKi9cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50Om5vdCguZmMtZXZlbnQtc3RhcnQpLFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWRheWdyaWQtYmxvY2stZXZlbnQ6bm90KC5mYy1ldmVudC1lbmQpIHtcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcbiAgYm9yZGVyLWxlZnQtd2lkdGg6IDA7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtZGF5Z3JpZC1ibG9jay1ldmVudDpub3QoLmZjLWV2ZW50LWVuZCksXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ibG9jay1ldmVudDpub3QoLmZjLWV2ZW50LXN0YXJ0KSB7XG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcbiAgYm9yZGVyLXJpZ2h0LXdpZHRoOiAwO1xufVxuLyogcmVzaXplcnMgKi9cbi5mYy1oLWV2ZW50Om5vdCguZmMtZXZlbnQtc2VsZWN0ZWQpIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgdG9wOiAwO1xuICBib3R0b206IDA7XG4gIHdpZHRoOiA4cHg7XG4gIHdpZHRoOiB2YXIoLS1mYy1ldmVudC1yZXNpemVyLXRoaWNrbmVzcywgOHB4KTtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1oLWV2ZW50Om5vdCguZmMtZXZlbnQtc2VsZWN0ZWQpIC5mYy1ldmVudC1yZXNpemVyLXN0YXJ0LFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItZW5kIHtcbiAgY3Vyc29yOiB3LXJlc2l6ZTtcbiAgbGVmdDogLTRweDtcbiAgbGVmdDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLXRoaWNrbmVzcywgOHB4KSAvIC0yKTtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1oLWV2ZW50Om5vdCguZmMtZXZlbnQtc2VsZWN0ZWQpIC5mYy1ldmVudC1yZXNpemVyLWVuZCxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1oLWV2ZW50Om5vdCguZmMtZXZlbnQtc2VsZWN0ZWQpIC5mYy1ldmVudC1yZXNpemVyLXN0YXJ0IHtcbiAgY3Vyc29yOiBlLXJlc2l6ZTtcbiAgcmlnaHQ6IC00cHg7XG4gIHJpZ2h0OiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpIC8gLTIpO1xufVxuLyogcmVzaXplcnMgZm9yIFRPVUNIICovXG4uZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplciB7XG4gIHRvcDogNTAlO1xuICBtYXJnaW4tdG9wOiAtNHB4O1xuICBtYXJnaW4tdG9wOiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LXRvdGFsLXdpZHRoLCA4cHgpIC8gLTIpO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWgtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1lbmQge1xuICBsZWZ0OiAtNHB4O1xuICBsZWZ0OiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LXRvdGFsLXdpZHRoLCA4cHgpIC8gLTIpO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWgtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXItZW5kLFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWgtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQge1xuICByaWdodDogLTRweDtcbiAgcmlnaHQ6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG59XG4iXX0= */\";","export default \"\\n/*\\nA VERTICAL event\\n*/\\n\\n.fc-v-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n\\n.fc-v-event .fc-event-main {\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n    height: 100%;\\n  }\\n\\n.fc-v-event .fc-event-main-frame {\\n    height: 100%;\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n.fc-v-event .fc-event-time {\\n    flex-grow: 0;\\n    flex-shrink: 0;\\n    max-height: 100%;\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event .fc-event-title-container { /* a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-height: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-v-event .fc-event-title { /* will have fc-sticky on it */\\n    top: 0;\\n    bottom: 0;\\n    max-height: 100%; /* clip overflow */\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event:not(.fc-event-start) {\\n    border-top-width: 0;\\n    border-top-left-radius: 0;\\n    border-top-right-radius: 0;\\n  }\\n\\n.fc-v-event:not(.fc-event-end) {\\n    border-bottom-width: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-v-event.fc-event-selected:before {\\n    /* expand hit area */\\n    left: -10px;\\n    right: -10px;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer (mouse AND touch) */\\n\\n}\\n\\n.fc-v-event .fc-event-resizer-start {\\n    cursor: n-resize;\\n  }\\n\\n.fc-v-event .fc-event-resizer-end {\\n    cursor: s-resize;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer for MOUSE */\\n\\n}\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer {\\n      height: 8px;\\n      height: var(--fc-event-resizer-thickness, 8px);\\n      left: 0;\\n      right: 0;\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start {\\n      top: -4px;\\n      top: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end {\\n      bottom: -4px;\\n      bottom: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n    }\\n\\n.fc-v-event {\\n\\n  /* resizer for TOUCH (when event is \\\"selected\\\") */\\n\\n}\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer {\\n      left: 50%;\\n      margin-left: -4px;\\n      margin-left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-start {\\n      top: -4px;\\n      top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-end {\\n      bottom: -4px;\\n      bottom: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc .fc-timegrid .fc-daygrid-body { /* the all-day daygrid within the timegrid view */\\n    z-index: 2; /* put above the timegrid-body so that more-popover is above everything. TODO: better solution */\\n  }\\n\\n.fc .fc-timegrid-divider {\\n    padding: 0 0 2px; /* browsers get confused when you set height. use padding instead */\\n  }\\n\\n.fc .fc-timegrid-body {\\n    position: relative;\\n    z-index: 1; /* scope the z-indexes of slots and cols */\\n    min-height: 100%; /* fill height always, even when slat table doesn't grow */\\n  }\\n\\n.fc .fc-timegrid-axis-chunk { /* for advanced ScrollGrid */\\n    position: relative /* offset parent for now-indicator-container */\\n\\n  }\\n\\n.fc .fc-timegrid-axis-chunk > table {\\n      position: relative;\\n      z-index: 1; /* above the now-indicator-container */\\n    }\\n\\n.fc .fc-timegrid-slots {\\n    position: relative;\\n    z-index: 1;\\n  }\\n\\n.fc .fc-timegrid-slot { /* a <td> */\\n    height: 1.5em;\\n    border-bottom: 0 /* each cell owns its top border */\\n  }\\n\\n.fc .fc-timegrid-slot:empty:before {\\n      content: '\\\\00a0'; /* make sure there's at least an empty space to create height for height syncing */\\n    }\\n\\n.fc .fc-timegrid-slot-minor {\\n    border-top-style: dotted;\\n  }\\n\\n.fc .fc-timegrid-slot-label-cushion {\\n    display: inline-block;\\n    white-space: nowrap;\\n  }\\n\\n.fc .fc-timegrid-slot-label {\\n    vertical-align: middle; /* vertical align the slots */\\n  }\\n\\n.fc {\\n\\n\\n  /* slots AND axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n\\n}\\n\\n.fc .fc-timegrid-axis-cushion,\\n  .fc .fc-timegrid-slot-label-cushion {\\n    padding: 0 4px;\\n  }\\n\\n.fc {\\n\\n\\n  /* axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n  /* vertical align is more complicated, uses flexbox */\\n\\n}\\n\\n.fc .fc-timegrid-axis-frame-liquid {\\n    height: 100%; /* will need liquid-hack in FF */\\n  }\\n\\n.fc .fc-timegrid-axis-frame {\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center; /* vertical align */\\n    justify-content: flex-end; /* horizontal align. matches text-align below */\\n  }\\n\\n.fc .fc-timegrid-axis-cushion {\\n    max-width: 60px; /* limits the width of the \\\"all-day\\\" text */\\n    flex-shrink: 0; /* allows text to expand how it normally would, regardless of constrained width */\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-slot-label-frame {\\n    text-align: right;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-slot-label-frame {\\n    text-align: left;\\n  }\\n\\n.fc-liquid-hack .fc-timegrid-axis-frame-liquid {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  }\\n\\n.fc .fc-timegrid-col.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n\\n.fc .fc-timegrid-col-frame {\\n    min-height: 100%; /* liquid-hack is below */\\n    position: relative;\\n  }\\n\\n.fc-liquid-hack .fc-timegrid-col-frame {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  }\\n\\n.fc-media-screen .fc-timegrid-cols {\\n    position: absolute; /* no z-index. children will decide and go above slots */\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0\\n  }\\n\\n.fc-media-screen .fc-timegrid-cols > table {\\n      height: 100%;\\n    }\\n\\n.fc-media-screen .fc-timegrid-col-bg,\\n  .fc-media-screen .fc-timegrid-col-events,\\n  .fc-media-screen .fc-timegrid-now-indicator-container {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc-media-screen .fc-timegrid-event-harness {\\n    position: absolute; /* top/left/right/bottom will all be set by JS */\\n  }\\n\\n.fc {\\n\\n  /* bg */\\n\\n}\\n\\n.fc .fc-timegrid-col-bg {\\n    z-index: 2; /* TODO: kill */\\n  }\\n\\n.fc .fc-timegrid-col-bg .fc-non-business { z-index: 1 }\\n\\n.fc .fc-timegrid-col-bg .fc-bg-event { z-index: 2 }\\n\\n.fc .fc-timegrid-col-bg .fc-highlight { z-index: 3 }\\n\\n.fc .fc-timegrid-bg-harness {\\n    position: absolute; /* top/bottom will be set by JS */\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc {\\n\\n  /* fg events */\\n  /* (the mirror segs are put into a separate container with same classname, */\\n  /* and they must be after the normal seg container to appear at a higher z-index) */\\n\\n}\\n\\n.fc .fc-timegrid-col-events {\\n    z-index: 3;\\n    /* child event segs have z-indexes that are scoped within this div */\\n  }\\n\\n.fc {\\n\\n  /* now indicator */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-container {\\n    bottom: 0;\\n    overflow: hidden; /* don't let overflow of lines/arrows cause unnecessary scrolling */\\n    /* z-index is set on the individual elements */\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-col-events {\\n    margin: 0 2.5% 0 2px;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-col-events {\\n    margin: 0 2px 0 2.5%;\\n  }\\n\\n.fc-timegrid-event-harness-inset .fc-timegrid-event,\\n.fc-timegrid-event.fc-event-mirror {\\n  box-shadow: 0px 0px 0px 1px #fff;\\n  box-shadow: 0px 0px 0px 1px var(--fc-page-bg-color, #fff);\\n}\\n\\n.fc-timegrid-event { /* events need to be root */\\n\\n  font-size: .85em;\\n\\n  font-size: var(--fc-small-font-size, .85em);\\n  border-radius: 3px\\n\\n}\\n\\n.fc-timegrid-event .fc-event-main {\\n    padding: 1px 1px 0;\\n  }\\n\\n.fc-timegrid-event .fc-event-time {\\n    white-space: nowrap;\\n    font-size: .85em;\\n    font-size: var(--fc-small-font-size, .85em);\\n    margin-bottom: 1px;\\n  }\\n\\n.fc-timegrid-event-condensed .fc-event-main-frame {\\n    flex-direction: row;\\n    overflow: hidden;\\n  }\\n\\n.fc-timegrid-event-condensed .fc-event-time:after {\\n    content: '\\\\00a0-\\\\00a0'; /* dash surrounded by non-breaking spaces */\\n  }\\n\\n.fc-timegrid-event-condensed .fc-event-title {\\n    font-size: .85em;\\n    font-size: var(--fc-small-font-size, .85em)\\n  }\\n\\n.fc-media-screen .fc-timegrid-event {\\n    position: absolute; /* absolute WITHIN the harness */\\n    top: 0;\\n    bottom: 1px; /* stay away from bottom slot line */\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc {\\n\\n  /* line */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-line {\\n    position: absolute;\\n    z-index: 4;\\n    left: 0;\\n    right: 0;\\n    border-style: solid;\\n    border-color: red;\\n    border-color: var(--fc-now-indicator-color, red);\\n    border-width: 1px 0 0;\\n  }\\n\\n.fc {\\n\\n  /* arrow */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-arrow {\\n    position: absolute;\\n    z-index: 4;\\n    margin-top: -5px; /* vertically center on top coordinate */\\n    border-style: solid;\\n    border-color: red;\\n    border-color: var(--fc-now-indicator-color, red);\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-now-indicator-arrow {\\n    left: 0;\\n\\n    /* triangle pointing right. TODO: mixin */\\n    border-width: 5px 0 5px 6px;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-now-indicator-arrow {\\n    right: 0;\\n\\n    /* triangle pointing left. TODO: mixin */\\n    border-width: 5px 6px 5px 0;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AZnVsbGNhbGVuZGFyL3RpbWVncmlkL21haW4uY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTs7Q0FFQzs7QUFFRCxjQUFjLDRCQUE0QjtFQUN4QyxjQUFjO0VBQ2QseUJBQXlCO0VBQ3pCLHVEQUF1RDtFQUN2RCx5QkFBeUI7RUFDekI7O0FBRUY7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsdUNBQXVDO0lBQ3ZDLFlBQVk7RUFDZDs7QUFFRjtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2Isc0JBQXNCO0VBQ3hCOztBQUVGO0lBQ0ksWUFBWTtJQUNaLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0VBQ2xCOztBQUVGLHdDQUF3Qyx1Q0FBdUM7SUFDM0UsWUFBWTtJQUNaLGNBQWM7SUFDZCxhQUFhLEVBQUUsaURBQWlEO0VBQ2xFOztBQUVGLDhCQUE4Qiw4QkFBOEI7SUFDeEQsTUFBTTtJQUNOLFNBQVM7SUFDVCxnQkFBZ0IsRUFBRSxrQkFBa0I7SUFDcEMsZ0JBQWdCO0VBQ2xCOztBQUVGO0lBQ0ksbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QiwwQkFBMEI7RUFDNUI7O0FBRUY7SUFDSSxzQkFBc0I7SUFDdEIsNEJBQTRCO0lBQzVCLDZCQUE2QjtFQUMvQjs7QUFFRjtJQUNJLG9CQUFvQjtJQUNwQixXQUFXO0lBQ1gsWUFBWTtFQUNkOztBQUVGOztFQUVFLDhCQUE4Qjs7QUFFaEM7O0FBRUE7SUFDSSxnQkFBZ0I7RUFDbEI7O0FBRUY7SUFDSSxnQkFBZ0I7RUFDbEI7O0FBRUY7O0VBRUUsc0JBQXNCOztBQUV4Qjs7QUFFQTtNQUNNLFdBQVc7TUFDWCw4Q0FBOEM7TUFDOUMsT0FBTztNQUNQLFFBQVE7SUFDVjs7QUFFSjtNQUNNLFNBQVM7TUFDVCxzREFBc0Q7SUFDeEQ7O0FBRUo7TUFDTSxZQUFZO01BQ1oseURBQXlEO0lBQzNEOztBQUVKOztFQUVFLGlEQUFpRDs7QUFFbkQ7O0FBRUE7TUFDTSxTQUFTO01BQ1QsaUJB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QjtFQUNwQjs7QUFDRjtJQUNJLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsMkNBQTJDO0lBQzNDLGtCQUFrQjtFQUNwQjs7QUFDRjtJQUNJLG1CQUFtQjtJQUNuQixnQkFBZ0I7RUFDbEI7O0FBQ0Y7SUFDSSxzQkFBc0IsRUFBRSwyQ0FBMkM7RUFDckU7O0FBQ0Y7SUFDSSxnQkFBZ0I7SUFDaEI7RUFDRjs7QUFDRjtJQUNJLGtCQUFrQixFQUFFLGdDQUFnQztJQUNwRCxNQUFNO0lBQ04sV0FBVyxFQUFFLG9DQUFvQztJQUNqRCxPQUFPO0lBQ1AsUUFBUTtFQUNWOztBQUNGOztFQUVFLFNBQVM7O0FBRVg7O0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLE9BQU87SUFDUCxRQUFRO0lBQ1IsbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixnREFBZ0Q7SUFDaEQscUJBQXFCO0VBQ3ZCOztBQUNGOztFQUVFLFVBQVU7O0FBRVo7O0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGdCQUFnQixFQUFFLHdDQUF3QztJQUMxRCxtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLGdEQUFnRDtFQUNsRDs7QUFDRjtJQUNJLE9BQU87O0lBRVAseUNBQXlDO0lBQ3pDLDJCQUEyQjtJQUMzQiw2QkFBNkI7SUFDN0IsZ0NBQWdDO0VBQ2xDOztBQUNGO0lBQ0ksUUFBUTs7SUFFUix3Q0FBd0M7SUFDeEMsMkJBQTJCO0lBQzNCLDZCQUE2QjtJQUM3QixnQ0FBZ0M7RUFDbEMiLCJmaWxlIjoibm9kZV9tb2R1bGVzL0BmdWxsY2FsZW5kYXIvdGltZWdyaWQvbWFpbi5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qXG5BIFZFUlRJQ0FMIGV2ZW50XG4qL1xuXG4uZmMtdi1ldmVudCB7IC8qIGFsbG93ZWQgdG8gYmUgdG9wLWxldmVsICovXG4gIGRpc3BsYXk6IGJsb2NrO1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzc4OGQ4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ldmVudC1ib3JkZXItY29sb3IsICMzNzg4ZDgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzc4OGQ4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1ldmVudC1iZy1jb2xvciwgIzM3ODhkOClcblxufVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtbWFpbiB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWV2ZW50LXRleHQtY29sb3IsICNmZmYpO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtbWFpbi1mcmFtZSB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgZmxleC1ncm93OiAwO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtdGl0bGUtY29udGFpbmVyIHsgLyogYSBjb250YWluZXIgZm9yIHRoZSBzdGlja3kgY3VzaGlvbiAqL1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBmbGV4LXNocmluazogMTtcbiAgICBtaW4taGVpZ2h0OiAwOyAvKiBpbXBvcnRhbnQgZm9yIGFsbG93aW5nIHRvIHNocmluayBhbGwgdGhlIHdheSAqL1xuICB9XG5cbi5mYy12LWV2ZW50IC5mYy1ldmVudC10aXRsZSB7IC8qIHdpbGwgaGF2ZSBmYy1zdGlja3kgb24gaXQgKi9cbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7IC8qIGNsaXAgb3ZlcmZsb3cgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG5cbi5mYy12LWV2ZW50Om5vdCguZmMtZXZlbnQtc3RhcnQpIHtcbiAgICBib3JkZXItdG9wLXdpZHRoOiAwO1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1lbmQpIHtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG4gIH1cblxuLmZjLXYtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQ6YmVmb3JlIHtcbiAgICAvKiBleHBhbmQgaGl0IGFyZWEgKi9cbiAgICBsZWZ0OiAtMTBweDtcbiAgICByaWdodDogLTEwcHg7XG4gIH1cblxuLmZjLXYtZXZlbnQge1xuXG4gIC8qIHJlc2l6ZXIgKG1vdXNlIEFORCB0b3VjaCkgKi9cblxufVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCB7XG4gICAgY3Vyc29yOiBuLXJlc2l6ZTtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtcmVzaXplci1lbmQge1xuICAgIGN1cnNvcjogcy1yZXNpemU7XG4gIH1cblxuLmZjLXYtZXZlbnQge1xuXG4gIC8qIHJlc2l6ZXIgZm9yIE1PVVNFICovXG5cbn1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICBoZWlnaHQ6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQge1xuICAgICAgdG9wOiAtNHB4O1xuICAgICAgdG9wOiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpIC8gLTIpO1xuICAgIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItZW5kIHtcbiAgICAgIGJvdHRvbTogLTRweDtcbiAgICAgIGJvdHRvbTogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLXRoaWNrbmVzcywgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50IHtcblxuICAvKiByZXNpemVyIGZvciBUT1VDSCAod2hlbiBldmVudCBpcyBcInNlbGVjdGVkXCIpICovXG5cbn1cblxuLmZjLXYtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgbWFyZ2luLWxlZnQ6IC00cHg7XG4gICAgICBtYXJnaW4tbGVmdDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLXN0YXJ0IHtcbiAgICAgIHRvcDogLTRweDtcbiAgICAgIHRvcDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLWVuZCB7XG4gICAgICBib3R0b206IC00cHg7XG4gICAgICBib3R0b206IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZCAuZmMtZGF5Z3JpZC1ib2R5IHsgLyogdGhlIGFsbC1kYXkgZGF5Z3JpZCB3aXRoaW4gdGhlIHRpbWVncmlkIHZpZXcgKi9cbiAgICB6LWluZGV4OiAyOyAvKiBwdXQgYWJvdmUgdGhlIHRpbWVncmlkLWJvZHkgc28gdGhhdCBtb3JlLXBvcG92ZXIgaXMgYWJvdmUgZXZlcnl0aGluZy4gVE9ETzogYmV0dGVyIHNvbHV0aW9uICovXG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtZGl2aWRlciB7XG4gICAgcGFkZGluZzogMCAwIDJweDsgLyogYnJvd3NlcnMgZ2V0IGNvbmZ1c2VkIHdoZW4geW91IHNldCBoZWlnaHQuIHVzZSBwYWRkaW5nIGluc3RlYWQgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1ib2R5IHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTsgLyogc2NvcGUgdGhlIHotaW5kZXhlcyBvZiBzbG90cyBhbmQgY29scyAqL1xuICAgIG1pbi1oZWlnaHQ6IDEwMCU7IC8qIGZpbGwgaGVpZ2h0IGFsd2F5cywgZXZlbiB3aGVuIHNsYXQgdGFibGUgZG9lc24ndCBncm93ICovXG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtYXhpcy1jaHVuayB7IC8qIGZvciBhZHZhbmNlZCBTY3JvbGxHcmlkICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlIC8qIG9mZnNldCBwYXJlbnQgZm9yIG5vdy1pbmRpY2F0b3ItY29udGFpbmVyICovXG5cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWNodW5rID4gdGFibGUge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgei1pbmRleDogMTsgLyogYWJvdmUgdGhlIG5vdy1pbmRpY2F0b3ItY29udGFpbmVyICovXG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZC1zbG90cyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdCB7IC8qIGEgPHRkPiAqL1xuICAgIGhlaWdodDogMS41ZW07XG4gICAgYm9yZGVyLWJvdHRvbTogMCAvKiBlYWNoIGNlbGwgb3ducyBpdHMgdG9wIGJvcmRlciAqL1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLXNsb3Q6ZW1wdHk6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6ICdcXDAwYTAnOyAvKiBtYWtlIHN1cmUgdGhlcmUncyBhdCBsZWFzdCBhbiBlbXB0eSBzcGFjZSB0byBjcmVhdGUgaGVpZ2h0IGZvciBoZWlnaHQgc3luY2luZyAqL1xuICAgIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdC1taW5vciB7XG4gICAgYm9yZGVyLXRvcC1zdHlsZTogZG90dGVkO1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLXNsb3QtbGFiZWwtY3VzaGlvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdC1sYWJlbCB7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgLyogdmVydGljYWwgYWxpZ24gdGhlIHNsb3RzICovXG4gIH1cbi5mYyB7XG5cblxuICAvKiBzbG90cyBBTkQgYXhpcyBjZWxscyAodG9wLWxlZnQgY29ybmVyIG9mIHZpZXcgaW5jbHVkaW5nIHRoZSBcImFsbC1kYXlcIiB0ZXh0KSAqL1xuXG59XG4uZmMgLmZjLXRpbWVncmlkLWF4aXMtY3VzaGlvbixcbiAgLmZjIC5mYy10aW1lZ3JpZC1zbG90LWxhYmVsLWN1c2hpb24ge1xuICAgIHBhZGRpbmc6IDAgNHB4O1xuICB9XG4uZmMge1xuXG5cbiAgLyogYXhpcyBjZWxscyAodG9wLWxlZnQgY29ybmVyIG9mIHZpZXcgaW5jbHVkaW5nIHRoZSBcImFsbC1kYXlcIiB0ZXh0KSAqL1xuICAvKiB2ZXJ0aWNhbCBhbGlnbiBpcyBtb3JlIGNvbXBsaWNhdGVkLCB1c2VzIGZsZXhib3ggKi9cblxufVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWZyYW1lLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiAxMDAlOyAvKiB3aWxsIG5lZWQgbGlxdWlkLWhhY2sgaW4gRkYgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWZyYW1lIHtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgLyogdmVydGljYWwgYWxpZ24gKi9cbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyAvKiBob3Jpem9udGFsIGFsaWduLiBtYXRjaGVzIHRleHQtYWxpZ24gYmVsb3cgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWN1c2hpb24ge1xuICAgIG1heC13aWR0aDogNjBweDsgLyogbGltaXRzIHRoZSB3aWR0aCBvZiB0aGUgXCJhbGwtZGF5XCIgdGV4dCAqL1xuICAgIGZsZXgtc2hyaW5rOiAwOyAvKiBhbGxvd3MgdGV4dCB0byBleHBhbmQgaG93IGl0IG5vcm1hbGx5IHdvdWxkLCByZWdhcmRsZXNzIG9mIGNvbnN0cmFpbmVkIHdpZHRoICovXG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy10aW1lZ3JpZC1zbG90LWxhYmVsLWZyYW1lIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRpbWVncmlkLXNsb3QtbGFiZWwtZnJhbWUge1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gIH1cbi5mYy1saXF1aWQtaGFjayAuZmMtdGltZWdyaWQtYXhpcy1mcmFtZS1saXF1aWQge1xuICBoZWlnaHQ6IGF1dG87XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLWNvbC5mYy1kYXktdG9kYXkge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDIyMCwgNDAsIDAuMTUpO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtdG9kYXktYmctY29sb3IsIHJnYmEoMjU1LCAyMjAsIDQwLCAwLjE1KSk7XG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZC1jb2wtZnJhbWUge1xuICAgIG1pbi1oZWlnaHQ6IDEwMCU7IC8qIGxpcXVpZC1oYWNrIGlzIGJlbG93ICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4uZmMtbGlxdWlkLWhhY2sgLmZjLXRpbWVncmlkLWNvbC1mcmFtZSB7XG4gIGhlaWdodDogYXV0bztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIH1cbi5mYy1tZWRpYS1zY3JlZW4gLmZjLXRpbWVncmlkLWNvbHMge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgLyogbm8gei1pbmRleC4gY2hpbGRyZW4gd2lsbCBkZWNpZGUgYW5kIGdvIGFib3ZlIHNsb3RzICovXG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwXG4gIH1cbi5mYy1tZWRpYS1zY3JlZW4gLmZjLXRpbWVncmlkLWNvbHMgPiB0YWJsZSB7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgfVxuLmZjLW1lZGlhLXNjcmVlbiAuZmMtdGltZWdyaWQtY29sLWJnLFxuICAuZmMtbWVkaWEtc2NyZWVuIC5mYy10aW1lZ3JpZC1jb2wtZXZlbnRzLFxuICAuZmMtbWVkaWEtc2NyZWVuIC5mYy10aW1lZ3JpZC1ub3ctaW5kaWNhdG9yLWNvbnRhaW5lciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICB9XG4uZmMtbWVkaWEtc2NyZWVuIC5mYy10aW1lZ3JpZC1ldmVudC1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IC8qIHRvcC9sZWZ0L3JpZ2h0L2JvdHRvbSB3aWxsIGFsbCBiZSBzZXQgYnkgSlMgKi9cbiAgfVxuLmZjIHtcblxuICAvKiBiZyAqL1xuXG59XG4uZmMgLmZjLXRpbWVncmlkLWNvbC1iZyB7XG4gICAgei1pbmRleDogMjsgLyogVE9ETzoga2lsbCAqL1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLWNvbC1iZyAuZmMtbm9uLWJ1c2luZXNzIHsgei1pbmRleDogMSB9XG4uZmMgLmZjLXRpbWVncmlkLWNvbC1iZyAuZmMtYmctZXZlbnQgeyB6LWluZGV4OiAyIH1cbi5mYyAuZmMtdGltZWdyaWQtY29sLWJnIC5mYy1oaWdobGlnaHQgeyB6LWluZGV4OiAzIH1cbi5mYyAuZmMtdGltZWdyaWQtYmctaGFybmVzcyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlOyAvKiB0b3AvYm90dG9tIHdpbGwgYmUgc2V0IGJ5IEpTICovXG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgfVxuLmZjIHtcblxuICAvKiBmZyBldmVudHMgKi9cbiAgLyogKHRoZSBtaXJyb3Igc2VncyBhcmUgcHV0IGludG8gYSBzZXBhcmF0ZSBjb250YWluZXIgd2l0aCBzYW1lIGNsYXNzbmFtZSwgKi9cbiAgLyogYW5kIHRoZXkgbXVzdCBiZSBhZnRlciB0aGUgbm9ybWFsIHNlZyBjb250YWluZXIgdG8gYXBwZWFyIGF0IGEgaGlnaGVyIHotaW5kZXgpICovXG5cbn1cbi5mYyAuZmMtdGltZWdyaWQtY29sLWV2ZW50cyB7XG4gICAgei1pbmRleDogMztcbiAgICAvKiBjaGlsZCBldmVudCBzZWdzIGhhdmUgei1pbmRleGVzIHRoYXQgYXJlIHNjb3BlZCB3aXRoaW4gdGhpcyBkaXYgKi9cbiAgfVxuLmZjIHtcblxuICAvKiBub3cgaW5kaWNhdG9yICovXG5cbn1cbi5mYyAuZmMtdGltZWdyaWQtbm93LWluZGljYXRvci1jb250YWluZXIge1xuICAgIGJvdHRvbTogMDtcbiAgICBvdmVyZmxvdzogaGlkZGVuOyAvKiBkb24ndCBsZXQgb3ZlcmZsb3cgb2YgbGluZXMvYXJyb3dzIGNhdXNlIHVubmVjZXNzYXJ5IHNjcm9sbGluZyAqL1xuICAgIC8qIHotaW5kZXggaXMgc2V0IG9uIHRoZSBpbmRpdmlkdWFsIGVsZW1lbnRzICovXG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy10aW1lZ3JpZC1jb2wtZXZlbnRzIHtcbiAgICBtYXJnaW46IDAgMi41JSAwIDJweDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRpbWVncmlkLWNvbC1ldmVudHMge1xuICAgIG1hcmdpbjogMCAycHggMCAyLjUlO1xuICB9XG4uZmMtdGltZWdyaWQtZXZlbnQtaGFybmVzcy1pbnNldCAuZmMtdGltZWdyaWQtZXZlbnQsXG4uZmMtdGltZWdyaWQtZXZlbnQuZmMtZXZlbnQtbWlycm9yIHtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggMXB4ICNmZmY7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggMHB4IDFweCB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKTtcbn1cbi5mYy10aW1lZ3JpZC1ldmVudCB7IC8qIGV2ZW50cyBuZWVkIHRvIGJlIHJvb3QgKi9cblxuICBmb250LXNpemU6IC44NWVtO1xuXG4gIGZvbnQtc2l6ZTogdmFyKC0tZmMtc21hbGwtZm9udC1zaXplLCAuODVlbSk7XG4gIGJvcmRlci1yYWRpdXM6IDNweFxuXG59XG4uZmMtdGltZWdyaWQtZXZlbnQgLmZjLWV2ZW50LW1haW4ge1xuICAgIHBhZGRpbmc6IDFweCAxcHggMDtcbiAgfVxuLmZjLXRpbWVncmlkLWV2ZW50IC5mYy1ldmVudC10aW1lIHtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGZvbnQtc2l6ZTogLjg1ZW07XG4gICAgZm9udC1zaXplOiB2YXIoLS1mYy1zbWFsbC1mb250LXNpemUsIC44NWVtKTtcbiAgICBtYXJnaW4tYm90dG9tOiAxcHg7XG4gIH1cbi5mYy10aW1lZ3JpZC1ldmVudC1jb25kZW5zZWQgLmZjLWV2ZW50LW1haW4tZnJhbWUge1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuLmZjLXRpbWVncmlkLWV2ZW50LWNvbmRlbnNlZCAuZmMtZXZlbnQtdGltZTphZnRlciB7XG4gICAgY29udGVudDogJ1xcMDBhMC1cXDAwYTAnOyAvKiBkYXNoIHN1cnJvdW5kZWQgYnkgbm9uLWJyZWFraW5nIHNwYWNlcyAqL1xuICB9XG4uZmMtdGltZWdyaWQtZXZlbnQtY29uZGVuc2VkIC5mYy1ldmVudC10aXRsZSB7XG4gICAgZm9udC1zaXplOiAuODVlbTtcbiAgICBmb250LXNpemU6IHZhcigtLWZjLXNtYWxsLWZvbnQtc2l6ZSwgLjg1ZW0pXG4gIH1cbi5mYy1tZWRpYS1zY3JlZW4gLmZjLXRpbWVncmlkLWV2ZW50IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IC8qIGFic29sdXRlIFdJVEhJTiB0aGUgaGFybmVzcyAqL1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDFweDsgLyogc3RheSBhd2F5IGZyb20gYm90dG9tIHNsb3QgbGluZSAqL1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gIH1cbi5mYyB7XG5cbiAgLyogbGluZSAqL1xuXG59XG4uZmMgLmZjLXRpbWVncmlkLW5vdy1pbmRpY2F0b3ItbGluZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDQ7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci1jb2xvcjogcmVkO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtbm93LWluZGljYXRvci1jb2xvciwgcmVkKTtcbiAgICBib3JkZXItd2lkdGg6IDFweCAwIDA7XG4gIH1cbi5mYyB7XG5cbiAgLyogYXJyb3cgKi9cblxufVxuLmZjIC5mYy10aW1lZ3JpZC1ub3ctaW5kaWNhdG9yLWFycm93IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogNDtcbiAgICBtYXJnaW4tdG9wOiAtNXB4OyAvKiB2ZXJ0aWNhbGx5IGNlbnRlciBvbiB0b3AgY29vcmRpbmF0ZSAqL1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgYm9yZGVyLWNvbG9yOiByZWQ7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1ub3ctaW5kaWNhdG9yLWNvbG9yLCByZWQpO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtdGltZWdyaWQtbm93LWluZGljYXRvci1hcnJvdyB7XG4gICAgbGVmdDogMDtcblxuICAgIC8qIHRyaWFuZ2xlIHBvaW50aW5nIHJpZ2h0LiBUT0RPOiBtaXhpbiAqL1xuICAgIGJvcmRlci13aWR0aDogNXB4IDAgNXB4IDZweDtcbiAgICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRpbWVncmlkLW5vdy1pbmRpY2F0b3ItYXJyb3cge1xuICAgIHJpZ2h0OiAwO1xuXG4gICAgLyogdHJpYW5nbGUgcG9pbnRpbmcgbGVmdC4gVE9ETzogbWl4aW4gKi9cbiAgICBib3JkZXItd2lkdGg6IDVweCA2cHggNXB4IDA7XG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIH1cbiJdfQ== */\";","import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-ms-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-ms-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:2}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}:root{--fc-daygrid-event-dot-width:8px}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:fixed;top:0}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:2px 3px 0}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover{z-index:8}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-event-harness{position:absolute}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-condensed .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-condensed .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-condensed .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-media-screen .fc-timegrid-event{bottom:1px;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: '',\n                encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                ,\n                styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-ms-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-ms-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:2}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}:root{--fc-daygrid-event-dot-width:8px}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:fixed;top:0}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:2px 3px 0}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover{z-index:8}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-event-harness{position:absolute}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-condensed .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-condensed .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-condensed .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-media-screen .fc-timegrid-event{bottom:1px;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); }, imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n//# sourceMappingURL=fullcalendar-angular.js.map","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","import { Component, OnInit,NgZone } from \"@angular/core\";\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as jsPDF from 'jspdf'\n\n@Component({\n    selector: 'app-add-calendar',\n    templateUrl: './add-calendar.component.html'\n})\n\nexport class AddCalendarComponent implements OnInit {\n    \n    constructor(){}\n\n    ngOnInit() {\n    }\n\n  }","/*!\nFullCalendar v5.3.2\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, DateComponent, renderScrollShim, createFormatter, setRef, buildNavLinkData, DayCellRoot, WeekNumberRoot, RenderHook, DayCellContent, Fragment, BaseComponent, buildSegTimeText, EventRoot, StandardEvent, sortEventSegs, addDays, intersectRanges, RefMap, isPropsEqual, getSegMeta, buildEventRangeKey, BgEvent, renderFill, PositionCache, mapHash, DelayedRunner, applyStyle, memoize, NowTimer, EventApi, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArrays } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent\n                }\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent }\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent\n                    }]\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent\n                }]\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim\n                    }]\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i++) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i++) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i++) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i++) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: []\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            setRef(_this.props.elRef, el);\n        };\n        _this.handleMoreLinkClick = function (ev) {\n            var props = _this.props;\n            if (props.onMoreClick) {\n                var allSegs = props.segsByEachCol;\n                var hiddenSegs = allSegs.filter(function (seg) { return props.segIsHidden[seg.eventRange.instance.instanceId]; });\n                props.onMoreClick({\n                    date: props.date,\n                    allSegs: allSegs,\n                    hiddenSegs: hiddenSegs,\n                    moreCnt: props.moreCnt,\n                    dayEl: _this.rootEl,\n                    ev: ev\n                });\n            }\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var hookProps = {\n            num: props.moreCnt,\n            text: props.buildMoreLinkText(props.moreCnt),\n            view: viewApi\n        };\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (rootElRef, classNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-daygrid-day'].concat(classNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: 'fc-daygrid-day-frame fc-scrollgrid-sync-inner', ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber &&\n                    createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-week-number'].concat(classNames).join(' ') }, navLinkAttrs), innerContent)); }),\n                !isDisabled &&\n                    createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps }),\n                createElement(\"div\", { className: 'fc-daygrid-day-events', ref: props.fgContentElRef, style: { paddingBottom: props.fgPaddingBottom } },\n                    props.fgContent,\n                    Boolean(props.moreCnt) &&\n                        createElement(\"div\", { className: 'fc-daygrid-day-bottom', style: { marginTop: props.moreMarginTop } },\n                            createElement(RenderHook, { hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"a\", { onClick: _this.handleMoreLinkClick, ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' ') }, innerContent)); }))),\n                createElement(\"div\", { className: 'fc-daygrid-day-bg' }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) &&\n            createElement(\"div\", { className: 'fc-daygrid-day-top', ref: innerElRef },\n                createElement(\"a\", __assign({ className: 'fc-daygrid-day-number' }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\")))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow'\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: 'fc-daygrid-event-dot', style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText &&\n            createElement(\"div\", { className: 'fc-event-time' }, innerProps.timeText),\n        createElement(\"div\", { className: 'fc-event-title' }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nfunction computeFgSegPlacement(// for one row. TODO: print mode?\ncellModels, segs, dayMaxEvents, dayMaxEventRows, eventHeights, maxContentHeight, colCnt, eventOrderSpecs) {\n    var colPlacements = []; // if event spans multiple cols, its present in each col\n    var moreCnts = []; // by-col\n    var segIsHidden = {};\n    var segTops = {}; // always populated for each seg\n    var segMarginTops = {}; // simetimes populated for each seg\n    var moreTops = {};\n    var paddingBottoms = {}; // for each cell's inner-wrapper div\n    for (var i = 0; i < colCnt; i++) {\n        colPlacements.push([]);\n        moreCnts.push(0);\n    }\n    segs = sortEventSegs(segs, eventOrderSpecs);\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventHeights[instanceId + ':' + seg.firstCol];\n        placeSeg(seg, eventHeight || 0); // will keep colPlacements sorted by top\n    }\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        limitByMaxHeight(moreCnts, segIsHidden, colPlacements, maxContentHeight); // populates moreCnts/segIsHidden\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        limitByMaxEvents(moreCnts, segIsHidden, colPlacements, dayMaxEvents); // populates moreCnts/segIsHidden\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        limitByMaxRows(moreCnts, segIsHidden, colPlacements, dayMaxEventRows); // populates moreCnts/segIsHidden\n    }\n    // computes segTops/segMarginTops/moreTops/paddingBottoms\n    for (var col = 0; col < colCnt; col++) {\n        var placements = colPlacements[col];\n        var currentNonAbsBottom = 0;\n        var currentAbsHeight = 0;\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            var seg = placement.seg;\n            if (!segIsHidden[seg.eventRange.instance.instanceId]) {\n                segTops[seg.eventRange.instance.instanceId] = placement.top; // from top of container\n                if (seg.firstCol === seg.lastCol && seg.isStart && seg.isEnd) { // TODO: simpler way? NOT DRY\n                    segMarginTops[seg.eventRange.instance.instanceId] =\n                        placement.top - currentNonAbsBottom; // from previous seg bottom\n                    currentAbsHeight = 0;\n                    currentNonAbsBottom = placement.bottom;\n                }\n                else { // multi-col event, abs positioned\n                    currentAbsHeight = placement.bottom - currentNonAbsBottom;\n                }\n            }\n        }\n        if (currentAbsHeight) {\n            if (moreCnts[col]) {\n                moreTops[col] = currentAbsHeight;\n            }\n            else {\n                paddingBottoms[col] = currentAbsHeight;\n            }\n        }\n    }\n    function placeSeg(seg, segHeight) {\n        if (!tryPlaceSegAt(seg, segHeight, 0)) {\n            for (var col = seg.firstCol; col <= seg.lastCol; col++) {\n                for (var _i = 0, _a = colPlacements[col]; _i < _a.length; _i++) { // will repeat multi-day segs!!!!!!! bad!!!!!!\n                    var placement = _a[_i];\n                    if (tryPlaceSegAt(seg, segHeight, placement.bottom)) {\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    function tryPlaceSegAt(seg, segHeight, top) {\n        if (canPlaceSegAt(seg, segHeight, top)) {\n            for (var col = seg.firstCol; col <= seg.lastCol; col++) {\n                var placements = colPlacements[col];\n                var insertionIndex = 0;\n                while (insertionIndex < placements.length &&\n                    top >= placements[insertionIndex].top) {\n                    insertionIndex++;\n                }\n                placements.splice(insertionIndex, 0, {\n                    seg: seg,\n                    top: top,\n                    bottom: top + segHeight\n                });\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    function canPlaceSegAt(seg, segHeight, top) {\n        for (var col = seg.firstCol; col <= seg.lastCol; col++) {\n            for (var _i = 0, _a = colPlacements[col]; _i < _a.length; _i++) {\n                var placement = _a[_i];\n                if (top < placement.bottom && top + segHeight > placement.top) { // collide?\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    // what does this do!?\n    for (var instanceIdAndFirstCol in eventHeights) {\n        if (!eventHeights[instanceIdAndFirstCol]) {\n            segIsHidden[instanceIdAndFirstCol.split(':')[0]] = true;\n        }\n    }\n    var segsByFirstCol = colPlacements.map(extractFirstColSegs); // operates on the sorted cols\n    var segsByEachCol = colPlacements.map(function (placements, col) {\n        var segs = extractAllColSegs(placements);\n        segs = resliceDaySegs(segs, cellModels[col].date, col);\n        return segs;\n    });\n    return {\n        segsByFirstCol: segsByFirstCol,\n        segsByEachCol: segsByEachCol,\n        segIsHidden: segIsHidden,\n        segTops: segTops,\n        segMarginTops: segMarginTops,\n        moreCnts: moreCnts,\n        moreTops: moreTops,\n        paddingBottoms: paddingBottoms\n    };\n}\nfunction extractFirstColSegs(oneColPlacements, col) {\n    var segs = [];\n    for (var _i = 0, oneColPlacements_1 = oneColPlacements; _i < oneColPlacements_1.length; _i++) {\n        var placement = oneColPlacements_1[_i];\n        if (placement.seg.firstCol === col) {\n            segs.push(placement.seg);\n        }\n    }\n    return segs;\n}\nfunction extractAllColSegs(oneColPlacements) {\n    var segs = [];\n    for (var _i = 0, oneColPlacements_2 = oneColPlacements; _i < oneColPlacements_2.length; _i++) {\n        var placement = oneColPlacements_2[_i];\n        segs.push(placement.seg);\n    }\n    return segs;\n}\nfunction limitByMaxHeight(hiddenCnts, segIsHidden, colPlacements, maxContentHeight) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, true, function (placement) {\n        return placement.bottom <= maxContentHeight;\n    });\n}\nfunction limitByMaxEvents(hiddenCnts, segIsHidden, colPlacements, dayMaxEvents) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, false, function (placement, levelIndex) {\n        return levelIndex < dayMaxEvents;\n    });\n}\nfunction limitByMaxRows(hiddenCnts, segIsHidden, colPlacements, dayMaxEventRows) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, true, function (placement, levelIndex) {\n        return levelIndex < dayMaxEventRows;\n    });\n}\n/*\npopulates the given hiddenCnts/segIsHidden, which are supplied empty.\nTODO: return them instead\n*/\nfunction limitEvents(hiddenCnts, segIsHidden, colPlacements, _moreLinkConsumesLevel, isPlacementInBounds) {\n    var colCnt = hiddenCnts.length;\n    var segIsVisible = {}; // TODO: instead, use segIsHidden with true/false?\n    var visibleColPlacements = []; // will mirror colPlacements\n    for (var col = 0; col < colCnt; col++) {\n        visibleColPlacements.push([]);\n    }\n    for (var col = 0; col < colCnt; col++) {\n        var placements = colPlacements[col];\n        var level = 0;\n        for (var _i = 0, placements_2 = placements; _i < placements_2.length; _i++) {\n            var placement = placements_2[_i];\n            if (isPlacementInBounds(placement, level)) {\n                recordVisible(placement);\n            }\n            else {\n                recordHidden(placement, level, _moreLinkConsumesLevel);\n            }\n            // only considered a level if the seg had height\n            if (placement.top !== placement.bottom) {\n                level++;\n            }\n        }\n    }\n    function recordVisible(placement) {\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        if (!segIsVisible[instanceId]) {\n            segIsVisible[instanceId] = true;\n            for (var col = seg.firstCol; col <= seg.lastCol; col++) {\n                visibleColPlacements[col].push(placement);\n            }\n        }\n    }\n    function recordHidden(placement, currentLevel, moreLinkConsumesLevel) {\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        if (!segIsHidden[instanceId]) {\n            segIsHidden[instanceId] = true;\n            for (var col = seg.firstCol; col <= seg.lastCol; col++) {\n                var hiddenCnt = ++hiddenCnts[col];\n                if (moreLinkConsumesLevel && hiddenCnt === 1) {\n                    var doomedLevel = currentLevel - 1;\n                    while (visibleColPlacements[col].length > doomedLevel) {\n                        recordHidden(visibleColPlacements[col].pop(), // removes\n                        visibleColPlacements[col].length, // will execute after the pop. will be the index of the removed placement\n                        false);\n                    }\n                }\n            }\n        }\n    }\n}\n// Given the events within an array of segment objects, reslice them to be in a single day\nfunction resliceDaySegs(segs, dayDate, colIndex) {\n    var dayStart = dayDate;\n    var dayEnd = addDays(dayStart, 1);\n    var dayRange = { start: dayStart, end: dayEnd };\n    var newSegs = [];\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        var eventRange = seg.eventRange;\n        var origRange = eventRange.range;\n        var slicedRange = intersectRanges(origRange, dayRange);\n        if (slicedRange) {\n            newSegs.push(__assign(__assign({}, seg), { firstCol: colIndex, lastCol: colIndex, eventRange: {\n                    def: eventRange.def,\n                    ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n                    instance: eventRange.instance,\n                    range: slicedRange\n                }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() }));\n        }\n    }\n    return newSegs;\n}\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {}\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(props.cells, props.fgEventSegs, props.dayMaxEvents, props.dayMaxEventRows, state.segHeights, state.maxContentHeight, colCnt, context.options.eventOrder), paddingBottoms = _b.paddingBottoms, segsByFirstCol = _b.segsByFirstCol, segsByEachCol = _b.segsByEachCol, segIsHidden = _b.segIsHidden, segTops = _b.segTops, segMarginTops = _b.segMarginTops, moreCnts = _b.moreCnts, moreTops = _b.moreTops;\n        var selectedInstanceHash = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(segsByFirstCol[col], segIsHidden, segTops, segMarginTops, selectedInstanceHash, props.todayRange);\n                var mirrorFgNodes = _this.renderFgSegs(mirrorSegsByCol[col], {}, segTops, // use same tops as real rendering\n                {}, {}, props.todayRange, Boolean(props.eventDrag), Boolean(props.eventResize), false // date-selecting (because mirror is never drawn for date selection)\n                );\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, moreCnt: moreCnts[col], buildMoreLinkText: props.buildMoreLinkText, onMoreClick: props.onMoreClick, segIsHidden: segIsHidden, moreMarginTop: moreTops[col] /* rename */, segsByEachCol: segsByEachCol[col], fgPaddingBottom: paddingBottoms[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        else if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        else {\n            return props.dateSelectionSegs;\n        }\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        else {\n            return [];\n        }\n    };\n    TableRow.prototype.renderFgSegs = function (segs, segIsHidden, // does NOT mean display:hidden\n    segTops, segMarginTops, selectedInstanceHash, todayRange, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isMirror = isDragging || isResizing || isDateSelecting;\n                var isSelected = selectedInstanceHash[instanceId];\n                var isInvisible = segIsHidden[instanceId] || isSelected;\n                var isAbsolute = segIsHidden[instanceId] || isMirror || seg.firstCol !== seg.lastCol || !seg.isStart || !seg.isEnd; // TODO: simpler way? NOT DRY\n                var marginTop = void 0;\n                var top_1 = void 0;\n                var left = void 0;\n                var right = void 0;\n                if (isAbsolute) {\n                    top_1 = segTops[instanceId];\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                else {\n                    marginTop = segMarginTops[instanceId];\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: instanceId, ref: isMirror ? null : this.segHarnessRefs.createRef(instanceId + ':' + seg.firstCol) /* in print mode when in mult cols, could collide */, style: {\n                        visibility: isInvisible ? 'hidden' : '',\n                        marginTop: marginTop || '',\n                        top: top_1 || '',\n                        left: left || '',\n                        right: right || ''\n                    } }, hasListItemDisplay(seg) ?\n                    createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))) :\n                    createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n                var seg = segs_2[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol]\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: 'fc-daygrid-bg-harness', style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArrays([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (props.clientWidth !== null) { // positioning ready?\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false)\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                segHeights: this.computeSegHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null\n            });\n        }\n    };\n    TableRow.prototype.computeSegHeights = function () {\n        return mapHash(this.segHarnessRefs.currentMap, function (eventHarnessEl) { return (eventHarnessEl.getBoundingClientRect().height); });\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    segHeights: isPropsEqual\n});\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar SCROLL_DEBOUNCE = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.repositioner = new DelayedRunner(_this.updateSize.bind(_this));\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            var onClose = _this.props.onClose;\n            // only hide the popover if the click happened outside the popover\n            if (onClose && !_this.rootEl.contains(ev.target)) {\n                onClose();\n            }\n        };\n        _this.handleDocumentScroll = function () {\n            _this.repositioner.request(SCROLL_DEBOUNCE);\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover')\n        ].concat(props.extraClassNames || []);\n        return (createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: 'fc-popover-title' }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)));\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        document.addEventListener('scroll', this.handleDocumentScroll);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n        document.removeEventListener('scroll', this.handleDocumentScroll);\n    };\n    // TODO: adjust on window resize\n    /*\n    NOTE: the popover is position:fixed, so coordinates are relative to the viewport\n    NOTE: the PARENT calls this as well, on window resize. we would have wanted to use the repositioner,\n          but need to ensure that all other components have updated size first (for alignmentEl)\n    */\n    Popover.prototype.updateSize = function () {\n        var _a = this.props, alignmentEl = _a.alignmentEl, topAlignmentEl = _a.topAlignmentEl;\n        var rootEl = this.rootEl;\n        if (!rootEl) {\n            return; // not sure why this was null, but we shouldn't let external components call updateSize() anyway\n        }\n        var dims = rootEl.getBoundingClientRect(); // only used for width,height\n        var alignment = alignmentEl.getBoundingClientRect();\n        var top = topAlignmentEl ? topAlignmentEl.getBoundingClientRect().top : alignment.top;\n        top = Math.min(top, window.innerHeight - dims.height - PADDING_FROM_VIEWPORT);\n        top = Math.max(top, PADDING_FROM_VIEWPORT);\n        var left;\n        if (this.context.isRtl) {\n            left = alignment.right - dims.width;\n        }\n        else {\n            left = alignment.left;\n        }\n        left = Math.min(left, window.innerWidth - dims.width - PADDING_FROM_VIEWPORT);\n        left = Math.max(left, PADDING_FROM_VIEWPORT);\n        applyStyle(rootEl, { top: top, left: left });\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handlePopoverEl = function (popoverEl) {\n            _this.popoverEl = popoverEl;\n            if (popoverEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: popoverEl,\n                    useEventCenter: false\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var date = props.date, hiddenInstances = props.hiddenInstances, todayRange = props.todayRange, dateProfile = props.dateProfile, selectedInstanceId = props.selectedInstanceId;\n        var title = dateEnv.format(date, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handlePopoverEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs, onClose: props.onCloseClick, alignmentEl: props.alignmentEl, topAlignmentEl: props.topAlignmentEl },\n            createElement(DayCellContent, { date: date, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: 'fc-more-popover-misc', ref: innerElRef }, innerContent)); }),\n            props.segs.map(function (seg) {\n                var instanceId = seg.eventRange.instance.instanceId;\n                return (createElement(\"div\", { className: 'fc-daygrid-event-harness', key: instanceId, style: {\n                        visibility: hiddenInstances[instanceId] ? 'hidden' : ''\n                    } }, hasListItemDisplay(seg) ?\n                    createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === selectedInstanceId, defaultDisplayEventEnd: false }, getSegMeta(seg, todayRange))) :\n                    createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === selectedInstanceId, defaultDisplayEventEnd: false }, getSegMeta(seg, todayRange)))));\n            }))); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var date = this.props.date;\n        if (positionLeft < elWidth && positionTop < elHeight) {\n            return {\n                component: this,\n                dateSpan: {\n                    allDay: true,\n                    range: { start: date, end: addDays(date, 1) }\n                },\n                dayEl: this.popoverEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight\n                },\n                layer: 1\n            };\n        }\n    };\n    MorePopover.prototype.isPopover = function () {\n        return true; // gross\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.buildBuildMoreLinkText = memoize(buildBuildMoreLinkText);\n        _this.rowRefs = new RefMap();\n        _this.state = {\n            morePopoverState: null\n        };\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            setRef(_this.props.elRef, rootEl);\n        };\n        _this.handleMoreLinkClick = function (arg) {\n            var context = _this.context;\n            var dateEnv = context.dateEnv;\n            var clickOption = context.options.moreLinkClick;\n            function segForPublic(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: dateEnv.toDate(range.start),\n                    end: dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd\n                };\n            }\n            if (typeof clickOption === 'function') {\n                clickOption = clickOption({\n                    date: dateEnv.toDate(arg.date),\n                    allDay: true,\n                    allSegs: arg.allSegs.map(segForPublic),\n                    hiddenSegs: arg.hiddenSegs.map(segForPublic),\n                    jsEvent: arg.ev,\n                    view: context.viewApi\n                }); // hack to handle void\n            }\n            if (!clickOption || clickOption === 'popover') {\n                _this.setState({\n                    morePopoverState: __assign(__assign({}, arg), { currentFgEventSegs: _this.props.fgEventSegs })\n                });\n            }\n            else if (typeof clickOption === 'string') { // a view name\n                context.calendarApi.zoomTo(arg.date, clickOption);\n            }\n        };\n        _this.handleMorePopoverClose = function () {\n            _this.setState({\n                morePopoverState: null\n            });\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var morePopoverState = this.state.morePopoverState;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var buildMoreLinkText = this.buildBuildMoreLinkText(this.context.options.moreLinkText);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural' // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth\n            } },\n            createElement(NowTimer, { unit: 'day' }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: 'fc-scrollgrid-sync-table', style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : ''\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, buildMoreLinkText: buildMoreLinkText, onMoreClick: _this.handleMoreLinkClick })); }))),\n                (!props.forPrint && morePopoverState && morePopoverState.currentFgEventSegs === props.fgEventSegs) && // clear popover on event mod\n                    createElement(MorePopover, { date: morePopoverState.date, dateProfile: dateProfile, segs: morePopoverState.allSegs, alignmentEl: morePopoverState.dayEl, topAlignmentEl: rowCnt === 1 ? props.headerAlignElRef.current : null, onCloseClick: _this.handleMorePopoverClose, selectedInstanceId: props.eventSelection, hiddenInstances: // yuck\n                        (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                            (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                            {}, todayRange: todayRange }))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true // vertical\n        );\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.positionToHit = function (leftPosition, topPosition) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(leftPosition);\n        var row = rowPositions.topToIndex(topPosition);\n        if (row != null && col != null) {\n            return {\n                row: row,\n                col: col,\n                dateSpan: {\n                    range: this.getCellRange(row, col),\n                    allDay: true\n                },\n                dayEl: this.getCellEl(row, col),\n                relativeRect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row]\n                }\n            };\n        }\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction buildBuildMoreLinkText(moreLinkTextInput) {\n    if (typeof moreLinkTextInput === 'function') {\n        return moreLinkTextInput;\n    }\n    else {\n        return function (num) {\n            return \"+\" + num + \" \" + moreLinkTextInput;\n        };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        _this.handleRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, { el: rootEl });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef, elRef: this.handleRootEl }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    DayTable.prototype.prepareHits = function () {\n        this.tableRef.current.prepareHits();\n    };\n    DayTable.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.tableRef.current.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom\n                },\n                layer: 0\n            };\n        }\n    };\n    return DayTable;\n}(DateComponent));\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders &&\n            createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 });\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar OPTION_REFINERS = {\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 }\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 }\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true\n        }\n    }\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.3.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, rangeContainsMarker, startOfDay, asRoughMs, createDuration, createRef, RefMap, createElement, PositionCache, BaseComponent, RenderHook, createFormatter, ViewContextType, wholeDivideDurations, formatIsoTimeString, addDurations, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, DateComponent, renderScrollShim, sortEventSegs, compareByFieldSpecs, buildSegCompareObj, StandardEvent, config, DayCellRoot, getSegMeta, buildEventRangeKey, BgEvent, renderFill, Fragment, DayCellContent, memoize, multiplyDuration, intersectRanges, Slicer, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {}\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        else {\n            return ['timed'];\n        }\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        else if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        else {\n            return ['allDay'];\n        }\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slatMetas) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slatMetas = slatMetas;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile, slatMetas = _a.slatMetas;\n        var len = positions.els.length;\n        var slotDurationMs = slatMetas[1].date.valueOf() - slatMetas[0].date.valueOf(); // we assume dates are uniform\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / slotDurationMs; // floating-point value of # of slots covered\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 }\n];\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: 'fc-timegrid-slots', ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var props = this.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true // vertical\n                ), this.props.dateProfile, props.slatMetas));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor'\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis &&\n                    createElement(TimeColsAxisCell, __assign({}, slatMeta)),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short'\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor'\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        else {\n            var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n            var labelFormat = // TODO: fully pre-parse\n             options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n                Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                    createFormatter(options.slotLabelFormat);\n            var hookProps = {\n                level: 0,\n                time: props.time,\n                date: dateEnv.toDate(props.date),\n                view: viewApi,\n                text: dateEnv.format(props.date, labelFormat)\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n                createElement(\"div\", { className: 'fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame' },\n                    createElement(\"div\", { className: 'fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion', ref: innerElRef }, innerContent)))); }));\n        }\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i--) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers) {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink'\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid', style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: 'fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner' }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: 'fc-timegrid-axis' },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame', style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink'\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: 'fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner', ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent\n                }\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent }\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: 'fc-scrollgrid-section' },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') })))\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent\n            }\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords // yuck\n    ) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis(arg.rowSyncHeights[0]))); }\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent\n                    }\n                ]\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent\n                    }\n                ]\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: 'fc-scrollgrid-section' },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') })))\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) {\n                        // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                        return (createElement(\"div\", { className: 'fc-timegrid-axis-chunk' },\n                            createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                                arg.tableColGroupNode,\n                                createElement(\"tbody\", null,\n                                    createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                            createElement(\"div\", { className: 'fc-timegrid-now-indicator-container' },\n                                createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                    var nowIndicatorTop = isNowIndicator &&\n                                        slatCoords &&\n                                        slatCoords.safeComputeTop(nowDate); // might return void\n                                    if (typeof nowIndicatorTop === 'number') {\n                                        return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                    }\n                                    return null;\n                                }))));\n                    }\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent\n                }\n            ]\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim\n                    }\n                ]\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] }\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i++) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i++) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i++) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i++) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: []\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\n// UNFORTUNATELY, assigns results to the top/bottom/level/forwardCoord/backwardCoord props of the actual segs.\n// TODO: return hash (by instanceId) of results\nfunction computeSegCoords(segs, dayDate, slatCoords, eventMinHeight, eventOrderSpecs) {\n    computeSegVerticals(segs, dayDate, slatCoords, eventMinHeight);\n    return computeSegHorizontals(segs, eventOrderSpecs); // requires top/bottom from computeSegVerticals\n}\n// For each segment in an array, computes and assigns its top and bottom properties\nfunction computeSegVerticals(segs, dayDate, slatCoords, eventMinHeight) {\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        seg.top = slatCoords.computeDateTop(seg.start, dayDate);\n        seg.bottom = Math.max(seg.top + (eventMinHeight || 0), // yuck\n        slatCoords.computeDateTop(seg.end, dayDate));\n    }\n}\n// Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\n// Assumed the segs are already ordered.\n// NOTE: Also reorders the given array by date!\nfunction computeSegHorizontals(segs, eventOrderSpecs) {\n    // IMPORTANT TO CLEAR OLD RESULTS :(\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        seg.level = null;\n        seg.forwardCoord = null;\n        seg.backwardCoord = null;\n        seg.forwardPressure = null;\n    }\n    segs = sortEventSegs(segs, eventOrderSpecs);\n    var level0;\n    var levels = buildSlotSegLevels(segs);\n    computeForwardSlotSegs(levels);\n    if ((level0 = levels[0])) {\n        for (var _a = 0, level0_1 = level0; _a < level0_1.length; _a++) {\n            var seg = level0_1[_a];\n            computeSlotSegPressures(seg);\n        }\n        for (var _b = 0, level0_2 = level0; _b < level0_2.length; _b++) {\n            var seg = level0_2[_b];\n            computeSegForwardBack(seg, 0, 0, eventOrderSpecs);\n        }\n    }\n    return segs;\n}\n// Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\n// left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\nfunction buildSlotSegLevels(segs) {\n    var levels = [];\n    var i;\n    var seg;\n    var j;\n    for (i = 0; i < segs.length; i++) {\n        seg = segs[i];\n        // go through all the levels and stop on the first level where there are no collisions\n        for (j = 0; j < levels.length; j++) {\n            if (!computeSlotSegCollisions(seg, levels[j]).length) {\n                break;\n            }\n        }\n        seg.level = j;\n        (levels[j] || (levels[j] = [])).push(seg);\n    }\n    return levels;\n}\n// Find all the segments in `otherSegs` that vertically collide with `seg`.\n// Append into an optionally-supplied `results` array and return.\nfunction computeSlotSegCollisions(seg, otherSegs, results) {\n    if (results === void 0) { results = []; }\n    for (var i = 0; i < otherSegs.length; i++) {\n        if (isSlotSegCollision(seg, otherSegs[i])) {\n            results.push(otherSegs[i]);\n        }\n    }\n    return results;\n}\n// Do these segments occupy the same vertical space?\nfunction isSlotSegCollision(seg1, seg2) {\n    return seg1.bottom > seg2.top && seg1.top < seg2.bottom;\n}\n// For every segment, figure out the other segments that are in subsequent\n// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\nfunction computeForwardSlotSegs(levels) {\n    var i;\n    var level;\n    var j;\n    var seg;\n    var k;\n    for (i = 0; i < levels.length; i++) {\n        level = levels[i];\n        for (j = 0; j < level.length; j++) {\n            seg = level[j];\n            seg.forwardSegs = [];\n            for (k = i + 1; k < levels.length; k++) {\n                computeSlotSegCollisions(seg, levels[k], seg.forwardSegs);\n            }\n        }\n    }\n}\n// Figure out which path forward (via seg.forwardSegs) results in the longest path until\n// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\nfunction computeSlotSegPressures(seg) {\n    var forwardSegs = seg.forwardSegs;\n    var forwardPressure = 0;\n    var i;\n    var forwardSeg;\n    if (seg.forwardPressure == null) { // not already computed\n        for (i = 0; i < forwardSegs.length; i++) {\n            forwardSeg = forwardSegs[i];\n            // figure out the child's maximum forward path\n            computeSlotSegPressures(forwardSeg);\n            // either use the existing maximum, or use the child's forward pressure\n            // plus one (for the forwardSeg itself)\n            forwardPressure = Math.max(forwardPressure, 1 + forwardSeg.forwardPressure);\n        }\n        seg.forwardPressure = forwardPressure;\n    }\n}\n// Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\n// from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\n// seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\n//\n// The segment might be part of a \"series\", which means consecutive segments with the same pressure\n// who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\n// segments behind this one in the current series, and `seriesBackwardCoord` is the starting\n// coordinate of the first segment in the series.\nfunction computeSegForwardBack(seg, seriesBackwardPressure, seriesBackwardCoord, eventOrderSpecs) {\n    var forwardSegs = seg.forwardSegs;\n    var i;\n    if (seg.forwardCoord == null) { // not already computed\n        if (!forwardSegs.length) {\n            // if there are no forward segments, this segment should butt up against the edge\n            seg.forwardCoord = 1;\n        }\n        else {\n            // sort highest pressure first\n            sortForwardSegs(forwardSegs, eventOrderSpecs);\n            // this segment's forwardCoord will be calculated from the backwardCoord of the\n            // highest-pressure forward segment.\n            computeSegForwardBack(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord, eventOrderSpecs);\n            seg.forwardCoord = forwardSegs[0].backwardCoord;\n        }\n        // calculate the backwardCoord from the forwardCoord. consider the series\n        seg.backwardCoord = seg.forwardCoord -\n            (seg.forwardCoord - seriesBackwardCoord) / // available width for series\n                (seriesBackwardPressure + 1); // # of segments in the series\n        // use this segment's coordinates to computed the coordinates of the less-pressurized\n        // forward segments\n        for (i = 0; i < forwardSegs.length; i++) {\n            computeSegForwardBack(forwardSegs[i], 0, seg.forwardCoord, eventOrderSpecs);\n        }\n    }\n}\nfunction sortForwardSegs(forwardSegs, eventOrderSpecs) {\n    var objs = forwardSegs.map(buildTimeGridSegCompareObj);\n    var specs = [\n        // put higher-pressure first\n        { field: 'forwardPressure', order: -1 },\n        // put segments that are closer to initial edge first (and favor ones with no coords yet)\n        { field: 'backwardCoord', order: 1 }\n    ].concat(eventOrderSpecs);\n    objs.sort(function (obj0, obj1) {\n        return compareByFieldSpecs(obj0, obj1, specs);\n    });\n    return objs.map(function (c) {\n        return c._seg;\n    });\n}\nfunction buildTimeGridSegCompareObj(seg) {\n    var obj = buildSegCompareObj(seg);\n    obj.forwardPressure = seg.forwardPressure;\n    obj.backwardCoord = seg.backwardCoord;\n    return obj;\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event'\n        ];\n        if (this.props.isCondensed) {\n            classNames.push('fc-timegrid-event-condensed');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nconfig.timeGridEventCondensedHeight = 30;\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: 'fc-timegrid-col-frame' },\n                createElement(\"div\", { className: 'fc-timegrid-col-bg' },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: 'fc-timegrid-col-events' }, _this.renderFgSegs(props.fgEventSegs, interactionAffectedInstances)),\n                createElement(\"div\", { className: 'fc-timegrid-col-events' }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror)\n                // TODO: pass in left/right instead of using only computeSegTopBottomCss\n                )),\n                createElement(\"div\", { className: 'fc-timegrid-now-indicator-container' }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (segs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return this.renderPrintFgSegs(segs);\n        }\n        else if (props.slatCoords) {\n            return this.renderPositionedFgSegs(segs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n        }\n    };\n    TimeCol.prototype.renderPrintFgSegs = function (segs) {\n        var _a = this, props = _a.props, context = _a.context;\n        // not DRY\n        segs = sortEventSegs(segs, context.options.eventOrder);\n        return segs.map(function (seg) { return (createElement(\"div\", { className: 'fc-timegrid-event-harness', key: seg.eventRange.instance.instanceId },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isCondensed: false }, getSegMeta(seg, props.todayRange, props.nowDate))))); });\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this, context = _a.context, props = _a.props;\n        // assigns TO THE SEGS THEMSELVES\n        // also, receives resorted array\n        segs = computeSegCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight, context.options.eventOrder);\n        return segs.map(function (seg) {\n            var instanceId = seg.eventRange.instance.instanceId;\n            var isMirror = isDragging || isResizing || isDateSelecting;\n            var positionCss = isMirror ? __assign({ left: 0, right: 0 }, _this.computeSegTopBottomCss(seg)) :\n                _this.computeFgSegPositionCss(seg);\n            return (createElement(\"div\", { className: 'fc-timegrid-event-harness' + (seg.level > 0 ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign({ visibility: segIsInvisible[instanceId] ? 'hidden' : '' }, positionCss) },\n                createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === props.eventSelection, isCondensed: (seg.bottom - seg.top) < config.timeGridEventCondensedHeight }, getSegMeta(seg, props.todayRange, props.nowDate)))));\n        });\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _this = this;\n        var _a = this, context = _a.context, props = _a.props;\n        if (!props.slatCoords) {\n            return;\n        }\n        // BAD: assigns TO THE SEGS THEMSELVES\n        computeSegVerticals(segs, props.date, props.slatCoords, context.options.eventMinHeight);\n        var children = segs.map(function (seg) { return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: 'fc-timegrid-bg-harness', style: _this.computeSegTopBottomCss(seg) }, fillType === 'bg-event' ?\n            createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n            renderFill(fillType))); });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, key: i /* key doesn't matter. will only ever be one */ }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeFgSegPositionCss = function (seg) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point\n        var forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            forwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - forwardCoord;\n            right = backwardCoord;\n        }\n        else {\n            left = backwardCoord;\n            right = 1 - forwardCoord;\n        }\n        var props = {\n            zIndex: seg.level + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%'\n        };\n        if (shouldOverlap && seg.forwardPressure) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return __assign(__assign({}, props), this.computeSegTopBottomCss(seg));\n    };\n    TimeCol.prototype.computeSegTopBottomCss = function (seg) {\n        return {\n            top: seg.top,\n            bottom: -seg.bottom\n        };\n    };\n    return TimeCol;\n}(BaseComponent));\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: 'fc-timegrid-col-misc', ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: 'fc-timegrid-cols', ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis &&\n                            createElement(\"td\", { className: 'fc-timegrid-col fc-timegrid-axis' },\n                                createElement(\"div\", { className: 'fc-timegrid-col-frame' },\n                                    createElement(\"div\", { className: 'fc-timegrid-now-indicator-container' }, typeof nowIndicatorTop === 'number' &&\n                                        createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1++;\n                    } // to overcome top border that slots beyond the first have. looks better\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: 'fc-timegrid-body', ref: props.rootElRef, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.positionToHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                col: colIndex,\n                dateSpan: {\n                    range: { start: start, end: end },\n                    allDay: false\n                },\n                dayEl: colCoords.els[colIndex],\n                relativeRect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight\n                }\n            };\n        }\n    };\n    return TimeCols;\n}(BaseComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        _this.handleRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, { el: rootEl });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef, rootElRef: _this.handleRootEl }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    DayTimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.timeColsRef.current.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom\n                },\n                layer: 0\n            };\n        }\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime)\n        });\n    }\n    return ranges;\n}\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col++) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders &&\n            createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null });\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps['allDay'], { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps['timed'], { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 }\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 }\n        }\n    }\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n:root {\\n  --fc-daygrid-event-dot-width: 8px;\\n}\\n.fc .fc-popover {\\n    position: fixed;\\n    top: 0; /* for when not positioned yet */\\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\\n  }\\n.fc .fc-popover-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 3px 4px;\\n  }\\n.fc .fc-popover-title {\\n    margin: 0 2px;\\n  }\\n.fc .fc-popover-close {\\n    cursor: pointer;\\n    opacity: 0.65;\\n    font-size: 1.1em;\\n  }\\n.fc-theme-standard .fc-popover {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n  }\\n.fc-theme-standard .fc-popover-header {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n/* help things clear margins of inner content */\\n.fc-daygrid-day-frame,\\n.fc-daygrid-day-events,\\n.fc-daygrid-event-harness { /* for event top/bottom margins */\\n}\\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\\n    position: relative;\\n    z-index: 1; /* container inner z-index's because <tr>s can't do it */\\n  }\\n.fc .fc-daygrid-day.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n.fc .fc-daygrid-day-frame {\\n    position: relative;\\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\\n  }\\n.fc {\\n\\n  /* cell top */\\n\\n}\\n.fc .fc-daygrid-day-top {\\n    display: flex;\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-day-other .fc-daygrid-day-top {\\n    opacity: 0.3;\\n  }\\n.fc {\\n\\n  /* day number (within cell top) */\\n\\n}\\n.fc .fc-daygrid-day-number {\\n    position: relative;\\n    z-index: 4;\\n    padding: 4px;\\n  }\\n.fc {\\n\\n  /* event container */\\n\\n}\\n.fc .fc-daygrid-day-events {\\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\\n  }\\n.fc {\\n\\n  /* positioning for balanced vs natural */\\n\\n}\\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n    }\\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\\n      position: relative; /* for containing abs positioned event harnesses */\\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\\n    }\\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\\n  }\\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\\n      margin-bottom: 1em;\\n    }\\n.fc {\\n\\n  /* event harness */\\n\\n}\\n.fc .fc-daygrid-event-harness {\\n    position: relative;\\n  }\\n.fc .fc-daygrid-event-harness-abs {\\n    position: absolute;\\n    top: 0; /* fallback coords for when cannot yet be computed */\\n    left: 0; /* */\\n    right: 0; /* */\\n  }\\n.fc .fc-daygrid-bg-harness {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n  }\\n.fc {\\n\\n  /* bg content */\\n\\n}\\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\\n.fc {\\n\\n  /* events */\\n\\n}\\n.fc .fc-daygrid-event {\\n    z-index: 6;\\n    margin-top: 1px;\\n  }\\n.fc .fc-daygrid-event.fc-event-mirror {\\n    z-index: 7;\\n  }\\n.fc {\\n\\n  /* cell bottom (within day-events) */\\n\\n}\\n.fc .fc-daygrid-day-bottom {\\n    font-size: .85em;\\n    margin: 2px 3px 0;\\n  }\\n.fc .fc-daygrid-more-link {\\n    position: relative;\\n    z-index: 4;\\n    cursor: pointer;\\n  }\\n.fc {\\n\\n  /* week number (within frame) */\\n\\n}\\n.fc .fc-daygrid-week-number {\\n    position: absolute;\\n    z-index: 5;\\n    top: 0;\\n    padding: 2px;\\n    min-width: 1.5em;\\n    text-align: center;\\n    background-color: rgba(208, 208, 208, 0.3);\\n    background-color: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n    color: #808080;\\n    color: var(--fc-neutral-text-color, #808080);\\n  }\\n.fc {\\n\\n  /* popover */\\n\\n}\\n.fc .fc-more-popover {\\n    z-index: 8;\\n  }\\n.fc .fc-more-popover .fc-popover-body {\\n    min-width: 220px;\\n    padding: 10px;\\n  }\\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\\n  margin-left: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\\n  margin-right: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-week-number {\\n    left: 0;\\n    border-radius: 0 0 3px 0;\\n  }\\n.fc-direction-rtl .fc-daygrid-week-number {\\n    right: 0;\\n    border-radius: 0 0 0 3px;\\n  }\\n.fc-liquid-hack .fc-daygrid-day-frame {\\n    position: static; /* will cause inner absolute stuff to expand to <td> */\\n  }\\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\\n  position: relative; /* for z-indexes assigned later */\\n  white-space: nowrap;\\n  border-radius: 3px; /* dot event needs this to when selected */\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n}\\n/* --- the rectangle (\\\"block\\\") style of event --- */\\n.fc-daygrid-block-event .fc-event-time {\\n    font-weight: bold;\\n  }\\n.fc-daygrid-block-event .fc-event-time,\\n  .fc-daygrid-block-event .fc-event-title {\\n    padding: 1px;\\n  }\\n/* --- the dot style of event --- */\\n.fc-daygrid-dot-event {\\n  display: flex;\\n  align-items: center;\\n  padding: 2px 0\\n\\n}\\n.fc-daygrid-dot-event .fc-event-title {\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n    overflow: hidden;\\n    font-weight: bold;\\n  }\\n.fc-daygrid-dot-event:hover,\\n  .fc-daygrid-dot-event.fc-event-mirror {\\n    background: rgba(0, 0, 0, 0.1);\\n  }\\n.fc-daygrid-dot-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n.fc-daygrid-event-dot { /* the actual dot */\\n  margin: 0 4px;\\n  box-sizing: content-box;\\n  width: 0;\\n  height: 0;\\n  border: 4px solid #3788d8;\\n  border: calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color, #3788d8);\\n  border-radius: 4px;\\n  border-radius: calc(var(--fc-daygrid-event-dot-width, 8px) / 2);\\n}\\n/* --- spacing between time and title --- */\\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\\n    margin-right: 3px;\\n  }\\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\\n    margin-left: 3px;\\n  }\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://node_modules/@fullcalendar/daygrid/main.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"\\n:root {\\n  --fc-daygrid-event-dot-width: 8px;\\n}\\n.fc .fc-popover {\\n    position: fixed;\\n    top: 0; /* for when not positioned yet */\\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\\n  }\\n.fc .fc-popover-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 3px 4px;\\n  }\\n.fc .fc-popover-title {\\n    margin: 0 2px;\\n  }\\n.fc .fc-popover-close {\\n    cursor: pointer;\\n    opacity: 0.65;\\n    font-size: 1.1em;\\n  }\\n.fc-theme-standard .fc-popover {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n  }\\n.fc-theme-standard .fc-popover-header {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n/* help things clear margins of inner content */\\n.fc-daygrid-day-frame,\\n.fc-daygrid-day-events,\\n.fc-daygrid-event-harness { /* for event top/bottom margins */\\n}\\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\\n    position: relative;\\n    z-index: 1; /* container inner z-index's because <tr>s can't do it */\\n  }\\n.fc .fc-daygrid-day.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n.fc .fc-daygrid-day-frame {\\n    position: relative;\\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\\n  }\\n.fc {\\n\\n  /* cell top */\\n\\n}\\n.fc .fc-daygrid-day-top {\\n    display: flex;\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-day-other .fc-daygrid-day-top {\\n    opacity: 0.3;\\n  }\\n.fc {\\n\\n  /* day number (within cell top) */\\n\\n}\\n.fc .fc-daygrid-day-number {\\n    position: relative;\\n    z-index: 4;\\n    padding: 4px;\\n  }\\n.fc {\\n\\n  /* event container */\\n\\n}\\n.fc .fc-daygrid-day-events {\\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\\n  }\\n.fc {\\n\\n  /* positioning for balanced vs natural */\\n\\n}\\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n    }\\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\\n      position: relative; /* for containing abs positioned event harnesses */\\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\\n    }\\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\\n  }\\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\\n      margin-bottom: 1em;\\n    }\\n.fc {\\n\\n  /* event harness */\\n\\n}\\n.fc .fc-daygrid-event-harness {\\n    position: relative;\\n  }\\n.fc .fc-daygrid-event-harness-abs {\\n    position: absolute;\\n    top: 0; /* fallback coords for when cannot yet be computed */\\n    left: 0; /* */\\n    right: 0; /* */\\n  }\\n.fc .fc-daygrid-bg-harness {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n  }\\n.fc {\\n\\n  /* bg content */\\n\\n}\\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\\n.fc {\\n\\n  /* events */\\n\\n}\\n.fc .fc-daygrid-event {\\n    z-index: 6;\\n    margin-top: 1px;\\n  }\\n.fc .fc-daygrid-event.fc-event-mirror {\\n    z-index: 7;\\n  }\\n.fc {\\n\\n  /* cell bottom (within day-events) */\\n\\n}\\n.fc .fc-daygrid-day-bottom {\\n    font-size: .85em;\\n    margin: 2px 3px 0;\\n  }\\n.fc .fc-daygrid-more-link {\\n    position: relative;\\n    z-index: 4;\\n    cursor: pointer;\\n  }\\n.fc {\\n\\n  /* week number (within frame) */\\n\\n}\\n.fc .fc-daygrid-week-number {\\n    position: absolute;\\n    z-index: 5;\\n    top: 0;\\n    padding: 2px;\\n    min-width: 1.5em;\\n    text-align: center;\\n    background-color: rgba(208, 208, 208, 0.3);\\n    background-color: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n    color: #808080;\\n    color: var(--fc-neutral-text-color, #808080);\\n  }\\n.fc {\\n\\n  /* popover */\\n\\n}\\n.fc .fc-more-popover {\\n    z-index: 8;\\n  }\\n.fc .fc-more-popover .fc-popover-body {\\n    min-width: 220px;\\n    padding: 10px;\\n  }\\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\\n  margin-left: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\\n  margin-right: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-week-number {\\n    left: 0;\\n    border-radius: 0 0 3px 0;\\n  }\\n.fc-direction-rtl .fc-daygrid-week-number {\\n    right: 0;\\n    border-radius: 0 0 0 3px;\\n  }\\n.fc-liquid-hack .fc-daygrid-day-frame {\\n    position: static; /* will cause inner absolute stuff to expand to <td> */\\n  }\\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\\n  position: relative; /* for z-indexes assigned later */\\n  white-space: nowrap;\\n  border-radius: 3px; /* dot event needs this to when selected */\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n}\\n/* --- the rectangle (\\\"block\\\") style of event --- */\\n.fc-daygrid-block-event .fc-event-time {\\n    font-weight: bold;\\n  }\\n.fc-daygrid-block-event .fc-event-time,\\n  .fc-daygrid-block-event .fc-event-title {\\n    padding: 1px;\\n  }\\n/* --- the dot style of event --- */\\n.fc-daygrid-dot-event {\\n  display: flex;\\n  align-items: center;\\n  padding: 2px 0\\n\\n}\\n.fc-daygrid-dot-event .fc-event-title {\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n    overflow: hidden;\\n    font-weight: bold;\\n  }\\n.fc-daygrid-dot-event:hover,\\n  .fc-daygrid-dot-event.fc-event-mirror {\\n    background: rgba(0, 0, 0, 0.1);\\n  }\\n.fc-daygrid-dot-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n.fc-daygrid-event-dot { /* the actual dot */\\n  margin: 0 4px;\\n  box-sizing: content-box;\\n  width: 0;\\n  height: 0;\\n  border: 4px solid #3788d8;\\n  border: calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color, #3788d8);\\n  border-radius: 4px;\\n  border-radius: calc(var(--fc-daygrid-event-dot-width, 8px) / 2);\\n}\\n/* --- spacing between time and title --- */\\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\\n    margin-right: 3px;\\n  }\\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\\n    margin-left: 3px;\\n  }\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CalendarComponent } from './calendar.component';\nimport { AuthGuard } from 'src/app/authGuard/auth.guard';\nimport { ListCalendarComponent } from './list-calendar/list-calendar.component';\nimport { AddCalendarComponent } from './add-calendar/add-calendar.component';\nimport { UpdateCalendarComponent } from './update-calendar/update-calendar.component';\n\nconst route : Routes = [\n  {\n    path :'',\n    component : CalendarComponent,\n    canActivate:[AuthGuard],\n    children :[\n      {\n        path: 'list-calendar',\n        component: ListCalendarComponent,\n      },\n      {\n        path: 'add-calendar',\n        component: AddCalendarComponent\n      },\n      {\n        path: 'update-calendar/:jobCategoryId',\n        component: UpdateCalendarComponent\n      },\n      {\n        path:'',\n        redirectTo :'list-calendar',\n        pathMatch:'full',\n      },\n    ],\n  }\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(route),\n  ]\n})\nexport class CalendarRoutingModule { }","import { __extends } from \"tslib\";\nimport * as preact from 'preact';\n(typeof globalThis !== 'undefined' ? globalThis : window).FullCalendarVDom = {\n    Component: preact.Component,\n    createElement: preact.createElement,\n    render: preact.render,\n    createRef: preact.createRef,\n    Fragment: preact.Fragment,\n    createContext: createContext,\n    flushToDom: flushToDom\n};\n\n\n\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; \n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments);\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.some(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\n","/*!\nFullCalendar v5.3.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './vdom';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                render(null, _this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId++;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","import { Component, OnInit,ViewChild,ElementRef } from '@angular/core';\nimport { ReportApiService } from '../report-service/report-api.service';\nimport { ActivatedRoute,Router } from '@angular/router';\nimport Swal from 'sweetalert2';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { state, style } from '@angular/animations';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport { FullCalendarComponent } from '@fullcalendar/angular';\nimport { Calendar, EventInput } from '@fullcalendar/core';\nimport timeGrigPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction'; \nimport { Subscriber } from 'rxjs';\n\n\n@Component ({\n  selector: 'app-list-calendar',\n  templateUrl: './list-calendar.component.html',\n  styleUrls: ['./list-calendar.component.css']\n})\n\nexport class ListCalendarComponent implements OnInit {\n\n  holidayData:[];\n  attadanceData:[];\n\n  calendarVisible = true;\n  calendarPlugins = [dayGridPlugin, timeGrigPlugin, interactionPlugin];\n  calendarWeekends = true;\n  calendarEvents: EventInput [] = [];\n\n  handleDateClick(arg) {\n    if (confirm('Would you like to add an event to ' + arg.dateStr + ' ?')) {\n      this.calendarEvents = this.calendarEvents.concat({ \n        title: 'New Event',\n        start: arg.date,\n        allDay: arg.allDay\n      })\n    }\n  }\n\n  constructor(private api:ReportApiService){}\n\n  ngOnInit(){\n    this.holiday();\n    this.attadance();\n  }\n\n  holiday(){\n    this.api.getHoliday().subscribe(data=>{\n      this.holidayData = data.data;\n      if(data.data == ''){\n        this.calendarEvents.push({});\n      }else{\n        for(var i=0;i<this.holidayData.length;i++){\n          var eventDate = new Date(data.data[i].holidayDate);\n          this.calendarEvents.push({title: data.data[i].title, date:eventDate, color:'#ef8157', textColor: 'white'});\n        }\n      }\n    })\n  }\n\n  attadance(){\n    this.api.userLeave().subscribe(data=>{\n      this.attadanceData = data.data;\n    })\n  }\n \n}","<div class=\"card\" style=\"padding: 2%;\">\n    <div id=\"schedule_calender\" *ngIf=\"calendarEvents.length > 0\">\n        <full-calendar style=\"text-align: center;\" #calendar defaultView=\"dayGridMonth\" [header]=\"{\n      left: 'prev,next', \n      center:'title',\n      right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'\n    }\" [plugins]=\"calendarPlugins\" [weekends]=\"calendarWeekends\" [events]=\"calendarEvents\" (dateClick)=\"handleDateClick($event)\"></full-calendar>\n    </div>\n</div>","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CalendarRoutingModule } from './calendar-routing.module';\nimport { CalendarComponent } from './calendar.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { ListCalendarComponent } from './list-calendar/list-calendar.component';\nimport { AddCalendarComponent } from './add-calendar/add-calendar.component';\nimport { UpdateCalendarComponent } from './update-calendar/update-calendar.component';\nimport { FullCalendarModule } from '@fullcalendar/angular'; // for FullCalendar!\n\n\n@NgModule({\n  declarations: [\n    CalendarComponent,\n    ListCalendarComponent,\n    AddCalendarComponent,\n    UpdateCalendarComponent\n  ],\n  \n  imports: [\n    CommonModule,FullCalendarModule,\n    CalendarRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule    \n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class CalendarModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-calendar',\n  templateUrl: './calendar.component.html',\n  styleUrls: ['./calendar.component.scss']\n})\n\nexport class CalendarComponent implements OnInit {\n\n  constructor() {}\n  ngOnInit() {\n  \n  }\n\n}","<router-outlet></router-outlet>","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import { Component, OnInit, NgZone } from '@angular/core';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-update-calendar',\n  templateUrl: 'update-calendar.component.html'\n})\n\nexport class UpdateCalendarComponent implements OnInit {\n\nconstructor(){}\n\nngOnInit() {\n  \n}\n\n\n\n} ","/*!\nFullCalendar v5.3.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, isInteractionValid, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true // useCapture\n                );\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        else {\n            return this.containerEl;\n        }\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth++;\n    setTimeout(function () {\n        ignoreMouseDepth--;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    if (!(listenerCnt++)) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    if (!(--listenerCnt)) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else {\n            if (this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = 'none';\n                }\n                this.isVisible = bool;\n            }\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         (invDistance * invDistance) / (edgeThreshold * edgeThreshold) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            else {\n                return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n            }\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev) // bound with args\n        );\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (el) {\n            return new ElementScrollGeomCache(el, true); // listen=true\n        });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                _this.emitter.trigger('pointerdown', ev); // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    var dateProfile = component.context.getCurrentData().dateProfile;\n                    if (hit &&\n                        (\n                        // make sure the hit is within activeRange, meaning it's not a deal cell\n                        rangeContainsRange(dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                dragSelection = joinHitsIntoSelection(_this.hitDragging.initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                if (!dragSelection || !_this.component.isDateSelectionValid(dragSelection)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        else if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay$1(component) :\n                    null;\n            mirror.parentNode = elementClosest(origTarget, '.fc');\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true\n            };\n            if (hit) {\n                var receivingComponent = hit.component;\n                receivingContext = receivingComponent.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    receivingOptions.editable && receivingOptions.droppable) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!receivingComponent.isInteractionValid(interaction)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1 // the pre-change data\n                                });\n                            }\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1\n                                });\n                            }\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1\n                                });\n                            }\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.component.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.component.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true\n                    }\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.component.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.component.context.dateEnv, hit0.component === hit1.component ?\n        hit0.component.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true\n            };\n            if (hit) {\n                mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range, context.pluginHooks.eventResizeJoinTransforms);\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!_this.component.isInteractionValid(interaction)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents // the pre-change events\n                        });\n                    }\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange, transforms) {\n    var dateEnv = hit0.component.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.component.largeUnit);\n    var props = {};\n    for (var _i = 0, transforms_1 = transforms; _i < transforms_1.length; _i++) {\n        var transform = transforms_1[_i];\n        var res = transform(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        else if (res) {\n            __assign(props, res);\n        }\n    }\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            props.startDelta = delta;\n            return props;\n        }\n    }\n    else {\n        if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n            props.endDelta = delta;\n            return props;\n        }\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create\n            };\n            if (hit) {\n                receivingContext = hit.component.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.component.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        else if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        else {\n            return getDragMetaFromEl(subjectEl);\n        }\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        else if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData);\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData);\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    listenerRefiners: LISTENER_REFINERS\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","var api = require(\"!../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../css-loader/dist/cjs.js??ref--12-1!../../postcss-loader/src/index.js??embedded!./main.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import { Injectable } from '@angular/core';\nimport { HttpHeaders, HttpClient, HttpErrorResponse, HttpResponse } from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { Observable, throwError } from 'rxjs';\nimport { environment } from '../../../../environments/environment';\n \n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ReportApiService {\n\n  /** Here we provide daynamic environment value from environment */\n  endpoint: string = environment.apiBaseUrl;\n  headers = new HttpHeaders().set('Contant-Type', 'application/x-www-form-urlencoded');//Set a Header Value.\n\n  constructor(private http: HttpClient) { }\n\n/**Create method for manage errors when request and return response from the server*/\nerrorMgmt(error: HttpErrorResponse) {\n  try {\n    let errorMessage = '';\n    /** Handle client side error */\n    if (error.error instanceof ErrorEvent) {\n      errorMessage = error.error.message;\n    }\n    /** Handle server side error */\n    else {\n      errorMessage = `Error code:${error.status}\\nMessage:${errorMessage}`;\n    }\n    console.log(errorMessage);\n    return throwError(errorMessage);\n  }\n  catch (err) {\n    console.log(err.message);\n  }\n}\n\n\ngetHoliday(): Observable<any> {\n  try {\n    const companyId = sessionStorage.getItem(\"companyId\");\n    let apiURL = `${this.endpoint}/company/list-all-holidays/${companyId}`;\n     return this.http.get(apiURL).pipe(\n       catchError(this.errorMgmt)\n    )\n  }\n  catch (err) {\n    console.log(err);\n  }\n}\n\nuserLeave(): Observable<any> {\n  try {\n    const companyId = sessionStorage.getItem(\"companyId\");\n    let apiURL = `${this.endpoint}/company/attendance/${companyId}`;\n     return this.http.get(apiURL).pipe(\n       catchError(this.errorMgmt)\n    )\n  }\n  catch (err) {\n    console.log(err);\n  }\n}\n\n\n}\n"]}