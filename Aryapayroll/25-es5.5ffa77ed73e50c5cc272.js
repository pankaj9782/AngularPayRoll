!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{Q0Id:function(e,n,r){"use strict";r.r(n),r.d(n,"ReportModule",(function(){return P}));var c,o,i=r("ofXK"),s=r("tyNb"),l=r("fXoL"),u=((c=function(){function e(){t(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||c)},c.\u0275cmp=l.Nb({type:c,selectors:[["app-report"]],decls:1,vars:0,template:function(t,e){1&t&&l.Ub(0,"router-outlet")},directives:[s.g],styles:[""]}),c),d=r("CG1p"),p=r("5RHE"),f=r("tk/3"),b=r("JIr8"),m=r("z6cu"),h=r("AytR"),y=((o=function(){function e(a){t(this,e),this.http=a,this.endpoint=h.a.apiBaseUrl,this.headers=(new f.c).set("Contant-Type","application/x-www-form-urlencoded")}return a(e,[{key:"errorMgmt",value:function(t){try{var e="";return e=t.error instanceof ErrorEvent?t.error.message:"Error code:".concat(t.status,"\nMessage:").concat(e),console.log(e),Object(m.a)(e)}catch(a){console.log(a.message)}}},{key:"getPaymentHeadData",value:function(){try{var t=sessionStorage.getItem("companyId");return this.http.get("".concat(this.endpoint,"/company/list-payment-heads/").concat(t)).pipe(Object(b.a)(this.errorMgmt))}catch(e){console.log(e)}}},{key:"addPaymentHeads",value:function(t){try{var e=sessionStorage.getItem("companyId");return this.http.post("".concat(this.endpoint,"/company/add-payment-head/").concat(e),t).pipe()}catch(a){console.log(a)}}},{key:"updatePaymentHeads",value:function(t,e){try{var a=sessionStorage.getItem("companyId");return this.http.post("".concat(this.endpoint,"/company/update-payment-head/").concat(a,"/").concat(e),t).pipe(Object(b.a)(this.errorMgmt))}catch(n){console.log(n)}}},{key:"removePaymentHead",value:function(t){try{return this.http.delete("".concat(this.endpoint,"/company/delete-payment-head/").concat(t)).pipe(Object(b.a)(this.errorMgmt))}catch(e){console.log(e)}}},{key:"salarySlipData",value:function(){try{return this.http.get(this.endpoint+"/employee/salaray-slip").pipe()}catch(t){console.log(t)}}}]),e}()).\u0275fac=function(t){return new(t||o)(l.dc(f.a))},o.\u0275prov=l.Pb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),g=r("3Pt+");function x(t,e){if(1&t&&(l.Zb(0,"p",16),l.Zb(1,"strong"),l.Ic(2),l.Yb(),l.Yb()),2&t){var a=l.jc();l.Hb(2),l.Jc(a.errMsg)}}function v(t,e){if(1&t&&(l.Zb(0,"p",17),l.Zb(1,"strong"),l.Ic(2),l.Yb(),l.Yb()),2&t){var a=l.jc();l.Hb(2),l.Jc(a.successMsg)}}function I(t,e){if(1&t&&(l.Zb(0,"option",18),l.Ic(1),l.Yb()),2&t){var a=e.$implicit;l.pc("value",a),l.Hb(1),l.Jc(a)}}var w,k,D,Z,H,Y=[{path:"",component:u,canActivate:[d.a],children:[{path:"list-report",component:(D=function(){function e(a,n){t(this,e),this.api=a,this.fb=n,this.demo=[],this.demo1=[]}return a(e,[{key:"ngOnInit",value:function(){this.existingDataList()}},{key:"existingDataList",value:function(){var t=this;this.api.salarySlipData().subscribe((function(e){t.existingData=e.data,t.demo.push(e.data),t.grossAmt=e.data.gross.amt,t.netSalaryAmt=e.data.netSalary.amt,t.totalDeductionAmt=e.data.totalDeduction.amt;var a=e.data.employeeDetails;t.fixdetails=Object.keys(a).map((function(t){return a[t]})),t.fixdetails=Object.keys(a).map((function(t){return a[t]})),t.imgData=t.fixdetails[2]}))}},{key:"generatePdf",value:function(){var t=new p;t.setFontSize(12),t.rect(5,20,150,8),t.text(this.fixdetails[0],75,26,"center","a"),t.rect(5,28,150,8),t.text("Salary Slip for the Month of April, 2017",75,34,"center","a"),t.rect(5,36,75,8),t.text("Employee Name",22,42,"center","a"),t.rect(80,36,75,8),t.text(this.fixdetails[1],120,42,"center","a"),t.rect(5,44,50,13),t.text("Account No.",18,52,"center","a"),t.rect(55,44,50,13),t.text(this.fixdetails[3],80,52,"center","a"),t.rect(105,44,50,13),t.text("Designation",125,52,"center","a"),t.rect(155,44,50,13),t.text(this.fixdetails[4],175,52,"center","a"),t.rect(5,57,50,8),t.text("Days Present",19,63,"center","a"),t.rect(55,57,50,8),t.text(this.fixdetails[5],80,63,"center","a"),t.rect(105,57,50,8),t.text("Earned Leaves",125,63,"center","a"),t.rect(155,57,50,8),t.text(this.fixdetails[1],175,63,"center","a"),t.rect(5,65,100,8),t.text("ESIC No :-",17,71,"center","a"),t.rect(105,65,100,8),t.text("P.F. No :-",120,71,"center","a"),t.rect(5,73,65,8),t.text("Leave Without Sanction",29,79,"center","a"),t.rect(70,73,35,8),t.text(this.fixdetails[9],83,79,"center","a"),t.rect(105,73,60,8),t.text("Payable Days",125,79,"center","a"),t.rect(165,73,40,8),t.text(this.fixdetails[10],180,79,"center","a"),t.rect(5,81,65,8),t.text("Total CTC/Month",22,87,"center","a"),t.rect(70,81,35,8),t.text(this.fixdetails[11],85,87,"center","a"),t.rect(105,81,60,8),t.text("Total CTC/Annum",129,87,"center","a"),t.rect(165,81,40,8),t.text(this.fixdetails[12],180,87,"center","a"),t.rect(5,89,100,12),t.text("Earnings",40,97,"center","a"),t.rect(105,89,100,12),t.text("Deductions",135,97,"center","a"),t.rect(5,101,65,8),t.rect(70,101,35,8),t.text("Amount",85,107,"center","a"),t.rect(105,101,60,8),t.rect(165,101,40,8),t.text("Amount",185,107,"center","a");var e,a=115;e=this.demo[0].deductions.length>this.demo[0].earnigs.length?this.demo[0].deductions.length:this.demo[0].earnigs.length;for(var n=0;n<e;n++){var r=a-6;null==this.demo[0].earnigs[n]?(t.rect(5,r,65,8),t.rect(70,r,35,8),a+=8):(t.rect(5,r,65,8),t.text(this.demo[0].earnigs[n].label,8,a,"left","a"),t.rect(70,r,35,8),t.text("xxx",95,a,"center","a")),null==this.demo[0].deductions[n]?(t.rect(105,r,60,8),t.rect(165,r,40,8),a+=8):(t.rect(105,r,60,8),t.text(this.demo[0].deductions[n].label,117,a,"left","a"),t.rect(165,r,40,8),t.text("xxx",195,a,"center","a"),a+=8)}t.rect(5,a-=6,65,8),t.text("Gross",13,a+6,"center","a"),t.rect(70,a,35,8),t.text(this.grossAmt,90,a+6,"center","a"),t.rect(105,a,60,8),t.text("Tootal Deductions",134,a+6,"center","a"),t.rect(165,a,40,8),t.text(this.totalDeductionAmt,192,a+6,"center","a"),t.rect(5,a+=8,65,8),t.text("Net Salary",17,a+6,"center","a"),t.rect(5,a,200,8),t.text(this.netSalaryAmt,90,a+6,"center","a"),t.rect(5,a+=8,200,8),t.save("my.pdf")}},{key:"accountpdfPdf",value:function(){var t=new p("a","mm",[700,1e3]);t.setFontSize(10);var e=30;t.text(18,e+7,"To"),t.text(23,e+20,"Indusind bank, Jaipur"),t.text(190,e+7,"Date:10/2019"),t.text(80,e+30,"Sub: Salary Transfer for the Month of sep 2019"),t.rect(15,e+35,200,30),t.rect(15,e+65,200,5),t.rect(15,e+70,15,5),t.rect(15,e+70,70,5),t.rect(15,e+70,105,5),t.rect(15,e+70,140,5),t.rect(15,e+70,200,5),t.rect(15,e+75,15,5),t.text("Sr. No",17,e+79,"left","a"),t.rect(15,e+75,70,5),t.text("Name",31,e+79,"left","a"),t.rect(15,e+75,105,5),t.text("Account Number",86,e+79,"left","a"),t.rect(15,e+75,140,5),t.text("Amount",123,e+79,"left","a"),t.rect(15,e+75,200,5),t.text("Salary for the month",157,e+79,"left","a"),e+=80;for(var a=0;a<20;a++)t.rect(15,e,15,5),t.rect(15,e,70,5),t.rect(15,e,105,5),t.rect(15,e,140,5),t.rect(15,e,200,5),e+=5;t.save("my.pdf")}}]),e}(),D.\u0275fac=function(t){return new(t||D)(l.Tb(y),l.Tb(g.e))},D.\u0275cmp=l.Nb({type:D,selectors:[["app-list-report"]],decls:6,vars:1,consts:[[3,"src"],["img",""],["id","btnDownload",3,"click"]],template:function(t,e){1&t&&(l.Ub(0,"img",0,1),l.Zb(2,"button",2),l.gc("click",(function(){return e.generatePdf()})),l.Ic(3," Download PDF "),l.Yb(),l.Zb(4,"button",2),l.gc("click",(function(){return e.accountpdfPdf()})),l.Ic(5," Account pdf"),l.Yb()),2&t&&l.qc("src",e.imgData,l.Cc)},styles:[""]}),D)},{path:"add-report",component:(k=function(){function e(){t(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}(),k.\u0275fac=function(t){return new(t||k)},k.\u0275cmp=l.Nb({type:k,selectors:[["app-add-report"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),k)},{path:"update-report/:jobCategoryId",component:(w=function(){function e(a,n,r,c,o){t(this,e),this.api=a,this.fb=n,this.route=r,this.ngZone=c,this.router=o,this.successMessage=!1,this.errorMsg=!1,this.paymentHeadTypes=["Addition","Deduction"]}return a(e,[{key:"ngOnInit",value:function(){this.existingDataList(),this.paymentHeadId=this.route.snapshot.paramMap.get("jobCategoryId"),this.updatePaymentHeadValidation()}},{key:"updatePaymentHeadValidation",value:function(){try{this.paymentHeadUpdateForm=this.fb.group({title:new g.f(null),type:new g.f(null)})}catch(t){console.log(t)}}},{key:"existingDataList",value:function(){var t=this;this.api.getPaymentHeadData().subscribe((function(e){t.existingData=e.data;for(var a=Object.keys(t.existingData).length,n=0;n<a;n++)t.paymentHeadUpdateForm=t.fb.group({title:new g.f(t.existingData[n].title),type:new g.f(t.existingData[n].type)})}))}},{key:"updatePaymenthead",value:function(){var t=this;this.api.updatePaymentHeads(this.paymentHeadUpdateForm.value,this.paymentHeadId).subscribe((function(e){"success"===e.data||200===e.data?(t.successMessage=!0,t.ngZone.run((function(){return t.router.navigateByUrl("/pages/payment-heads/list-payment-heads")})),t.errorMsg=!1,t.successMsg=e.message):(t.errorMsg=!0,t.successMessage=!1,t.errMsg=e.message)}))}}]),e}(),w.\u0275fac=function(t){return new(t||w)(l.Tb(y),l.Tb(g.e),l.Tb(s.a),l.Tb(l.E),l.Tb(s.b))},w.\u0275cmp=l.Nb({type:w,selectors:[["app-update-report"]],decls:29,vars:5,consts:[[1,"card","card-u</div>ser"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],["type","text","id","title","placeholder","Enter Title","formControlName","title",1,"form-control"],["id","type","formControlName","type",1,"dropdown","dropdown-toggle","form-control",2,"width","100%","height","40px"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","submit","routerLink","../../list-payment-heads",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[3,"value"]],template:function(t,e){1&t&&(l.Zb(0,"div",0),l.Zb(1,"div",1),l.Zb(2,"h2",2),l.Ic(3,"Update Payment Heads"),l.Yb(),l.Yb(),l.Zb(4,"div",3),l.Zb(5,"div",4),l.Gc(6,x,3,1,"p",5),l.Yb(),l.Zb(7,"div",4),l.Gc(8,v,3,1,"p",6),l.Yb(),l.Zb(9,"form",7),l.gc("ngSubmit",(function(){return e.updatePaymenthead()})),l.Zb(10,"div",8),l.Zb(11,"label",9),l.Zb(12,"b"),l.Ic(13,"title: "),l.Yb(),l.Yb(),l.Zb(14,"div",4),l.Ub(15,"input",10),l.Yb(),l.Yb(),l.Zb(16,"div",8),l.Zb(17,"label",9),l.Zb(18,"b"),l.Ic(19,"type:"),l.Yb(),l.Yb(),l.Zb(20,"div",4),l.Zb(21,"select",11),l.Gc(22,I,2,2,"option",12),l.Yb(),l.Yb(),l.Yb(),l.Zb(23,"div",8),l.Zb(24,"div",13),l.Zb(25,"button",14),l.Ic(26,"Update"),l.Yb(),l.Zb(27,"button",15),l.Ic(28,"Cancel"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb()),2&t&&(l.Hb(6),l.pc("ngIf",e.errorMsg),l.Hb(2),l.pc("ngIf",e.successMessage),l.Hb(1),l.pc("formGroup",e.paymentHeadUpdateForm),l.Hb(13),l.pc("ngForOf",e.paymentHeadTypes),l.Hb(3),l.pc("disabled",e.paymentHeadUpdateForm.invalid))},directives:[i.m,g.x,g.o,g.i,g.c,g.n,g.g,g.u,i.l,s.c,g.q,g.w],encapsulation:2}),w)},{path:"",redirectTo:"list-report",pathMatch:"full"}]}],M=((H=function e(){t(this,e)}).\u0275mod=l.Rb({type:H}),H.\u0275inj=l.Qb({factory:function(t){return new(t||H)},imports:[[i.c,s.f.forChild(Y)]]}),H),P=((Z=function e(){t(this,e)}).\u0275mod=l.Rb({type:Z}),Z.\u0275inj=l.Qb({factory:function(t){return new(t||Z)},imports:[[i.c,M,g.j,g.s,s.f]]}),Z)}}])}();
//# sourceMappingURL=25-es5.5ffa77ed73e50c5cc272.js.map