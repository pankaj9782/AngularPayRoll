!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{pnYl:function(t,n,o){"use strict";o.r(n),o.d(n,"LeaveManagementModule",(function(){return Re}));var r,i,c=o("ofXK"),s=o("tyNb"),l=o("CG1p"),d=o("fXoL"),b=((r=function(){function t(){e(this,t)}return a(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=d.Nb({type:r,selectors:[["app-leave-management"]],decls:1,vars:0,template:function(e,t){1&e&&d.Ub(0,"router-outlet")},directives:[s.g],styles:[""]}),r),u=o("3Pt+"),v=o("qp47"),p=o("tk/3"),m=o("AytR"),g=o("z6cu"),f=o("JIr8"),h=((i=function(){function t(a){e(this,t),this.http=a,this.endpoint=m.a.apiBaseUrl,this.headers=(new p.c).set("Content-Type","application/x-www-form-urlencoded")}return a(t,[{key:"errorMgmt",value:function(e){try{var t="";return t=e.error instanceof ErrorEvent?e.error.message:"Error code:".concat(e.status,"\nMessage:").concat(t),console.log(t),Object(g.a)(t)}catch(a){console.log(a.message)}}},{key:"addEarnedLeave",value:function(e,t){try{var a=localStorage.getItem("token");return this.http.post("".concat(this.endpoint,"/employee/add-earned-leave/").concat(t,"/").concat(a),e).pipe(Object(f.a)(this.errorMgmt))}catch(n){console.log(n)}}},{key:"listAllEarnedLeave",value:function(e,t){try{var a=sessionStorage.getItem("companyId");return this.http.get("".concat(this.endpoint,"/employee/list-all-eraned-leave/").concat(a,"/").concat(e,"/").concat(t)).pipe(Object(f.a)(this.errorMgmt))}catch(n){console.log(n)}}},{key:"filterEarnedLeaveDetails",value:function(e,t,a){try{return this.http.get("".concat(this.endpoint,"/employee/earned-leave-details/").concat(e,"/").concat(t,"/").concat(a)).pipe(Object(f.a)(this.errorMgmt))}catch(n){console.log(n)}}},{key:"existingEarnedLeaveDetails",value:function(e,t){try{return this.http.get("".concat(this.endpoint,"/employee/earned-leave-details/").concat(e,"/").concat(t)).pipe(Object(f.a)(this.errorMgmt))}catch(a){console.log(a)}}},{key:"updateEarnedLeave",value:function(e,t,a){try{var n=localStorage.getItem("token");return this.http.post("".concat(this.endpoint,"/employee/update-earned-leave/").concat(t,"/").concat(a,"/").concat(n),e).pipe(Object(f.a)(this.errorMgmt))}catch(o){console.log(o)}}},{key:"fetchHistory",value:function(e,t,a){try{return this.http.get("".concat(this.endpoint,"/employee/earned-leave-history/").concat(e,"/").concat(t,"/").concat(a)).pipe(Object(f.a)(this.errorMgmt))}catch(n){console.log(n)}}},{key:"deleteEarnedLeave",value:function(e,t,a,n){try{return this.http.delete("".concat(this.endpoint,"/employee/delete-earned-leave/").concat(e,"/").concat(t,"/").concat(a,"/").concat(n)).pipe(Object(f.a)(this.errorMgmt))}catch(o){console.log(o)}}}]),t}()).\u0275fac=function(e){return new(e||i)(d.dc(p.a))},i.\u0275prov=d.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),y=o("cnwL");function Y(e,t){if(1&e&&(d.Zb(0,"p",24),d.Zb(1,"strong"),d.Ic(2),d.Yb(),d.Yb()),2&e){var a=d.jc();d.Hb(2),d.Jc(a.errMsg)}}function L(e,t){if(1&e&&(d.Zb(0,"p",25),d.Zb(1,"strong"),d.Ic(2),d.Yb(),d.Yb()),2&e){var a=d.jc();d.Hb(2),d.Jc(a.successMsg)}}function Z(e,t){if(1&e&&(d.Zb(0,"option",26),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a._id),d.Hb(1),d.Kc(" ",a.name," ")}}function I(e,t){if(1&e&&(d.Zb(0,"div",28),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function E(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,I,2,1,"div",27),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEarnedLeaveForm.get("employeeId").hasError(a.type)&&(n.addEarnedLeaveForm.get("employeeId").dirty||n.addEarnedLeaveForm.get("employeeId").touched))}}function F(e,t){if(1&e&&(d.Zb(0,"option",26),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a),d.Hb(1),d.Kc(" ",a," ")}}function w(e,t){if(1&e&&(d.Zb(0,"div",28),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function H(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,w,2,1,"div",27),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEarnedLeaveForm.get("earnedLeave.month").hasError(a.type)&&(n.addEarnedLeaveForm.get("earnedLeave.month").dirty||n.addEarnedLeaveForm.get("earnedLeave.month").touched))}}function M(e,t){if(1&e&&(d.Zb(0,"div",28),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function D(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,M,2,1,"div",27),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEarnedLeaveForm.get("earnedLeave.year").hasError(a.type)&&(n.addEarnedLeaveForm.get("earnedLeave.year").dirty||n.addEarnedLeaveForm.get("earnedLeave.year").touched))}}function k(e,t){if(1&e&&(d.Zb(0,"div",28),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function A(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,k,2,1,"div",27),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEarnedLeaveForm.get("earnedLeave.leaveCount").hasError(a.type)&&(n.addEarnedLeaveForm.get("earnedLeave.leaveCount").dirty||n.addEarnedLeaveForm.get("earnedLeave.leaveCount").touched))}}var T,C=((T=function(){function t(a,n,o,r,i){e(this,t),this.fb=a,this.employeeListAPI=n,this.api=o,this.router=r,this.util=i,this.earnedLeaveMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.status="Active",this.earnedLeavevalidationMessage={month:[{type:"required",message:"Month is Required"}],year:[{type:"required",message:"Year is Required"},{type:"pattern",message:"Value is not acceptable"}],leaveCount:[{type:"required",message:"Earned Balance is Required"},{type:"pattern",message:"Value is not acceptable"}],employeeId:[{type:"required",message:"Employee Name is Required"}]}}return a(t,[{key:"ngOnInit",value:function(){this.employeeList(),this.manageEarnedLeaveForm(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Create EarnedLeave")&&this.addEarnedLeaveForm.disable()}},{key:"manageEarnedLeaveForm",value:function(){try{this.addEarnedLeaveForm=this.fb.group({earnedLeave:new u.h({month:new u.f("",u.v.required),year:new u.f("",u.v.compose([u.v.required,u.v.pattern(/^(19|20)\d{2}$/)])),leaveCount:new u.f("",u.v.compose([u.v.required,u.v.pattern(/(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,2})?$)/i)])),reason:new u.f("")}),employeeId:new u.f("",u.v.required)})}catch(e){console.log(e)}}},{key:"employeeList",value:function(){var e=this;try{this.employeeListAPI.getEmployeeList(this.status).subscribe((function(t){"success"===t.status&&(e.employeeDetails=t.data)}))}catch(t){console.log(t)}}},{key:"addLeaveForm",value:function(){var e=this;try{console.log(this.addEarnedLeaveForm.get("employeeId").value),this.api.addEarnedLeave(this.addEarnedLeaveForm.value,this.addEarnedLeaveForm.get("employeeId").value).subscribe((function(t){"success"===t.status?(e.successMessage=!0,e.errorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.router.navigateByUrl("/pages/leave-management/list-earned-leave")}),2e3)):(e.errorMsg=!0,e.successMessage=!1,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(t){console.log(t)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}]),t}()).\u0275fac=function(e){return new(e||T)(d.Tb(u.e),d.Tb(v.a),d.Tb(h),d.Tb(s.b),d.Tb(y.a))},T.\u0275cmp=d.Nb({type:T,selectors:[["app-add-earned-leave"]],decls:65,vars:11,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["formControlName","employeeId",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"row",3,"formGroup"],[1,"form-group","col-md-6"],["formControlName","month",1,"dropdown","dropdown-toggle","form-control"],["type","text","id","inputPhone","placeholder","Enter Year","formControlName","year",1,"form-control"],["type","email","id","inputEmail","placeholder","Enter Earned Leave balance ","formControlName","leaveCount",1,"form-control"],["type","email","id","inputEmail","placeholder","Enter Reason","formControlName","reason",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-earned-leave",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"dropdown-item",3,"value"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"h2",2),d.Ic(3,"Earned Leave Details"),d.Yb(),d.Yb(),d.Zb(4,"div",3),d.Zb(5,"div",4),d.Gc(6,Y,3,1,"p",5),d.Yb(),d.Zb(7,"div",4),d.Gc(8,L,3,1,"p",6),d.Yb(),d.Zb(9,"form",7),d.gc("ngSubmit",(function(){return t.addLeaveForm()})),d.Zb(10,"div",8),d.Zb(11,"label",9),d.Zb(12,"b"),d.Ic(13,"Employee Name:\xa0"),d.Zb(14,"span",10),d.Ic(15,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(16,"div",4),d.Zb(17,"select",11),d.Zb(18,"option",12),d.Ic(19,"----------Select Employee----------"),d.Yb(),d.Gc(20,Z,2,2,"option",13),d.Yb(),d.Gc(21,E,2,1,"div",14),d.Yb(),d.Yb(),d.Zb(22,"div",15),d.Zb(23,"div",16),d.Zb(24,"label",9),d.Zb(25,"b"),d.Ic(26,"Month:\xa0"),d.Zb(27,"span",10),d.Ic(28,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(29,"div",4),d.Zb(30,"select",17),d.Zb(31,"option",12),d.Ic(32,"----------Select Month----------"),d.Yb(),d.Gc(33,F,2,2,"option",13),d.Yb(),d.Gc(34,H,2,1,"div",14),d.Yb(),d.Yb(),d.Zb(35,"div",16),d.Zb(36,"label",9),d.Zb(37,"b"),d.Ic(38,"Year:\xa0"),d.Zb(39,"span",10),d.Ic(40,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(41,"div",4),d.Ub(42,"input",18),d.Gc(43,D,2,1,"div",14),d.Yb(),d.Yb(),d.Zb(44,"div",16),d.Zb(45,"label",9),d.Zb(46,"b"),d.Ic(47,"Earned Balance:\xa0(in days)\xa0"),d.Zb(48,"span",10),d.Ic(49,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(50,"div",4),d.Ub(51,"input",19),d.Gc(52,A,2,1,"div",14),d.Yb(),d.Yb(),d.Zb(53,"div",16),d.Zb(54,"label",9),d.Zb(55,"b"),d.Ic(56,"Reason:"),d.Yb(),d.Yb(),d.Zb(57,"div",4),d.Ub(58,"input",20),d.Yb(),d.Yb(),d.Yb(),d.Zb(59,"div",8),d.Zb(60,"div",21),d.Zb(61,"button",22),d.Ic(62,"Submit"),d.Yb(),d.Zb(63,"button",23),d.Ic(64,"Cancel"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb()),2&e&&(d.Hb(6),d.pc("ngIf",t.errorMsg),d.Hb(2),d.pc("ngIf",t.successMessage),d.Hb(1),d.pc("formGroup",t.addEarnedLeaveForm),d.Hb(11),d.pc("ngForOf",t.employeeDetails),d.Hb(1),d.pc("ngForOf",t.earnedLeavevalidationMessage.employeeId),d.Hb(1),d.pc("formGroup",t.addEarnedLeaveForm.get("earnedLeave")),d.Hb(11),d.pc("ngForOf",t.earnedLeaveMonths),d.Hb(1),d.pc("ngForOf",t.earnedLeavevalidationMessage.month),d.Hb(9),d.pc("ngForOf",t.earnedLeavevalidationMessage.year),d.Hb(9),d.pc("ngForOf",t.earnedLeavevalidationMessage.leaveCount),d.Hb(9),d.pc("disabled",t.addEarnedLeaveForm.invalid||-1===t.permissionInfo.search("Create EarnedLeave")))},directives:[c.m,u.x,u.o,u.i,u.u,u.n,u.g,u.q,u.w,c.l,u.c,s.c],styles:[""]}),T),q=o("PSD3"),O=o.n(q);function G(e,t){if(1&e&&(d.Zb(0,"option",30),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a._id),d.Hb(1),d.Kc(" ",a.name," ")}}function j(e,t){if(1&e&&(d.Zb(0,"option",30),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a),d.Hb(1),d.Kc(" ",a," ")}}function $(e,t){if(1&e&&(d.Zb(0,"table",40),d.Zb(1,"tr"),d.Zb(2,"th"),d.Ic(3,"Reason:"),d.Yb(),d.Zb(4,"td"),d.Ic(5),d.Yb(),d.Zb(6,"th"),d.Ic(7,"Earned Leave Balance:"),d.Yb(),d.Zb(8,"td"),d.Ic(9),d.Yb(),d.Yb(),d.Zb(10,"tr"),d.Zb(11,"th"),d.Ic(12,"Earned Date:"),d.Yb(),d.Zb(13,"td"),d.Ic(14),d.kc(15,"date"),d.kc(16,"date"),d.Yb(),d.Ub(17,"th"),d.Ub(18,"td"),d.Yb(),d.Yb()),2&e){var a=t.$implicit;d.Hb(5),d.Jc(a.reason),d.Hb(4),d.Jc(a.leaveCount),d.Hb(5),d.Lc("",d.mc(15,4,a.metaData.createdAt,"fullDate")," ",d.mc(16,7,a.metaData.createdAt,"shortTime")," ")}}function B(e,t){if(1&e&&(d.Zb(0,"table",40),d.Zb(1,"tr"),d.Zb(2,"th"),d.Ic(3,"Reason:"),d.Yb(),d.Zb(4,"td"),d.Ic(5),d.Yb(),d.Zb(6,"th"),d.Ic(7,"Earned Leave Balance:"),d.Yb(),d.Zb(8,"td"),d.Ic(9),d.Yb(),d.Yb(),d.Zb(10,"tr"),d.Zb(11,"th"),d.Ic(12,"Deducted Date:"),d.Yb(),d.Zb(13,"td"),d.Ic(14),d.kc(15,"date"),d.kc(16,"date"),d.Yb(),d.Ub(17,"th"),d.Ub(18,"td"),d.Yb(),d.Yb()),2&e){var a=t.$implicit;d.Hb(5),d.Jc(a.reason),d.Hb(4),d.Jc(a.leaveCount),d.Hb(5),d.Lc("",d.mc(15,4,a.metaData.createdAt,"fullDate")," ",d.mc(16,7,a.metaData.createdAt,"shortTime")," ")}}function x(e,t){if(1&e){var a=d.ac();d.Zb(0,"tbody"),d.Zb(1,"tr"),d.Zb(2,"td"),d.Ic(3),d.Yb(),d.Zb(4,"td"),d.Ic(5),d.Yb(),d.Zb(6,"td"),d.Ic(7),d.Yb(),d.Zb(8,"td"),d.Ic(9),d.Yb(),d.Zb(10,"td"),d.Ic(11),d.Yb(),d.Zb(12,"td"),d.Zb(13,"button",31),d.Ub(14,"i",32),d.Yb(),d.Ic(15,"\xa0 "),d.Zb(16,"button",33),d.gc("click",(function(){d.Bc(a);var e=t.$implicit;return d.jc().fetchHistory(e._id)})),d.Ub(17,"i",34),d.Yb(),d.Ic(18,"\xa0 "),d.Zb(19,"button",35),d.gc("click",(function(){d.Bc(a);var e=t.$implicit;return d.jc().deleteEarnedLeave(e._id,e.year,e.month,e.leaveCount)})),d.Ub(20,"i",36),d.Yb(),d.Yb(),d.Yb(),d.Zb(21,"tr"),d.Zb(22,"td",37),d.Zb(23,"div",38),d.Zb(24,"h4",2),d.Ic(25,"Earned Leave History"),d.Yb(),d.Gc(26,$,19,10,"table",39),d.Zb(27,"h4",2),d.Ic(28,"Earned Leave Deduction History"),d.Yb(),d.Gc(29,B,19,10,"table",39),d.Yb(),d.Yb(),d.Yb(),d.Yb()}if(2&e){var n=t.$implicit,o=d.jc();d.Hb(3),d.Kc(" ",n.name," "),d.Hb(2),d.Kc(" ",n.month," "),d.Hb(2),d.Kc(" ",n.year," "),d.Hb(2),d.Kc(" ",n.leaveCount,""),d.Hb(2),d.Kc(" ",n.reason,""),d.Hb(2),d.sc("routerLink","/pages/leave-management/update-earned-leave/",n.earnedLeaveId,"/",n._id,""),d.pc("disabled",-1===o.permissionInfo.search("Edit EarnedLeave")),d.Hb(10),d.pc("hidden",o.showHistoryCards[n._id]),d.Hb(3),d.pc("ngForOf",o.earnedLeaveHistory),d.Hb(3),d.pc("ngForOf",o.deductionLeaveHistory)}}function N(e,t){if(1&e&&(d.Zb(0,"div"),d.Zb(1,"h3",2),d.Ic(2),d.Yb(),d.Yb()),2&e){var a=d.jc();d.Hb(2),d.Jc(a.earnedLeaveDataMsg)}}var U,S=((U=function(){function t(a,n,o){e(this,t),this.earnedLeaveListAPI=a,this.employeeListAPI=n,this.util=o,this.earnedLeaveMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.earnedLeaveYearMsg="",this.earnedLeaveDataMsg="",this.showHistoryCards={},this.status="Active"}return a(t,[{key:"ngOnInit",value:function(){this.employeeList(),this.leaveListEmployee(),this.permissionInfo=this.util.permissionRoleInfo}},{key:"employeeList",value:function(){var e=this;try{this.employeeListAPI.getEmployeeList(this.status).subscribe((function(t){"success"===t.status&&(e.companyEmployeelist=t.data)}))}catch(t){console.log(t)}}},{key:"leaveListEmployee",value:function(){var e=this;try{var t=new Date,a=t.getFullYear().toString(),n=t.toString().substring(4,8);this.earnedLeaveListAPI.listAllEarnedLeave(a,n).subscribe((function(n){if("success"===n.status)if(document.getElementById("earnedLeaveYear").value=a,document.getElementById("earnedLeaveMonth").value=e.earnedLeaveMonths[t.getMonth()],n.data.length>0){e.earnedLeaveList=n.data,e.earnedLeaveDataMsg="";for(var o=0;o<e.earnedLeaveList.length;o++)e.showHistoryCards[e.earnedLeaveList[o]._id]=!0}else 0===n.data.length&&(e.earnedLeaveList=[],e.earnedLeaveDataMsg="No Data Found")}))}catch(o){console.log(o)}}},{key:"yearValidation",value:function(){try{var e=document.getElementById("earnedLeaveYear").value,t=e.match(/^(19|20)\d{2}$/);this.earnedLeaveYearMsg=0===e.length&&null===t?"":null===t?"Year Value is not acceptable":""}catch(a){console.log(a)}}},{key:"filterFunctionality",value:function(){try{var e=new Date,t=document.getElementById("earnedLeaveYear").value,a=document.getElementById("earnedLeaveMonth").value,n=document.getElementById("earendLeaveEmployee").value;0===t.length&&0===a.length&&0===n.length||(0!==t.length&&0===n.length||0!==a.length&&0===n.length?(0===t.length?(t=e.getFullYear().toString(),document.getElementById("earnedLeaveYear").value=t):0===a.length&&(a=e.toString().substring(4,8),document.getElementById("earnedLeaveMonth").value=this.earnedLeaveMonths[e.getMonth()]),this.earnedLeaveDetails(t,a)):0===t.length&&0!==n.length||0===a.length&&0!==n.length?(0===t.length?(t=e.getFullYear().toString(),document.getElementById("earnedLeaveYear").value=t):0===a.length&&(a=e.toString().substring(4,8),document.getElementById("earnedLeaveMonth").value=this.earnedLeaveMonths[e.getMonth()]),this.filterEarnedLeaveDetails(n,t,a)):this.filterEarnedLeaveDetails(n,t,a))}catch(o){console.log(o)}}},{key:"earnedLeaveDetails",value:function(e,t){var a=this;try{this.earnedLeaveListAPI.listAllEarnedLeave(e,t).subscribe((function(e){"success"===e.status&&(e.data.length>0?(a.earnedLeaveList=e.data,a.earnedLeaveDataMsg=""):0===e.data.length&&(a.earnedLeaveList=[],a.earnedLeaveDataMsg="No Data Found"))}))}catch(n){console.log(n)}}},{key:"filterEarnedLeaveDetails",value:function(e,t,a){var n=this;try{this.earnedLeaveListAPI.filterEarnedLeaveDetails(e,t,a).subscribe((function(e){"success"===e.status&&(0===e.data.length?(n.earnedLeaveList=[],n.earnedLeaveDataMsg="No Data Found"):e.data.length>0&&(n.earnedLeaveList=e.data,n.earnedLeaveDataMsg=""))}))}catch(o){console.log(o)}}},{key:"fetchHistory",value:function(e){var t=this;try{var a=document.getElementById("earnedLeaveYear").value,n=document.getElementById("earnedLeaveMonth").value;this.earnedLeaveListAPI.fetchHistory(e,a,n).subscribe((function(e){"success"===e.status&&(t.earnedLeaveHistory=e.data.earnedLeave,t.deductionLeaveHistory=e.data.deductLeave)})),this.showHistoryCards[""+e]=!this.showHistoryCards[""+e]}catch(o){console.log(o)}}},{key:"resetFunctionality",value:function(){try{var e=new Date,t=e.getFullYear().toString();document.getElementById("earnedLeaveYear").value=t,document.getElementById("earnedLeaveMonth").value=this.earnedLeaveMonths[e.getMonth()],document.getElementById("earendLeaveEmployee").value="",this.filterFunctionality()}catch(a){console.log(a)}}},{key:"deleteEarnedLeave",value:function(e,t,a,n){var o=this,r=O.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});r.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0,allowOutsideClick:!1}).then((function(i){i.value?o.earnedLeaveListAPI.deleteEarnedLeave(e,t,a,n).subscribe((function(e){"success"===e.status&&(r.fire("Deleted!",e.message,"success"),o.filterFunctionality())})):i.dismiss===O.a.DismissReason.cancel&&r.fire("Cancelled","Your earned leave data is safe","error")}))}}]),t}()).\u0275fac=function(e){return new(e||U)(d.Tb(h),d.Tb(v.a),d.Tb(y.a))},U.\u0275cmp=d.Nb({type:U,selectors:[["app-list-earned-leave"]],decls:67,vars:7,consts:[[1,"card"],[1,"card-header"],[2,"text-align","center"],[1,"card-body"],[1,"form-row"],[1,"col-lg-3","col-md-3","col-sm-3"],[1,"form-group"],[1,"col-sm-4","control-label"],["id","earendLeaveEmployee",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[1,"col-sm-6","control-label"],["type","text","id","earnedLeaveYear","placeholder","Enter Year",1,"form-control",3,"input"],[2,"color","red"],[2,"color","darkred"],["id","earnedLeaveMonth",1,"dropdown","dropdown-toggle","form-control"],[1,"form-group","right-buttongroup"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-filter"],[1,"col-lg-12"],[1,"form-group",2,"float","right"],["routerLink","/pages/leave-management/add-earned-leave",1,"btn","btn-primary",3,"disabled"],[1,"fa","fa-plus-square"],[1,"card",2,"background-color","whitesmoke"],[1,"panel-body"],[1,"list-group"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dropdown-item",3,"value"],["itle","Update",1,"btn","btn-primary",2,"color","white",3,"disabled","routerLink"],[1,"fa","fa-pencil-square-o"],["title","History",1,"btn","btn-info",2,"color","white",3,"click"],[1,"fa","fa-history"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["colspan","6"],[1,"card",2,"background-color","rgb(178, 218, 208)",3,"hidden"],["class","table",4,"ngFor","ngForOf"],[1,"table"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"h2",2),d.Ic(3,"Earned Leave List"),d.Yb(),d.Yb(),d.Zb(4,"div",3),d.Zb(5,"div",4),d.Zb(6,"div",5),d.Zb(7,"div",6),d.Zb(8,"label",7),d.Zb(9,"b"),d.Ic(10,"Active Employees:"),d.Yb(),d.Yb(),d.Zb(11,"select",8),d.Zb(12,"option",9),d.Ic(13,"Select Employee "),d.Yb(),d.Gc(14,G,2,2,"option",10),d.Yb(),d.Yb(),d.Yb(),d.Zb(15,"div",5),d.Zb(16,"div",6),d.Zb(17,"label",11),d.Zb(18,"b"),d.Ic(19,"Year:"),d.Yb(),d.Yb(),d.Zb(20,"input",12),d.gc("input",(function(){return t.yearValidation()})),d.Yb(),d.Zb(21,"div"),d.Zb(22,"p",13),d.Ic(23),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(24,"div",5),d.Zb(25,"div",6),d.Zb(26,"label",11),d.Zb(27,"b"),d.Ic(28,"Month:\xa0"),d.Zb(29,"span",14),d.Ic(30,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(31,"select",15),d.Zb(32,"option",9),d.Ic(33,"Select Month "),d.Yb(),d.Gc(34,j,2,2,"option",10),d.Yb(),d.Yb(),d.Yb(),d.Zb(35,"div",5),d.Zb(36,"div",16),d.Zb(37,"button",17),d.gc("click",(function(){return t.filterFunctionality()})),d.Ub(38,"i",18),d.Ic(39,"\xa0 Filter"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(40,"div",19),d.Zb(41,"div",20),d.Zb(42,"button",21),d.Ub(43,"i",22),d.Ic(44,"\xa0 Add Earned Leave"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(45,"div",3),d.Zb(46,"div",23),d.Zb(47,"div",24),d.Zb(48,"ul",25),d.Zb(49,"div",3),d.Zb(50,"table",26),d.Zb(51,"thead",27),d.Zb(52,"tr"),d.Zb(53,"th"),d.Ic(54,"Employee Name "),d.Yb(),d.Zb(55,"th"),d.Ic(56,"Month "),d.Yb(),d.Zb(57,"th"),d.Ic(58,"Year"),d.Yb(),d.Zb(59,"th"),d.Ic(60,"Earned Balance"),d.Yb(),d.Zb(61,"th"),d.Ic(62,"Reason"),d.Yb(),d.Zb(63,"th"),d.Ic(64,"Action"),d.Yb(),d.Yb(),d.Yb(),d.Gc(65,x,30,11,"tbody",28),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Gc(66,N,3,1,"div",29),d.Yb()),2&e&&(d.Hb(14),d.pc("ngForOf",t.companyEmployeelist),d.Hb(9),d.Jc(t.earnedLeaveYearMsg),d.Hb(11),d.pc("ngForOf",t.earnedLeaveMonths),d.Hb(3),d.pc("disabled",t.earnedLeaveYearMsg),d.Hb(5),d.pc("disabled",-1===t.permissionInfo.search("Create EarnedLeave")),d.Hb(23),d.pc("ngForOf",t.earnedLeaveList),d.Hb(1),d.pc("ngIf",0!=t.earnedLeaveDataMsg.length))},directives:[u.q,u.w,c.l,s.c,c.m],pipes:[c.e],styles:[".form-group.right-buttongroup[_ngcontent-%COMP%]{white-space:nowrap;margin-top:14px}"]}),U);function R(e,t){if(1&e&&(d.Zb(0,"p",24),d.Zb(1,"strong"),d.Ic(2),d.Yb(),d.Yb()),2&e){var a=d.jc();d.Hb(2),d.Jc(a.errMsg)}}function K(e,t){if(1&e&&(d.Zb(0,"p",25),d.Zb(1,"strong"),d.Ic(2),d.Yb(),d.Yb()),2&e){var a=d.jc();d.Hb(2),d.Jc(a.successMsg)}}function P(e,t){if(1&e&&(d.Zb(0,"option",26),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a._id),d.Hb(1),d.Kc(" ",a.name," ")}}function J(e,t){if(1&e&&(d.Zb(0,"div",28),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function _(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,J,2,1,"div",27),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.updateEarnedLeaveForm.get("employeeId").hasError(a.type)&&(n.updateEarnedLeaveForm.get("employeeId").dirty||n.updateEarnedLeaveForm.get("employeeId").touched))}}function V(e,t){if(1&e&&(d.Zb(0,"option",26),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a),d.Hb(1),d.Kc(" ",a," ")}}function W(e,t){if(1&e&&(d.Zb(0,"div",28),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function z(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,W,2,1,"div",27),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.updateEarnedLeaveForm.get("earnedLeave.month").hasError(a.type)&&(n.updateEarnedLeaveForm.get("earnedLeave.month").dirty||n.updateEarnedLeaveForm.get("earnedLeave.month").touched))}}function Q(e,t){if(1&e&&(d.Zb(0,"div",28),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function X(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,Q,2,1,"div",27),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.updateEarnedLeaveForm.get("earnedLeave.year").hasError(a.type)&&(n.updateEarnedLeaveForm.get("earnedLeave.year").dirty||n.updateEarnedLeaveForm.get("earnedLeave.year").touched))}}function ee(e,t){if(1&e&&(d.Zb(0,"div",28),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function te(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,ee,2,1,"div",27),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.updateEarnedLeaveForm.get("earnedLeave.leaveCount").hasError(a.type)&&(n.updateEarnedLeaveForm.get("earnedLeave.leaveCount").dirty||n.updateEarnedLeaveForm.get("earnedLeave.leaveCount").touched))}}var ae,ne,oe=((ae=function(){function t(a,n,o,r,i,c){e(this,t),this.route=a,this.router=n,this.fb=o,this.employeeListAPI=r,this.util=i,this.earnedLeaveUpdateAPI=c,this.earnedLeaveMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.status="Active",this.earnedLeavevalidationMessage={month:[{type:"required",message:"Month is Required"}],year:[{type:"required",message:"Year is Required"},{type:"pattern",message:"Value is not acceptable"}],leaveCount:[{type:"required",message:"Earned Balance is Required"},{type:"pattern",message:"Value is not acceptable"}],employeeId:[{type:"required",message:"Employee Name is Required"}]}}return a(t,[{key:"ngOnInit",value:function(){this.earnedLeaveId=this.route.snapshot.paramMap.get("earnedLeaveId"),this.employeeId=this.route.snapshot.paramMap.get("employeeId"),this.employeeList(),this.leaveUpdateForm(),this.updateLeaveFormDetails()}},{key:"employeeList",value:function(){var e=this;try{this.employeeListAPI.getEmployeeList(this.status).subscribe((function(t){"success"===t.status&&(e.employeeDetails=t.data)}))}catch(t){console.log(t)}}},{key:"updateLeaveFormDetails",value:function(){var e=this;try{this.earnedLeaveUpdateAPI.existingEarnedLeaveDetails(this.earnedLeaveId,this.employeeId).subscribe((function(t){"success"===t.status&&(e.existingUpdateDetails=t.data,e.updateEarnedLeaveForm=e.fb.group({earnedLeave:new u.h({month:new u.f(e.existingUpdateDetails.month,u.v.required),year:new u.f(e.existingUpdateDetails.year,u.v.compose([u.v.required,u.v.pattern(/^(19|20)\d{2}$/)])),leaveCount:new u.f(e.existingUpdateDetails.leaveCount,u.v.compose([u.v.required,u.v.pattern(/(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,2})?$)/i)])),reason:new u.f(e.existingUpdateDetails.reason)}),employeeId:new u.f(e.existingUpdateDetails._id,u.v.required)}))}))}catch(t){console.log(t)}}},{key:"leaveUpdateForm",value:function(){try{this.updateEarnedLeaveForm=this.fb.group({earnedLeave:new u.h({month:new u.f("",u.v.required),year:new u.f("",u.v.compose([u.v.required,u.v.pattern(/^(19|20)\d{2}$/)])),leaveCount:new u.f("",u.v.compose([u.v.required,u.v.pattern(/(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,2})?$)/i)])),reason:new u.f("")}),employeeId:new u.f("",u.v.required)})}catch(e){console.log(e)}}},{key:"updateEarnedLeave",value:function(){var e=this;try{this.earnedLeaveUpdateAPI.updateEarnedLeave(this.updateEarnedLeaveForm.value,this.earnedLeaveId,this.employeeId).subscribe((function(t){"success"===t.status?(e.successMessage=!0,e.errorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.router.navigateByUrl("/pages/leave-management/list-earned-leave")}),2e3)):(e.errorMsg=!0,e.successMessage=!1,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(t){console.log(t)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}]),t}()).\u0275fac=function(e){return new(e||ae)(d.Tb(s.a),d.Tb(s.b),d.Tb(u.e),d.Tb(v.a),d.Tb(y.a),d.Tb(h))},ae.\u0275cmp=d.Nb({type:ae,selectors:[["app-update-earned-leave"]],decls:65,vars:11,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["formControlName","employeeId",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"row",3,"formGroup"],[1,"form-group","col-md-6"],["formControlName","month",1,"dropdown","dropdown-toggle","form-control"],["type","text","id","inputPhone","placeholder","Enter Year","formControlName","year",1,"form-control"],["type","email","id","inputEmail","placeholder","Enter Earned Leave balance ","formControlName","leaveCount",1,"form-control"],["type","email","id","inputEmail","placeholder","Enter Reason","formControlName","reason",1,"form-control"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","/pages/leave-management/list-earned-leave",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"dropdown-item",3,"value"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"h2",2),d.Ic(3,"Update Earned Leave"),d.Yb(),d.Yb(),d.Zb(4,"div",3),d.Zb(5,"div",4),d.Gc(6,R,3,1,"p",5),d.Yb(),d.Zb(7,"div",4),d.Gc(8,K,3,1,"p",6),d.Yb(),d.Zb(9,"form",7),d.gc("ngSubmit",(function(){return t.updateEarnedLeave()})),d.Zb(10,"div",8),d.Zb(11,"label",9),d.Zb(12,"b"),d.Ic(13,"Employee Name:\xa0"),d.Zb(14,"span",10),d.Ic(15,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(16,"div",4),d.Zb(17,"select",11),d.Zb(18,"option",12),d.Ic(19,"----------Select Employee----------"),d.Yb(),d.Gc(20,P,2,2,"option",13),d.Yb(),d.Gc(21,_,2,1,"div",14),d.Yb(),d.Yb(),d.Zb(22,"div",15),d.Zb(23,"div",16),d.Zb(24,"label",9),d.Zb(25,"b"),d.Ic(26,"Month:\xa0"),d.Zb(27,"span",10),d.Ic(28,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(29,"div",4),d.Zb(30,"select",17),d.Zb(31,"option",12),d.Ic(32,"----------Select Month----------"),d.Yb(),d.Gc(33,V,2,2,"option",13),d.Yb(),d.Gc(34,z,2,1,"div",14),d.Yb(),d.Yb(),d.Zb(35,"div",16),d.Zb(36,"label",9),d.Zb(37,"b"),d.Ic(38,"Year:\xa0"),d.Zb(39,"span",10),d.Ic(40,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(41,"div",4),d.Ub(42,"input",18),d.Gc(43,X,2,1,"div",14),d.Yb(),d.Yb(),d.Zb(44,"div",16),d.Zb(45,"label",9),d.Zb(46,"b"),d.Ic(47,"Earned Balance:\xa0(in days)\xa0"),d.Zb(48,"span",10),d.Ic(49,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(50,"div",4),d.Ub(51,"input",19),d.Gc(52,te,2,1,"div",14),d.Yb(),d.Yb(),d.Zb(53,"div",16),d.Zb(54,"label",9),d.Zb(55,"b"),d.Ic(56,"Reason:"),d.Yb(),d.Yb(),d.Zb(57,"div",4),d.Ub(58,"input",20),d.Yb(),d.Yb(),d.Yb(),d.Zb(59,"div",8),d.Zb(60,"div",21),d.Zb(61,"button",22),d.Ic(62,"Submit"),d.Yb(),d.Zb(63,"button",23),d.Ic(64,"Cancel"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb()),2&e&&(d.Hb(6),d.pc("ngIf",t.errorMsg),d.Hb(2),d.pc("ngIf",t.successMessage),d.Hb(1),d.pc("formGroup",t.updateEarnedLeaveForm),d.Hb(11),d.pc("ngForOf",t.employeeDetails),d.Hb(1),d.pc("ngForOf",t.earnedLeavevalidationMessage.employeeId),d.Hb(1),d.pc("formGroup",t.updateEarnedLeaveForm.get("earnedLeave")),d.Hb(11),d.pc("ngForOf",t.earnedLeaveMonths),d.Hb(1),d.pc("ngForOf",t.earnedLeavevalidationMessage.month),d.Hb(9),d.pc("ngForOf",t.earnedLeavevalidationMessage.year),d.Hb(9),d.pc("ngForOf",t.earnedLeavevalidationMessage.leaveCount),d.Hb(9),d.pc("disabled",t.updateEarnedLeaveForm.invalid))},directives:[c.m,u.x,u.o,u.i,u.u,u.n,u.g,u.q,u.w,c.l,u.c,s.c],styles:[""]}),ae),re=o("mrSG"),ie=((ne=function(){function t(a){e(this,t),this.http=a,this.endpoint=m.a.apiBaseUrl,this.headers=(new p.c).set("Contant-Type","application/x-www-form-urlencoded")}return a(t,[{key:"errorMgmt",value:function(e){try{var t="";return t=e.error instanceof ErrorEvent?e.error.message:"Error code:".concat(e.status,"\nMessage:").concat(t),console.log(t),Object(g.a)(t)}catch(a){console.log(a.message)}}},{key:"dateWiseAllLeaveList",value:function(e){try{var t=sessionStorage.getItem("companyId");return this.http.get("".concat(this.endpoint,"/all-employee/particular-date-leaves/").concat(t,"/").concat(e)).pipe(Object(f.a)(this.errorMgmt))}catch(a){console.log(a)}}},{key:"leaveActionTaken",value:function(e,t,a){try{return this.http.post("".concat(this.endpoint,"/user/activity-leave/").concat(t,"/").concat(a),e).pipe(Object(f.a)(this.errorMgmt))}catch(n){console.log(n)}}},{key:"dateWiseLeaveList",value:function(e,t){try{return this.http.get("".concat(this.endpoint,"/employee/particular-date-leaves/").concat(e,"/").concat(t)).pipe(Object(f.a)(this.errorMgmt))}catch(a){console.log(a)}}}]),t}()).\u0275fac=function(e){return new(e||ne)(d.dc(p.a))},ne.\u0275prov=d.Pb({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne);function ce(e,t){if(1&e&&(d.Zb(0,"option",28),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a._id),d.Hb(1),d.Kc(" ",a.name," ")}}function se(e,t){if(1&e&&(d.Zb(0,"option",28),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a),d.Hb(1),d.Kc(" ",a," ")}}function le(e,t){if(1&e){var a=d.ac();d.Zb(0,"tbody"),d.Zb(1,"tr"),d.Zb(2,"td"),d.Ic(3),d.Yb(),d.Zb(4,"td"),d.Ic(5),d.Yb(),d.Zb(6,"td"),d.Ic(7),d.Yb(),d.Zb(8,"td"),d.Ic(9),d.Yb(),d.Zb(10,"td"),d.Zb(11,"button",29),d.gc("click",(function(){d.Bc(a);var e=t.$implicit;return d.jc().leaveInfo(e._id)})),d.Ub(12,"i",30),d.Yb(),d.Ic(13,"\xa0 "),d.Zb(14,"select",31),d.gc("change",(function(e){d.Bc(a);var n=t.$implicit;return d.jc().actionTaken(e.target.value,n.requestToUserId,n._id)})),d.Zb(15,"option",9),d.Ic(16," Choose Action"),d.Yb(),d.Gc(17,se,2,2,"option",10),d.Yb(),d.Yb(),d.Yb(),d.Zb(18,"tr"),d.Zb(19,"td",32),d.Zb(20,"table",33),d.Zb(21,"tr"),d.Zb(22,"th"),d.Ic(23,"Request To TL/Manager:"),d.Yb(),d.Zb(24,"td"),d.Ic(25),d.Yb(),d.Zb(26,"th"),d.Ic(27,"Applied Date:"),d.Yb(),d.Zb(28,"td"),d.Ic(29),d.kc(30,"date"),d.kc(31,"date"),d.Yb(),d.Yb(),d.Zb(32,"tr"),d.Zb(33,"th"),d.Ic(34,"From Date:"),d.Yb(),d.Zb(35,"td"),d.Ic(36),d.kc(37,"date"),d.kc(38,"date"),d.Yb(),d.Zb(39,"th"),d.Ic(40,"From Leave For"),d.Yb(),d.Zb(41,"td"),d.Ic(42),d.Yb(),d.Yb(),d.Zb(43,"tr"),d.Zb(44,"th"),d.Ic(45,"To Date:"),d.Yb(),d.Zb(46,"td"),d.Ic(47),d.kc(48,"date"),d.kc(49,"date"),d.Yb(),d.Zb(50,"th"),d.Ic(51,"To Leave For"),d.Yb(),d.Zb(52,"td"),d.Ic(53),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb()}if(2&e){var n=t.$implicit,o=d.jc();d.Hb(3),d.Kc(" ",n.userName," "),d.Hb(2),d.Kc(" ",n.reason," "),d.Hb(2),d.Kc(" ",n.leaveTypeName," "),d.Hb(2),d.Kc(" ",n.status,""),d.Hb(8),d.pc("ngForOf",o.listActions),d.Hb(3),d.pc("hidden",o.showInfoCard[n._id]),d.Hb(5),d.Jc(n.requestToName),d.Hb(4),d.Lc("",d.mc(30,15,n.metaData.createdAt,"fullDate")," ",d.mc(31,18,n.metaData.createdAt,"shortTime"),""),d.Hb(7),d.Lc("",d.mc(37,21,n.fromDate,"fullDate")," ",d.mc(38,24,n.fromDate,"shortTime"),""),d.Hb(6),d.Jc(n.fromLeaveFor),d.Hb(5),d.Lc("",d.mc(48,27,n.toDate,"fullDate")," ",d.mc(49,30,n.toDate,"shortTime"),""),d.Hb(6),d.Jc(n.toLeaveFor)}}function de(e,t){if(1&e&&(d.Zb(0,"div"),d.Zb(1,"h3",34),d.Ic(2),d.Yb(),d.Yb()),2&e){var a=d.jc();d.Hb(2),d.Jc(a.leaveListMessage)}}var be,ue=((be=function(){function t(a,n){e(this,t),this.employeeListAPI=a,this.leaveListAPI=n,this.leaveListMessage="",this.listActions=["Approve","Reject","Sandwich"],this.showInfoCard={},this.status="Active"}return a(t,[{key:"ngOnInit",value:function(){this.employeeList(),this.filterDate=this.returnCurrentDate(),document.getElementById("leaveListDate").value=this.filterDate,this.dateWiseAllLeaveList()}},{key:"employeeList",value:function(){var e=this;try{this.employeeListAPI.getEmployeeList(this.status).subscribe((function(t){"success"===t.status&&(e.companyEmployeelist=t.data)}))}catch(t){console.log(t)}}},{key:"dateWiseAllLeaveList",value:function(){var e=this;try{this.leaveListAPI.dateWiseAllLeaveList(this.filterDate).subscribe((function(t){if("success"===t.status)if(0===t.data.length)e.leaveListMessage="No Data Found",e.companyEmployeeLeaveList=[];else{e.companyEmployeeLeaveList=t.data,e.showInfoCard={};for(var a=0;a<e.companyEmployeeLeaveList.length;a++)e.showInfoCard[e.companyEmployeeLeaveList[a]._id]=!0;e.leaveListMessage=""}}))}catch(t){console.log(t)}}},{key:"dateWiseLeaveList",value:function(e,t){var a=this;try{this.leaveListAPI.dateWiseLeaveList(e,t).subscribe((function(e){if("success"===e.status)if(0===e.data.length)a.leaveListMessage="No Data Found",a.companyEmployeeLeaveList=[];else{a.companyEmployeeLeaveList=e.data,a.showInfoCard={};for(var t=0;t<a.companyEmployeeLeaveList.length;t++)a.showInfoCard[a.companyEmployeeLeaveList[t]._id]=!0;a.leaveListMessage=""}}))}catch(n){console.log(n)}}},{key:"filterFunctionality",value:function(){try{if(""===document.getElementById("leaveListEmployee").value)""===document.getElementById("leaveListDate").value&&(document.getElementById("leaveListDate").value=this.returnCurrentDate(),this.filterDate=document.getElementById("leaveListDate").value,this.dateWiseAllLeaveList()),this.filterDate=document.getElementById("leaveListDate").value,this.dateWiseAllLeaveList();else{if(""===document.getElementById("leaveListDate").value){var e=document.getElementById("leaveListEmployee").value;document.getElementById("leaveListDate").value=this.returnCurrentDate(),this.filterDate=document.getElementById("leaveListDate").value,this.dateWiseLeaveList(e,this.filterDate)}var t=document.getElementById("leaveListEmployee").value;this.filterDate=document.getElementById("leaveListDate").value,this.dateWiseLeaveList(t,this.filterDate)}}catch(a){console.log(a)}}},{key:"resetFilter",value:function(){try{this.filterDate=this.returnCurrentDate(),document.getElementById("leaveListDate").value=this.filterDate,document.getElementById("leaveListEmployee").value="",this.dateWiseAllLeaveList()}catch(e){console.log(e)}}},{key:"resetActionList",value:function(){document.getElementById("actionList").value=""}},{key:"returnCurrentDate",value:function(){try{var e=new Date;return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"))}catch(t){console.log(t)}}},{key:"actionTaken",value:function(e,t,a){return Object(re.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{(o=O.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1})).fire({title:"Are you sure?",text:"You want to change leave status to "+e,type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then((function(n){return Object(re.b)(r,void 0,void 0,regeneratorRuntime.mark((function r(){var i,c,s=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.value){r.next=12;break}if("Reject"===e){r.next=5;break}this.leaveListAPI.leaveActionTaken({action:e,reason:""},t,a).subscribe((function(e){"success"===e.status?(s.filterFunctionality(),o.fire("Done",e.message,"success")):"error"===e.status&&o.fire(e.message),s.resetActionList()})),r.next=10;break;case 5:return r.next=7,O.a.fire({input:"textarea",inputPlaceholder:"Type your reason here...",inputAttributes:{"aria-label":"Type your reason here"},showCancelButton:!1});case 7:i=r.sent,(c=i.value)||O.a.fire("There is no reason given by you"),c&&this.leaveListAPI.leaveActionTaken({action:e,reason:c},t,a).subscribe((function(e){"success"===e.status?(s.filterFunctionality(),o.fire("Done",e.message,"success")):"error"===e.status&&o.fire("Error",e.message,"error"),s.resetActionList()}));case 10:r.next=13;break;case 12:n.dismiss===O.a.DismissReason.cancel&&(this.resetActionList(),o.fire("Cancelled","You didn't take any action","error"));case 13:case"end":return r.stop()}}),r,this)})))}))}catch(i){console.log(i.message)}case 1:case"end":return n.stop()}}),n)})))}},{key:"leaveInfo",value:function(e){try{this.showInfoCard[""+e]=!this.showInfoCard[""+e]}catch(t){console.log(t)}}}]),t}()).\u0275fac=function(e){return new(e||be)(d.Tb(v.a),d.Tb(ie))},be.\u0275cmp=d.Nb({type:be,selectors:[["app-list-leave"]],decls:55,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"form-row"],[1,"col-lg-3","col-md-3","col-sm-3"],[1,"form-group"],[1,"col-sm-4","control-label"],["id","leaveListEmployee",1,"dropdown","dropdown-toggle","form-control"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[1,"col-sm-6","control-label"],[1,"col-sm-offset-2"],["type","date","id","leaveListDate",1,"form-control"],[1,"form-group","right-buttongroup"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-filter"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash-restore"],["routerLink","/pages/leave-management/mark-absent",1,"btn","btn-primary"],[1,"fa","fa-plus-square"],[1,"card",2,"background-color","whitesmoke"],[1,"panel-body"],[1,"list-group"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dropdown-item",3,"value"],["title","Info",1,"btn","btn-primary",2,"color","white",3,"click"],[1,"fas","fa-binoculars"],["id","actionList",1,"dropdown","dropdown-toggle","form-control",3,"change"],["colspan","6"],[1,"table","card",2,"text-align","left","background-color","rgb(178, 218, 208)",3,"hidden"],[2,"text-align","center"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"h2",2),d.Ic(3,"Employee Leave List"),d.Yb(),d.Yb(),d.Zb(4,"div",3),d.Zb(5,"div",4),d.Zb(6,"div",5),d.Zb(7,"div",6),d.Zb(8,"label",7),d.Zb(9,"b"),d.Ic(10,"Employee Name:"),d.Yb(),d.Yb(),d.Zb(11,"select",8),d.Zb(12,"option",9),d.Ic(13,"Select Employee "),d.Yb(),d.Gc(14,ce,2,2,"option",10),d.Yb(),d.Yb(),d.Yb(),d.Zb(15,"div",5),d.Zb(16,"div",6),d.Zb(17,"label",11),d.Zb(18,"b"),d.Ic(19,"Date:"),d.Yb(),d.Yb(),d.Zb(20,"div",12),d.Ub(21,"input",13),d.Yb(),d.Yb(),d.Yb(),d.Zb(22,"div",5),d.Zb(23,"div",14),d.Zb(24,"button",15),d.gc("click",(function(){return t.filterFunctionality()})),d.Ub(25,"i",16),d.Ic(26,"\xa0 Filter"),d.Yb(),d.Zb(27,"button",17),d.gc("click",(function(){return t.resetFilter()})),d.Ub(28,"i",18),d.Ic(29,"\xa0 Reset"),d.Yb(),d.Yb(),d.Yb(),d.Zb(30,"div",5),d.Zb(31,"div",14),d.Zb(32,"button",19),d.Ub(33,"i",20),d.Ic(34,"\xa0 Mark Employee Absent"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(35,"div",3),d.Zb(36,"div",21),d.Zb(37,"div",22),d.Zb(38,"ul",23),d.Zb(39,"div",3),d.Zb(40,"table",24),d.Zb(41,"thead",25),d.Zb(42,"tr"),d.Zb(43,"th"),d.Ic(44,"Employee Name "),d.Yb(),d.Zb(45,"th"),d.Ic(46,"Reason "),d.Yb(),d.Zb(47,"th"),d.Ic(48,"Type"),d.Yb(),d.Zb(49,"th"),d.Ic(50,"Status"),d.Yb(),d.Zb(51,"th"),d.Ic(52,"Action"),d.Yb(),d.Yb(),d.Yb(),d.Gc(53,le,54,33,"tbody",26),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Gc(54,de,3,1,"div",27),d.Yb()),2&e&&(d.Hb(14),d.pc("ngForOf",t.companyEmployeelist),d.Hb(39),d.pc("ngForOf",t.companyEmployeeLeaveList),d.Hb(1),d.pc("ngIf",0!=t.leaveListMessage.length))},directives:[u.q,u.w,c.l,s.c,c.m],pipes:[c.e],styles:["td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:70%;float:right;background-color:#51bcda;border:0;color:#fff;font-weight:900}.form-group.right-buttongroup[_ngcontent-%COMP%]{white-space:nowrap;margin-top:14px}"]}),be),ve=o("wZQ7");function pe(e,t){if(1&e&&(d.Zb(0,"p",28),d.Zb(1,"strong"),d.Ic(2),d.Yb(),d.Yb()),2&e){var a=d.jc();d.Hb(2),d.Jc(a.errMsg)}}function me(e,t){if(1&e&&(d.Zb(0,"p",29),d.Zb(1,"strong"),d.Ic(2),d.Yb(),d.Yb()),2&e){var a=d.jc();d.Hb(2),d.Jc(a.successMsg)}}function ge(e,t){if(1&e&&(d.Zb(0,"option",30),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a._id),d.Hb(1),d.Kc(" ",a.name," ")}}function fe(e,t){if(1&e&&(d.Zb(0,"div",32),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function he(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,fe,2,1,"div",31),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEmployeeAbsentForm.get("userId").hasError(a.type)&&(n.addEmployeeAbsentForm.get("userId").dirty||n.addEmployeeAbsentForm.get("userId").touched))}}function ye(e,t){if(1&e&&(d.Zb(0,"option",30),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a._id),d.Hb(1),d.Kc(" ",a.displayName," ")}}function Ye(e,t){if(1&e&&(d.Zb(0,"div",32),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function Le(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,Ye,2,1,"div",31),d.Yb()),2&e){var a=t.$implicit,n=d.jc(2);d.Hb(1),d.pc("ngIf",n.addEmployeeAbsentForm.get("requestToUserId").hasError(a.type)&&(n.addEmployeeAbsentForm.get("requestToUserId").dirty||n.addEmployeeAbsentForm.get("requestToUserId").touched))}}function Ze(e,t){if(1&e&&(d.Zb(0,"div",9),d.Zb(1,"label",10),d.Zb(2,"b"),d.Ic(3,"TL/Manager Name:\xa0"),d.Zb(4,"span",11),d.Ic(5,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(6,"select",33),d.Zb(7,"option",13),d.Ic(8,"Select Employee"),d.Yb(),d.Gc(9,ye,2,2,"option",14),d.Yb(),d.Gc(10,Le,2,1,"div",15),d.Yb()),2&e){var a=d.jc();d.Hb(9),d.pc("ngForOf",a.employeeTlList),d.Hb(1),d.pc("ngForOf",a.absentFieldValidationMessage.requestToUserId)}}function Ie(e,t){if(1&e&&(d.Zb(0,"div",32),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function Ee(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,Ie,2,1,"div",31),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEmployeeAbsentForm.get("reason").hasError(a.type)&&(n.addEmployeeAbsentForm.get("reason").dirty||n.addEmployeeAbsentForm.get("reason").touched))}}function Fe(e,t){if(1&e&&(d.Zb(0,"option",30),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a.leaveTypeName),d.Hb(1),d.Kc(" ",a.leaveTypeName," ")}}function we(e,t){if(1&e&&(d.Zb(0,"div",32),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function He(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,we,2,1,"div",31),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEmployeeAbsentForm.get("leaveTypeId").hasError(a.type)&&(n.addEmployeeAbsentForm.get("leaveTypeId").dirty||n.addEmployeeAbsentForm.get("leaveTypeId").touched))}}function Me(e,t){if(1&e&&(d.Zb(0,"div",32),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function De(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,Me,2,1,"div",31),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEmployeeAbsentForm.get("fromDate").hasError(a.type)&&(n.addEmployeeAbsentForm.get("fromDate").dirty||n.addEmployeeAbsentForm.get("fromDate").touched))}}function ke(e,t){if(1&e&&(d.Zb(0,"div",35),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function Ae(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,ke,2,1,"div",34),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEmployeeAbsentForm.get("toDate").hasError(a.type)&&(n.addEmployeeAbsentForm.get("toDate").dirty||n.addEmployeeAbsentForm.get("toDate").touched))}}function Te(e,t){if(1&e&&(d.Zb(0,"option",30),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a),d.Hb(1),d.Kc(" ",a," ")}}function Ce(e,t){if(1&e&&(d.Zb(0,"div",32),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function qe(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,Ce,2,1,"div",31),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEmployeeAbsentForm.get("fromLeaveFor").hasError(a.type)&&(n.addEmployeeAbsentForm.get("fromLeaveFor").dirty||n.addEmployeeAbsentForm.get("fromLeaveFor").touched))}}function Oe(e,t){if(1&e&&(d.Zb(0,"option",30),d.Ic(1),d.Yb()),2&e){var a=t.$implicit;d.qc("value",a),d.Hb(1),d.Kc(" ",a," ")}}function Ge(e,t){if(1&e&&(d.Zb(0,"div",32),d.Ic(1),d.Yb()),2&e){var a=d.jc().$implicit;d.Hb(1),d.Kc(" ",a.message," ")}}function je(e,t){if(1&e&&(d.Zb(0,"div"),d.Gc(1,Ge,2,1,"div",31),d.Yb()),2&e){var a=t.$implicit,n=d.jc();d.Hb(1),d.pc("ngIf",n.addEmployeeAbsentForm.get("toLeaveFor").hasError(a.type)&&(n.addEmployeeAbsentForm.get("toLeaveFor").dirty||n.addEmployeeAbsentForm.get("toLeaveFor").touched))}}var $e,Be,xe,Ne=[{path:"",component:b,canActivate:[l.a],children:[{path:"list-earned-leave",component:S},{path:"add-earned-leave",component:C},{path:"update-earned-leave/:earnedLeaveId/:employeeId",component:oe},{path:"list-leave",component:ue},{path:"mark-absent",component:($e=function(){function t(a,n,o,r,i,c){e(this,t),this.fb=a,this.employeeListAPI=n,this.api=o,this.router=r,this.util=i,this.ngZone=c,this.formToLeaveFor=["First Half","Second Half","Full Day"],this.showCard={},this.showTlOption=!1,this.status="Active",this.absentFieldValidationMessage={userId:[{type:"required",message:"Employee Name is Required"}],reason:[{type:"required",message:"Leave Reason is Required"}],leaveTypeId:[{type:"required",message:"Leave Type is Required"}],fromDate:[{type:"required",message:"Start Date is Required"}],toDate:[{type:"required",message:"To Date is Required"}],fromLeaveFor:[{type:"required",message:"From Leave is Required"}],toLeaveFor:[{type:"required",message:"To Leave is Required"}],requestToUserId:[{type:"required",message:"TL/Manager Name is Required"}]}}return a(t,[{key:"ngOnInit",value:function(){this.manangeEmployeeLeave(),this.leaveList(),this.getEmployeeList()}},{key:"manangeEmployeeLeave",value:function(){try{this.addEmployeeAbsentForm=this.fb.group({userId:new u.f("",u.v.required),reason:new u.f("",u.v.required),leaveTypeId:new u.f("",u.v.required),fromDate:new u.f("",u.v.required),toDate:new u.f("",u.v.required),fromLeaveFor:new u.f("",u.v.required),toLeaveFor:new u.f("",u.v.required),status:new u.f("Unsanctioned",u.v.required),requestToUserId:new u.f("",u.v.required)})}catch(e){console.log(e)}}},{key:"DateCheck",value:function(){var e=document.getElementById("txtStartDate").value,t=document.getElementById("txtEndDate").value,a=new Date(t),n=new Date(e);""!=e&&""!=e&&n>a&&(alert("Please ensure that the End Date is after than the Start Date."),document.getElementById("txtEndDate").value="")}},{key:"leaveList",value:function(){var e=this;try{this.api.getListData().subscribe((function(t){if("success"===t.status)if(e.leaveListData=t.leaveTypes,0==t.leaveTypes[0].length);else for(var a=Object.keys(e.leaveListData).length,n=0;n<a;n++)e.showCard[e.leaveListData[n]._id]=!0}))}catch(t){console.log(t.message)}}},{key:"getEmployeeList",value:function(){var e=this;try{this.employeeListAPI.getEmployeeList(this.status).subscribe((function(t){"success"===t.status&&(e.employeeList=t.data)}))}catch(t){console.log(t)}}},{key:"getEmployeeTL",value:function(e){var t=this;try{this.employeeListAPI.employeeTlList(e).subscribe((function(e){"success"===e.status&&(t.employeeTlList=e.data.parentUsersIds,t.showTlOption=!0)}))}catch(a){console.log(a)}}},{key:"markEmployeeAbsent",value:function(){var e=this;try{this.api.markEmployeeAbsent(this.addEmployeeAbsentForm.value,this.addEmployeeAbsentForm.get("userId").value).subscribe((function(t){"success"===t.status?(e.successMessage=!0,e.successMsg=t.message,e.errorMsg=!1,setTimeout((function(){e.handleErrors(),e.ngZone.run((function(){return e.router.navigateByUrl("/pages/leave-management/list-leave")}))}),2e3)):"error"===t.status&&(e.successMessage=!1,e.errMsg=t.message,e.errorMsg=!0,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(t){console.log(t)}}},{key:"handleErrors",value:function(){this.successMessage=!1,this.successMsg="",this.errorMsg=!1,this.errMsg=""}}]),t}(),$e.\u0275fac=function(e){return new(e||$e)(d.Tb(u.e),d.Tb(v.a),d.Tb(ve.a),d.Tb(s.b),d.Tb(y.a),d.Tb(d.E))},$e.\u0275cmp=d.Nb({type:$e,selectors:[["app-mark-absent"]],decls:98,vars:16,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title",2,"text-align","center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["id","absentLeave","formControlName","userId",1,"dropdown","dropdown-toggle","form-control",3,"change"],["ng-selected","true","value","","disabled","","selected","",1,"dropdown-item"],["class","dropdown-item",3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","form-group col-md-6",4,"ngIf"],["type","text","id","leaveReason","placeholder","Enter Leave Reason","formControlName","reason",1,"form-control"],["id","absentLeave","formControlName","leaveTypeId",1,"dropdown","dropdown-toggle","form-control"],["type","date","id","txtStartDate","placeholder","Enter From Date","formControlName","fromDate",1,"form-control",3,"change"],["type","date","id","txtEndDate","placeholder","Enter To Date","formControlName","toDate",1,"form-control",3,"change"],["formControlName","fromLeaveFor",1,"dropdown","dropdown-toggle","form-control"],["formControlName","toLeaveFor",1,"dropdown","dropdown-toggle","form-control"],["type","text","formControlName","status","disabled","",1,"form-control"],[1,"form-group"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-leave",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"dropdown-item",3,"value"],["style","color: red;margin-left: 1%;","style","color: red;margin-left: 1%;",4,"ngIf"],[2,"color","red","margin-left","1%"],["id","absentLeave","formControlName","requestToUserId",1,"dropdown","dropdown-toggle","form-control"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"h2",2),d.Ic(3,"Employee Absent Details"),d.Yb(),d.Yb(),d.Zb(4,"div",3),d.Zb(5,"div",4),d.Gc(6,pe,3,1,"p",5),d.Yb(),d.Zb(7,"div",4),d.Gc(8,me,3,1,"p",6),d.Yb(),d.Zb(9,"form",7),d.gc("ngSubmit",(function(){return t.markEmployeeAbsent()})),d.Zb(10,"div",8),d.Zb(11,"div",9),d.Zb(12,"label",10),d.Zb(13,"b"),d.Ic(14,"Employee Name:\xa0"),d.Zb(15,"span",11),d.Ic(16,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(17,"select",12),d.gc("change",(function(e){return t.getEmployeeTL(e.target.value)})),d.Zb(18,"option",13),d.Ic(19,"Select Employee"),d.Yb(),d.Gc(20,ge,2,2,"option",14),d.Yb(),d.Gc(21,he,2,1,"div",15),d.Yb(),d.Gc(22,Ze,11,2,"div",16),d.Zb(23,"div",9),d.Zb(24,"label",10),d.Zb(25,"b"),d.Ic(26,"Reason:\xa0"),d.Zb(27,"span",11),d.Ic(28,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(29,"div",4),d.Ub(30,"input",17),d.Gc(31,Ee,2,1,"div",15),d.Yb(),d.Yb(),d.Zb(32,"div",9),d.Zb(33,"label",10),d.Zb(34,"b"),d.Ic(35,"Type:\xa0"),d.Zb(36,"span",11),d.Ic(37,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(38,"div",4),d.Zb(39,"select",18),d.Zb(40,"option",13),d.Ic(41,"Enter Leave Type"),d.Yb(),d.Gc(42,Fe,2,2,"option",14),d.Yb(),d.Gc(43,He,2,1,"div",15),d.Yb(),d.Yb(),d.Zb(44,"div",9),d.Zb(45,"label",10),d.Zb(46,"b"),d.Ic(47,"From Date:\xa0"),d.Zb(48,"span",11),d.Ic(49,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(50,"div",4),d.Zb(51,"input",19),d.gc("change",(function(){return t.DateCheck()})),d.Yb(),d.Gc(52,De,2,1,"div",15),d.Yb(),d.Yb(),d.Zb(53,"div",9),d.Zb(54,"label",10),d.Zb(55,"b"),d.Ic(56,"To Date:\xa0"),d.Zb(57,"span",11),d.Ic(58,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(59,"div",4),d.Zb(60,"input",20),d.gc("change",(function(){return t.DateCheck()})),d.Yb(),d.Gc(61,Ae,2,1,"div",15),d.Yb(),d.Yb(),d.Zb(62,"div",9),d.Zb(63,"label",10),d.Zb(64,"b"),d.Ic(65,"From Leave For:\xa0"),d.Zb(66,"span",11),d.Ic(67,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(68,"div",4),d.Zb(69,"select",21),d.Zb(70,"option",13),d.Ic(71,"Enter From Leave For"),d.Yb(),d.Gc(72,Te,2,2,"option",14),d.Yb(),d.Gc(73,qe,2,1,"div",15),d.Yb(),d.Yb(),d.Zb(74,"div",9),d.Zb(75,"label",10),d.Zb(76,"b"),d.Ic(77,"To Leave For:\xa0"),d.Zb(78,"span",11),d.Ic(79,"*"),d.Yb(),d.Yb(),d.Yb(),d.Zb(80,"div",4),d.Zb(81,"select",22),d.Zb(82,"option",13),d.Ic(83,"Enter To Leave For"),d.Yb(),d.Gc(84,Oe,2,2,"option",14),d.Yb(),d.Gc(85,je,2,1,"div",15),d.Yb(),d.Yb(),d.Zb(86,"div",9),d.Zb(87,"label",10),d.Zb(88,"b"),d.Ic(89,"Leave Status:"),d.Yb(),d.Yb(),d.Zb(90,"div",4),d.Ub(91,"input",23),d.Yb(),d.Yb(),d.Yb(),d.Zb(92,"div",24),d.Zb(93,"div",25),d.Zb(94,"button",26),d.Ic(95,"Submit"),d.Yb(),d.Zb(96,"button",27),d.Ic(97,"Cancel"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb()),2&e&&(d.Hb(6),d.pc("ngIf",t.errorMsg),d.Hb(2),d.pc("ngIf",t.successMessage),d.Hb(1),d.pc("formGroup",t.addEmployeeAbsentForm),d.Hb(11),d.pc("ngForOf",t.employeeList),d.Hb(1),d.pc("ngForOf",t.absentFieldValidationMessage.userId),d.Hb(1),d.pc("ngIf",t.showTlOption),d.Hb(9),d.pc("ngForOf",t.absentFieldValidationMessage.reason),d.Hb(11),d.pc("ngForOf",t.leaveListData),d.Hb(1),d.pc("ngForOf",t.absentFieldValidationMessage.leaveTypeId),d.Hb(9),d.pc("ngForOf",t.absentFieldValidationMessage.fromDate),d.Hb(9),d.pc("ngForOf",t.absentFieldValidationMessage.toDate),d.Hb(11),d.pc("ngForOf",t.formToLeaveFor),d.Hb(1),d.pc("ngForOf",t.absentFieldValidationMessage.fromLeaveFor),d.Hb(11),d.pc("ngForOf",t.formToLeaveFor),d.Hb(1),d.pc("ngForOf",t.absentFieldValidationMessage.toLeaveFor),d.Hb(9),d.pc("disabled",t.addEmployeeAbsentForm.invalid))},directives:[c.m,u.x,u.o,u.i,u.u,u.n,u.g,u.q,u.w,c.l,u.c,s.c],styles:[""]}),$e)},{path:"",redirectTo:"list-earned-leave",pathMatch:"full"}]}],Ue=((Be=function t(){e(this,t)}).\u0275mod=d.Rb({type:Be}),Be.\u0275inj=d.Qb({factory:function(e){return new(e||Be)},imports:[[c.c,s.f.forChild(Ne)]]}),Be),Se=o("JqCM"),Re=((xe=function t(){e(this,t)}).\u0275mod=d.Rb({type:xe}),xe.\u0275inj=d.Qb({factory:function(e){return new(e||xe)},imports:[[c.c,s.f,Ue,u.s,u.j,Se.b]]}),xe)}}])}();
//# sourceMappingURL=22-es5.5ee08e6c695f238991f1.js.map