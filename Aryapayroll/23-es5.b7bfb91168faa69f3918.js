!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{ka8b:function(t,s,i){"use strict";i.r(s),i.d(s,"LeavetypesModule",(function(){return S}));var r,n=i("ofXK"),o=i("tyNb"),c=i("fXoL"),l=((r=function(){function t(){e(this,t)}return a(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Nb({type:r,selectors:[["app-leave-types"]],decls:1,vars:0,template:function(e,t){1&e&&c.Ub(0,"router-outlet")},directives:[o.g],styles:[""]}),r),b=i("CG1p"),u=i("PSD3"),p=i.n(u),v=i("wZQ7"),d=i("cnwL");function f(e,t){1&e&&(c.Zb(0,"td"),c.Ub(1,"i",12),c.Yb())}function m(e,t){1&e&&(c.Zb(0,"td"),c.Ub(1,"i",13),c.Yb())}function g(e,t){if(1&e){var a=c.ac();c.Zb(0,"tbody"),c.Zb(1,"tr"),c.Zb(2,"td"),c.Zb(3,"b"),c.Ic(4),c.Yb(),c.Yb(),c.Zb(5,"td"),c.Ic(6),c.Yb(),c.Zb(7,"td"),c.Ic(8),c.Yb(),c.Gc(9,f,2,0,"td",7),c.Gc(10,m,2,0,"td",7),c.Zb(11,"td"),c.Zb(12,"a",8),c.Ub(13,"i",9),c.Yb(),c.Ic(14,"\xa0 "),c.Zb(15,"button",10),c.gc("click",(function(){c.Bc(a);var e=t.$implicit;return c.jc().showConfirmationMessage(e._id)})),c.Ub(16,"i",11),c.Yb(),c.Yb(),c.Yb(),c.Yb()}if(2&e){var s=t.$implicit,i=t.index,r=c.jc();c.Hb(4),c.Kc("",i+1,"."),c.Hb(2),c.Jc(s.leaveTypeName),c.Hb(2),c.Jc(s.leaveTypeCode),c.Hb(1),c.pc("ngIf",s.isPaid),c.Hb(1),c.pc("ngIf",!s.isPaid),c.Hb(2),c.Lb("disabled",-1===r.permissionInfo.search("Edit LeaveType")),c.rc("routerLink","/pages/leave-types/update-leave-type/",s._id,""),c.Hb(3),c.pc("disabled",-1===r.permissionInfo.search("Delete LeaveType"))}}var y,h=((y=function(){function t(a,s,i,r){e(this,t),this.api=a,this.route=s,this._Activatedroute=i,this.util=r,this.showCard={},this.leaveListData=[],this.companyShowData=[]}return a(t,[{key:"ngOnInit",value:function(){this.permissionInfo=this.util.permissionRoleInfo,this.leaveList()}},{key:"leaveList",value:function(){var e=this;try{this.api.getListData().subscribe((function(t){if("success"===t.status||200===t.status)if(e.leaveListData=t.leaveTypes,0==t.leaveTypes.length)e.route.navigateByUrl("/pages/leave-types/add-leave-types");else for(var a=Object.keys(e.leaveListData).length,s=0;s<a;s++)e.showCard[e.leaveListData[s]._id]=!0}))}catch(t){console.log(t.message)}}},{key:"showData",value:function(e){this.showCard[""+e]=!this.showCard[""+e]}},{key:"showConfirmationMessage",value:function(e){var t=this,a=p.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});a.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then((function(s){s.value?t.api.removeData(e).subscribe((function(e){"success"!==e.status&&200!==e.status||(a.fire("Deleted!",e.message,"success"),t.leaveList())})):s.dismiss===p.a.DismissReason.cancel&&a.fire("Cancelled","Your list data safe","error")}))}},{key:"addLeaveTypes",value:function(){try{this.util.leaveStatus=1}catch(e){console.log(e)}}}]),t}()).\u0275fac=function(e){return new(e||y)(c.Tb(v.a),c.Tb(o.b),c.Tb(o.a),c.Tb(d.a))},y.\u0275cmp=c.Nb({type:y,selectors:[["app-list-leave-types"]],decls:21,vars:2,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["type","button","routerLink","/pages/leave-types/add-leave-types",1,"btn","btn-primary",2,"float","right",3,"disabled","click"],[1,"fa","fa-plus-square"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash"],[1,"fa","fa-check",2,"color","green","font-size","25px"],[1,"fa","fa-times",2,"color","red","font-size","25px"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2"),c.Ic(3,"Leave Types"),c.Yb(),c.Zb(4,"button",2),c.gc("click",(function(){return t.addLeaveTypes()})),c.Ub(5,"i",3),c.Ic(6,"\xa0 Add Leave Type"),c.Yb(),c.Yb(),c.Zb(7,"table",4),c.Zb(8,"thead",5),c.Zb(9,"tr"),c.Zb(10,"th"),c.Ic(11,"S.No"),c.Yb(),c.Zb(12,"th"),c.Ic(13,"Name"),c.Yb(),c.Zb(14,"th"),c.Ic(15,"Code"),c.Yb(),c.Zb(16,"th"),c.Ic(17,"Is Paid"),c.Yb(),c.Zb(18,"th"),c.Ic(19,"Action"),c.Yb(),c.Yb(),c.Yb(),c.Gc(20,g,17,9,"tbody",6),c.Yb(),c.Yb()),2&e&&(c.Hb(4),c.pc("disabled",-1===t.permissionInfo.search("Create LeaveType")),c.Hb(16),c.pc("ngForOf",t.leaveListData))},directives:[o.c,n.l,n.m,o.e],encapsulation:2}),y),Z=i("3Pt+"),Y=i("H+bZ");function T(e,t){if(1&e&&(c.Zb(0,"p",18),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.errMsg)}}function I(e,t){if(1&e&&(c.Zb(0,"p",19),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.successMsg)}}function C(e,t){if(1&e&&(c.Zb(0,"div",21),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function L(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,C,2,1,"div",20),c.Yb()),2&e){var a=t.$implicit,s=c.jc();c.Hb(1),c.pc("ngIf",s.leaveForm.get("leaveTypeName").hasError(a.type)&&(s.leaveForm.get("leaveTypeName").dirty||s.leaveForm.get("leaveTypeName").touched))}}function M(e,t){if(1&e&&(c.Zb(0,"div",21),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function N(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,M,2,1,"div",20),c.Yb()),2&e){var a=t.$implicit,s=c.jc();c.Hb(1),c.pc("ngIf",s.leaveForm.get("leaveTypeCode").hasError(a.type)&&(s.leaveForm.get("leaveTypeCode").dirty||s.leaveForm.get("leaveTypeCode").touched))}}function F(e,t){if(1&e&&(c.Zb(0,"p",19),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.errMsg)}}function w(e,t){if(1&e&&(c.Zb(0,"p",20),c.Zb(1,"strong"),c.Ic(2),c.Yb(),c.Yb()),2&e){var a=c.jc();c.Hb(2),c.Jc(a.successMsg)}}function k(e,t){if(1&e&&(c.Zb(0,"div",22),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function H(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,k,2,1,"div",21),c.Yb()),2&e){var a=t.$implicit,s=c.jc();c.Hb(1),c.pc("ngIf",s.leaveForm1.get("leaveTypeName").hasError(a.type)&&(s.leaveForm1.get("leaveTypeName").dirty||s.leaveForm1.get("leaveTypeName").touched))}}function D(e,t){if(1&e&&(c.Zb(0,"div",22),c.Ic(1),c.Yb()),2&e){var a=c.jc().$implicit;c.Hb(1),c.Kc(" ",a.message," ")}}function x(e,t){if(1&e&&(c.Zb(0,"div"),c.Gc(1,D,2,1,"div",21),c.Yb()),2&e){var a=t.$implicit,s=c.jc();c.Hb(1),c.pc("ngIf",s.leaveForm1.get("leaveTypeCode").hasError(a.type)&&(s.leaveForm1.get("leaveTypeCode").dirty||s.leaveForm1.get("leaveTypeCode").touched))}}var j,E,G,U,q=[{path:"",component:l,canActivate:[b.a],children:[{path:"list-leave-types",component:h},{path:"add-leave-types",component:(E=function(){function t(a,s,i,r,n,o){e(this,t),this._api=a,this.fb=s,this.ngZone=i,this.router=r,this.api=n,this.util=o,this.successMsg=String,this.successMessage=!1,this.errMsg=String,this.errorMsg=!1,this.companyListData=Object,this.companyName=[],this.validationMessage={leaveTypeName:[{type:"required",message:"Name is required"}],leaveTypeCode:[{type:"required",message:"Code is required"}]},this.isListAvaliable()}return a(t,[{key:"ngOnInit",value:function(){this.permissionInfo=this.util.permissionRoleInfo,this.companyDataValidate(),-1===this.permissionInfo.search("Create LeaveType")&&this.leaveForm.disable()}},{key:"companyDataValidate",value:function(){try{this.leaveForm=this.fb.group({leaveTypeName:new Z.f("",Z.v.required),leaveTypeCode:new Z.f("",Z.v.required),isPaid:new Z.f(!1)})}catch(e){console.log(e)}}},{key:"leaveFormData",value:function(){var e=this;try{var t=this.util.cleanFormLevelOne(this.leaveForm);this.leaveForm.value&&this.api.leaveDataSubmit(t.value).subscribe((function(t){"success"===t.status||200===t.status?(e.successMessage=!0,e.errorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.ngZone.run((function(){return e.router.navigateByUrl("/pages/leave-types/list-leave-types")}))}),2e3)):"error"!==t.status&&404!==t.status||(e.errorMsg=!0,e.successMessage=!1,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(a){console.log(a)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}},{key:"isListAvaliable",value:function(){var e=this;try{this.api.getListData().subscribe((function(t){"success"===t.status&&t.leaveTypes.length>0&&1!==e.util.leaveStatus&&(e.router.navigateByUrl("/pages/leave-types/list-leave-types"),e.util.leaveStatus=0)}))}catch(t){console.log(t)}}}]),t}(),E.\u0275fac=function(e){return new(e||E)(c.Tb(Y.a),c.Tb(Z.e),c.Tb(c.E),c.Tb(o.b),c.Tb(v.a),c.Tb(d.a))},E.\u0275cmp=c.Nb({type:E,selectors:[["app-add-leave-types"]],decls:42,vars:6,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","inputName","placeholder","Enter Name","formControlName","leaveTypeName","required","",1,"form-control"],[4,"ngFor","ngForOf"],["type","text","id","inputName","placeholder","Enter Code","formControlName","leaveTypeCode","required","",1,"form-control"],["type","checkbox","formControlName","isPaid"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-leave-types",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Leave Type Details"),c.Yb(),c.Yb(),c.Zb(4,"div",3),c.Zb(5,"div",4),c.Gc(6,T,3,1,"p",5),c.Yb(),c.Zb(7,"div",4),c.Gc(8,I,3,1,"p",6),c.Yb(),c.Zb(9,"form",7),c.gc("ngSubmit",(function(){return t.leaveFormData()})),c.Zb(10,"div",8),c.Ic(11," \xa0"),c.Zb(12,"label",9),c.Zb(13,"b"),c.Ic(14,"Leave Type Name: "),c.Zb(15,"span",10),c.Ic(16,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(17,"div",4),c.Ub(18,"input",11),c.Gc(19,L,2,1,"div",12),c.Yb(),c.Yb(),c.Zb(20,"div",8),c.Ic(21," \xa0"),c.Zb(22,"label",9),c.Zb(23,"b"),c.Ic(24,"Leave Type Code: "),c.Zb(25,"span",10),c.Ic(26,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(27,"div",4),c.Ub(28,"input",13),c.Gc(29,N,2,1,"div",12),c.Yb(),c.Yb(),c.Zb(30,"div",8),c.Zb(31,"div",4),c.Zb(32,"label"),c.Zb(33,"b"),c.Ic(34,"Is Paid: "),c.Yb(),c.Yb(),c.Ub(35,"input",14),c.Yb(),c.Yb(),c.Zb(36,"div",8),c.Zb(37,"div",15),c.Zb(38,"button",16),c.Ic(39,"Submit"),c.Yb(),c.Zb(40,"button",17),c.Ic(41,"Cancel"),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Hb(6),c.pc("ngIf",t.errorMsg),c.Hb(2),c.pc("ngIf",t.successMessage),c.Hb(1),c.pc("formGroup",t.leaveForm),c.Hb(10),c.pc("ngForOf",t.validationMessage.leaveTypeName),c.Hb(10),c.pc("ngForOf",t.validationMessage.leaveTypeCode),c.Hb(9),c.pc("disabled",t.leaveForm.invalid||-1===t.permissionInfo.search("Create LeaveType")))},directives:[n.m,Z.x,Z.o,Z.i,Z.c,Z.n,Z.g,Z.t,n.l,Z.b,o.c],encapsulation:2}),E)},{path:"update-leave-type/:leaveTypeId",component:(j=function(){function t(a,s,i,r,n,o){var c=this;e(this,t),this.fb=a,this.router=s,this.ngZone=i,this.route=r,this.api=n,this.util=o,this.successMsg=String,this.successMessage=!1,this.errMsg=String,this.errorMsg=!1,this.companyNameStore=[],this.companyName=[],this.leaveData=[],this.leaveFormData=Object,this.validationMessage={leaveTypeName:[{type:"required",message:"Name is required"}],leaveTypeCode:[{type:"required",message:"Code is required"}]},this.leaveTypeId=this.route.snapshot.paramMap.get("leaveTypeId"),this.util.moduleExists(this.leaveTypeId,"LeaveTypes").subscribe((function(e){"success"===e.status&&(e.data||c.router.navigateByUrl("/pages/leave-types/list-leave-types"))}))}return a(t,[{key:"ngOnInit",value:function(){this.permissionInfo=this.util.permissionRoleInfo,this.companyDataValidate(),this.existingLeaveTypeValues(),-1===this.permissionInfo.search("Edit LeaveType")&&this.leaveForm1.disable()}},{key:"companyDataValidate",value:function(){try{this.leaveForm1=this.fb.group({leaveTypeName:new Z.f("",Z.v.required),leaveTypeCode:new Z.f("",Z.v.required),isPaid:new Z.f(!1)})}catch(e){console.log(e.message)}}},{key:"existingLeaveTypeValues",value:function(){var e=this;try{this.api.leaveTypeDetails(this.leaveTypeId).subscribe((function(t){"success"!==t.status&&200!==t.status||(e.existingData=t.data,e.leaveForm1=e.fb.group({leaveTypeName:new Z.f(e.existingData.leaveTypeName,Z.v.required),leaveTypeCode:new Z.f(e.existingData.leaveTypeCode,Z.v.required),isPaid:new Z.f(e.existingData.isPaid)}))}))}catch(t){console.log(t)}}},{key:"updateLeaveFormData",value:function(){var e=this;try{var t=this.util.cleanFormLevelOne(this.leaveForm1);this.leaveForm1.value&&this.api.updateLeaveType(t.value,this.leaveTypeId).subscribe((function(t){"success"===t.status||200===t.status?(e.successMessage=!0,e.errorMsg=!1,e.successMsg=t.message,setTimeout((function(){e.handleErrors(),e.ngZone.run((function(){return e.router.navigateByUrl("/pages/leave-types/list-leave-types")}))}),2e3)):"error"==t.status&&(e.errorMsg=!0,e.successMessage=!1,e.errMsg=t.message,setTimeout((function(){e.handleErrors()}),3e3))}))}catch(a){console.log(a.message)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}]),t}(),j.\u0275fac=function(e){return new(e||j)(c.Tb(Z.e),c.Tb(o.b),c.Tb(c.E),c.Tb(o.a),c.Tb(v.a),c.Tb(d.a))},j.\u0275cmp=c.Nb({type:j,selectors:[["app-update-leave-type"]],decls:39,vars:6,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","inputName","placeholder","Enter Name","formControlName","leaveTypeName",1,"form-control"],[4,"ngFor","ngForOf"],["type","text","id","inputName1","placeholder","Enter Code","formControlName","leaveTypeCode",1,"form-control"],[1,"control-label"],["type","checkbox","formControlName","isPaid"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../../list-leave-types",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(e,t){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"h2",2),c.Ic(3,"Update Leave Type"),c.Yb(),c.Yb(),c.Zb(4,"div",3),c.Zb(5,"div",4),c.Gc(6,F,3,1,"p",5),c.Yb(),c.Zb(7,"div",4),c.Gc(8,w,3,1,"p",6),c.Yb(),c.Zb(9,"form",7),c.gc("ngSubmit",(function(){return t.updateLeaveFormData()})),c.Zb(10,"div",8),c.Zb(11,"label",9),c.Zb(12,"b"),c.Ic(13,"Leave Type Name: "),c.Zb(14,"span",10),c.Ic(15,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(16,"div",4),c.Ub(17,"input",11),c.Gc(18,H,2,1,"div",12),c.Yb(),c.Yb(),c.Zb(19,"div",8),c.Zb(20,"label",9),c.Zb(21,"b"),c.Ic(22,"Leave Type Code: "),c.Zb(23,"span",10),c.Ic(24,"*"),c.Yb(),c.Yb(),c.Yb(),c.Zb(25,"div",4),c.Ub(26,"input",13),c.Gc(27,x,2,1,"div",12),c.Yb(),c.Yb(),c.Zb(28,"div",8),c.Zb(29,"label",14),c.Zb(30,"b"),c.Ic(31,"Is Paid:"),c.Yb(),c.Yb(),c.Ub(32,"input",15),c.Yb(),c.Zb(33,"div",8),c.Zb(34,"div",16),c.Zb(35,"button",17),c.Ic(36,"Update"),c.Yb(),c.Zb(37,"button",18),c.Ic(38,"Cancel"),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Hb(6),c.pc("ngIf",t.errorMsg),c.Hb(2),c.pc("ngIf",t.successMessage),c.Hb(1),c.pc("formGroup",t.leaveForm1),c.Hb(9),c.pc("ngForOf",t.validationMessage.leaveTypeName),c.Hb(9),c.pc("ngForOf",t.validationMessage.leaveTypeCode),c.Hb(8),c.pc("disabled",-1===t.permissionInfo.search("Edit LeaveType")||t.leaveForm1.invalid))},directives:[n.m,Z.x,Z.o,Z.i,Z.c,Z.n,Z.g,n.l,Z.b,o.c],encapsulation:2}),j)},{path:"",redirectTo:"list-leave-types",pathMatch:"full"}]}],O=((U=function t(){e(this,t)}).\u0275mod=c.Rb({type:U}),U.\u0275inj=c.Qb({factory:function(e){return new(e||U)},imports:[[n.c,o.f.forChild(q)]]}),U),S=((G=function t(){e(this,t)}).\u0275mod=c.Rb({type:G}),G.\u0275inj=c.Qb({factory:function(e){return new(e||G)},imports:[[n.c,O,Z.j,Z.s,o.f]]}),G)}}])}();
//# sourceMappingURL=23-es5.b7bfb91168faa69f3918.js.map