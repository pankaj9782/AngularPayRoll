!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{pkwT:function(e,a,r){"use strict";r.r(a),r.d(a,"JobCategoryModule",(function(){return L}));var s,i=r("ofXK"),c=r("tyNb"),n=r("fXoL"),b=((s=function(){function e(){t(this,e)}return o(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||s)},s.\u0275cmp=n.Nb({type:s,selectors:[["app-job-category"]],decls:1,vars:0,template:function(t,e){1&t&&n.Ub(0,"router-outlet")},directives:[c.g],styles:[""]}),s),u=r("CG1p"),l=r("PSD3"),g=r.n(l),f=r("VFOk"),d=r("cnwL");function m(t,e){1&t&&(n.Zb(0,"td"),n.Ub(1,"i",12),n.Yb())}function p(t,e){1&t&&(n.Zb(0,"td"),n.Ub(1,"i",13),n.Yb())}function y(t,e){if(1&t){var o=n.ac();n.Zb(0,"tbody"),n.Zb(1,"tr"),n.Zb(2,"td"),n.Zb(3,"b"),n.Ic(4),n.Yb(),n.Yb(),n.Zb(5,"td"),n.Ic(6),n.Yb(),n.Gc(7,m,2,0,"td",7),n.Gc(8,p,2,0,"td",7),n.Zb(9,"td"),n.Zb(10,"a",8),n.Ub(11,"i",9),n.Yb(),n.Ic(12,"\xa0 "),n.Zb(13,"button",10),n.gc("click",(function(){n.Bc(o);var t=e.$implicit;return n.jc().showConfirmationMessage(t._id)})),n.Ub(14,"i",11),n.Yb(),n.Yb(),n.Yb(),n.Yb()}if(2&t){var a=e.$implicit,r=e.index,s=n.jc();n.Hb(4),n.Kc("",r+1,"."),n.Hb(2),n.Kc(" ",a.categoryName," "),n.Hb(1),n.pc("ngIf",a.isActive),n.Hb(1),n.pc("ngIf",!a.isActive),n.Hb(2),n.Lb("disabled",-1===s.permissionInfo.search("Edit JobCategory")),n.rc("routerLink","/pages/job-category/update-job-category/",a._id,""),n.Hb(3),n.pc("disabled",-1===s.permissionInfo.search("Delete JobCategory"))}}var h,v=((h=function(){function e(o,a,r,s){t(this,e),this.api=o,this.route=a,this._Activatedroute=r,this.util=s,this.showCard={},this.companyShowData=[],this.leaveListData=[]}return o(e,[{key:"ngOnInit",value:function(){this.jobList(),this.permissionInfo=this.util.permissionRoleInfo}},{key:"jobList",value:function(){var t=this;try{this.api.getJobCategoryData().subscribe((function(e){if("success"===e.status||200===e.status)if(t.leaveListData=e.jobCategory,0==t.leaveListData.length)t.route.navigateByUrl("/pages/job-category/add-job-category");else for(var o=0;o<t.leaveListData.length;o++)t.showCard[t.leaveListData[o]._id]=!0,t.isActive=1==e.jobCategory[o].isActive}))}catch(e){console.log(e.message)}}},{key:"showConfirmationMessage",value:function(t){var e=this,o=g.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});o.fire({title:"Are you sure?",text:"You want to delete it",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then((function(a){a.value?e.api.removeData(t).subscribe((function(t){"success"!==t.status&&200!==t.status||(o.fire("Deleted!",t.message,"success"),e.jobList())})):a.dismiss===g.a.DismissReason.cancel&&o.fire("Cancelled","Your list data safe","error")}))}},{key:"addJobCategory",value:function(){try{this.util.jobCategoryStatus=1}catch(t){console.log(t)}}}]),e}()).\u0275fac=function(t){return new(t||h)(n.Tb(f.a),n.Tb(c.b),n.Tb(c.a),n.Tb(d.a))},h.\u0275cmp=n.Nb({type:h,selectors:[["app-list-job-category"]],decls:17,vars:2,consts:[[1,"card"],[1,"card-header",2,"text-align","center"],["type","button","routerLink","/pages/job-category/add-job-category",1,"btn","btn-primary",2,"float","right",3,"disabled","click"],[1,"fa","fa-plus-square"],[1,"table",2,"text-align","center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil-square-o"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fa","fa-trash"],[1,"fa","fa-check",2,"color","green","font-size","25px"],[1,"fa","fa-times",2,"color","red","font-size","25px"]],template:function(t,e){1&t&&(n.Zb(0,"div",0),n.Zb(1,"div",1),n.Zb(2,"h2"),n.Ic(3,"Job Category"),n.Yb(),n.Zb(4,"button",2),n.gc("click",(function(){return e.addJobCategory()})),n.Ub(5,"i",3),n.Ic(6,"\xa0 Add Job Category"),n.Yb(),n.Yb(),n.Zb(7,"table",4),n.Zb(8,"thead",5),n.Zb(9,"tr"),n.Zb(10,"th"),n.Ic(11," S.No"),n.Yb(),n.Zb(12,"th"),n.Ic(13," Category Name"),n.Yb(),n.Zb(14,"th"),n.Ic(15," Is Active"),n.Yb(),n.Yb(),n.Yb(),n.Gc(16,y,15,8,"tbody",6),n.Yb(),n.Yb()),2&t&&(n.Hb(4),n.pc("disabled",-1===e.permissionInfo.search("Create JobCategory")),n.Hb(12),n.pc("ngForOf",e.leaveListData))},directives:[c.c,i.l,i.m,c.e],encapsulation:2}),h),Z=r("3Pt+");function j(t,e){if(1&t&&(n.Zb(0,"p",17),n.Zb(1,"strong"),n.Ic(2),n.Yb(),n.Yb()),2&t){var o=n.jc();n.Hb(2),n.Jc(o.errMsg)}}function Y(t,e){if(1&t&&(n.Zb(0,"p",18),n.Zb(1,"strong"),n.Ic(2),n.Yb(),n.Yb()),2&t){var o=n.jc();n.Hb(2),n.Jc(o.successMsg)}}function I(t,e){if(1&t&&(n.Zb(0,"div",20),n.Ic(1),n.Yb()),2&t){var o=n.jc().$implicit;n.Hb(1),n.Kc(" ",o.message," ")}}function C(t,e){if(1&t&&(n.Zb(0,"div"),n.Gc(1,I,2,1,"div",19),n.Yb()),2&t){var o=e.$implicit,a=n.jc();n.Hb(1),n.pc("ngIf",a.jobForm.get("categoryName").hasError(o.type)&&(a.jobForm.get("categoryName").dirty||a.jobForm.get("categoryName").touched))}}function M(t,e){if(1&t&&(n.Zb(0,"p",17),n.Zb(1,"strong"),n.Ic(2),n.Yb(),n.Yb()),2&t){var o=n.jc();n.Hb(2),n.Jc(o.errMsg)}}function F(t,e){if(1&t&&(n.Zb(0,"p",18),n.Zb(1,"strong"),n.Ic(2),n.Yb(),n.Yb()),2&t){var o=n.jc();n.Hb(2),n.Jc(o.successMsg)}}function N(t,e){if(1&t&&(n.Zb(0,"div",20),n.Ic(1),n.Yb()),2&t){var o=n.jc().$implicit;n.Hb(1),n.Kc(" ",o.message," ")}}function k(t,e){if(1&t&&(n.Zb(0,"div"),n.Gc(1,N,2,1,"div",19),n.Yb()),2&t){var o=e.$implicit,a=n.jc();n.Hb(1),n.pc("ngIf",a.jobForm.get("categoryName").hasError(o.type)&&(a.jobForm.get("categoryName").dirty||a.jobForm.get("categoryName").touched))}}var w,D,J,x,H=[{path:"",component:b,canActivate:[u.a],children:[{path:"list-job-category",component:v},{path:"add-job-category",component:(D=function(){function e(o,a,r,s,i){t(this,e),this.fb=o,this.ngZone=a,this.router=r,this.api=s,this.util=i,this.successMessage=!1,this.errorMsg=!1,this.companyName=[],this.validationMessage={categoryName:[{type:"required",message:"Category Name is Required"}]},this.isListAvaliable()}return o(e,[{key:"ngOnInit",value:function(){this.companyDataValidate(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Create JobCategory")&&this.jobForm.disable()}},{key:"companyDataValidate",value:function(){try{this.jobForm=this.fb.group({categoryName:new Z.f("",Z.v.required),isActive:new Z.f(!1)})}catch(t){console.log(t)}}},{key:"jobFormData",value:function(){var t=this;try{var e=this.util.cleanFormLevelOne(this.jobForm);this.jobForm.value&&this.api.addJobCategoy(e.value).subscribe((function(e){"success"===e.status||200===e.status?(t.successMessage=!0,t.errorMsg=!1,t.successMsg=e.message,setTimeout((function(){t.handleErrors(),t.ngZone.run((function(){return t.router.navigateByUrl("/pages/job-category/list-job-category")}))}),2e3)):"error"!==e.status&&404!==e.status||(t.errorMsg=!0,t.successMessage=!1,t.errMsg=e.message,setTimeout((function(){t.handleErrors()}),3e3))}))}catch(o){console.log(o)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}},{key:"isListAvaliable",value:function(){var t=this;try{this.api.getJobCategoryData().subscribe((function(e){"success"===e.status&&e.jobCategory.length>0&&1!==t.util.jobCategoryStatus&&(t.router.navigateByUrl("/pages/job-category/list-job-category"),t.util.jobCategoryStatus=0)}))}catch(e){console.log(e)}}}]),e}(),D.\u0275fac=function(t){return new(t||D)(n.Tb(Z.e),n.Tb(n.E),n.Tb(c.b),n.Tb(f.a),n.Tb(d.a))},D.\u0275cmp=n.Nb({type:D,selectors:[["app-add-job-category"]],decls:32,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","CategoryName","placeholder","Enter Category Name","formControlName","categoryName","required","",1,"form-control"],[4,"ngFor","ngForOf"],["type","checkbox","formControlName","isActive"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","routerLink","../list-job-category",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;","style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(t,e){1&t&&(n.Zb(0,"div",0),n.Zb(1,"div",1),n.Zb(2,"h2",2),n.Ic(3,"Job Category Details"),n.Yb(),n.Yb(),n.Zb(4,"div",3),n.Zb(5,"div",4),n.Gc(6,j,3,1,"p",5),n.Yb(),n.Zb(7,"div",4),n.Gc(8,Y,3,1,"p",6),n.Yb(),n.Zb(9,"form",7),n.gc("ngSubmit",(function(){return e.jobFormData()})),n.Zb(10,"div",8),n.Ic(11," \xa0"),n.Zb(12,"label",9),n.Zb(13,"b"),n.Ic(14,"Category Name:\xa0"),n.Zb(15,"span",10),n.Ic(16,"*"),n.Yb(),n.Yb(),n.Yb(),n.Zb(17,"div",4),n.Ub(18,"input",11),n.Gc(19,C,2,1,"div",12),n.Yb(),n.Yb(),n.Zb(20,"div",8),n.Zb(21,"div",4),n.Zb(22,"label"),n.Zb(23,"b"),n.Ic(24,"Is Active: "),n.Yb(),n.Yb(),n.Ub(25,"input",13),n.Yb(),n.Yb(),n.Zb(26,"div",8),n.Zb(27,"div",14),n.Zb(28,"button",15),n.Ic(29,"Submit"),n.Yb(),n.Zb(30,"button",16),n.Ic(31,"Cancel"),n.Yb(),n.Yb(),n.Yb(),n.Yb(),n.Yb(),n.Yb()),2&t&&(n.Hb(6),n.pc("ngIf",e.errorMsg),n.Hb(2),n.pc("ngIf",e.successMessage),n.Hb(1),n.pc("formGroup",e.jobForm),n.Hb(10),n.pc("ngForOf",e.validationMessage.categoryName),n.Hb(9),n.pc("disabled",e.jobForm.invalid||-1===e.permissionInfo.search("Create JobCategory")))},directives:[i.m,Z.x,Z.o,Z.i,Z.c,Z.n,Z.g,Z.t,i.l,Z.b,c.c],encapsulation:2}),D)},{path:"update-job-category/:jobCategoryId",component:(w=function(){function e(o,a,r,s,i,c){var n=this;t(this,e),this.fb=o,this.router=a,this.ngZone=r,this.route=s,this.api=i,this.util=c,this.successMessage=!1,this.errorMsg=!1,this.leaveData=[],this.validationMessage={categoryName:[{type:"required",message:"Category Name is required"}]},this.jobCategoryId=this.route.snapshot.paramMap.get("jobCategoryId"),this.util.moduleExists(this.jobCategoryId,"JobCategory").subscribe((function(t){"success"===t.status&&(t.data||n.router.navigateByUrl("/pages/job-category/list-job-category"))}))}return o(e,[{key:"ngOnInit",value:function(){this.companyDataValidate(),this.getExistingData(),this.permissionInfo=this.util.permissionRoleInfo,-1===this.permissionInfo.search("Edit JobCategory")&&this.jobForm.disable()}},{key:"getExistingData",value:function(){var t=this;this.api.jobCategoryDetails(this.jobCategoryId).subscribe((function(e){t.leaveFormData=e.data,t.jobForm=t.fb.group({categoryName:new Z.f(t.leaveFormData.categoryName),isActive:new Z.f(t.leaveFormData.isActive)})}))}},{key:"companyDataValidate",value:function(){try{this.jobForm=this.fb.group({categoryName:new Z.f("",Z.v.required),isActive:new Z.f(!1)})}catch(t){console.log(t)}}},{key:"updateJobForm",value:function(){var t=this;try{var e=this.util.cleanFormLevelOne(this.jobForm);this.jobForm.value&&this.api.updateJobCategory(e.value,this.jobCategoryId).subscribe((function(e){"success"===e.status||200===e.status?(t.successMessage=!0,t.errorMsg=!1,t.successMsg=e.message,setTimeout((function(){t.handleErrors(),t.ngZone.run((function(){return t.router.navigateByUrl("/pages/job-category/list-job-category")}))}),2e3)):"error"==e.status&&(t.errorMsg=!0,t.successMessage=!1,t.errMsg=e.message,setTimeout((function(){t.handleErrors()}),3e3))}))}catch(o){console.log(o.message)}}},{key:"handleErrors",value:function(){this.errorMsg=!1,this.successMessage=!1,this.errMsg="",this.successMsg=""}}]),e}(),w.\u0275fac=function(t){return new(t||w)(n.Tb(Z.e),n.Tb(c.b),n.Tb(n.E),n.Tb(c.a),n.Tb(f.a),n.Tb(d.a))},w.\u0275cmp=n.Nb({type:w,selectors:[["app-update-job-category"]],decls:31,vars:5,consts:[[1,"card","card-user"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-body"],[1,"col-sm-offset-2"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["role","form","novalidate","",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-sm-6","control-label"],[2,"color","darkred"],["type","text","id","CategoryName","placeholder","Enter Category Name","formControlName","categoryName","required","",1,"form-control"],[4,"ngFor","ngForOf"],["type","checkbox","formControlName","isActive"],[1,"col-sm-offset-2","col-sm-10"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","submit","routerLink","../../list-job-category",1,"btn","btn-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["style","color:\xa0red;margin-left:\xa014px;",4,"ngIf"],[2,"color","red","margin-left","14px"]],template:function(t,e){1&t&&(n.Zb(0,"div",0),n.Zb(1,"div",1),n.Zb(2,"h2",2),n.Ic(3,"Update Job Category"),n.Yb(),n.Yb(),n.Zb(4,"div",3),n.Zb(5,"div",4),n.Gc(6,M,3,1,"p",5),n.Yb(),n.Zb(7,"div",4),n.Gc(8,F,3,1,"p",6),n.Yb(),n.Zb(9,"form",7),n.gc("ngSubmit",(function(){return e.updateJobForm()})),n.Zb(10,"div",8),n.Zb(11,"label",9),n.Zb(12,"b"),n.Ic(13,"Category Name:\xa0"),n.Zb(14,"span",10),n.Ic(15,"*"),n.Yb(),n.Yb(),n.Yb(),n.Zb(16,"div",4),n.Ub(17,"input",11),n.Gc(18,k,2,1,"div",12),n.Yb(),n.Yb(),n.Zb(19,"div",8),n.Zb(20,"div",4),n.Zb(21,"label"),n.Zb(22,"b"),n.Ic(23,"Is Active: "),n.Yb(),n.Yb(),n.Ub(24,"input",13),n.Yb(),n.Yb(),n.Zb(25,"div",8),n.Zb(26,"div",14),n.Zb(27,"button",15),n.Ic(28,"Update"),n.Yb(),n.Zb(29,"button",16),n.Ic(30,"Cancel"),n.Yb(),n.Yb(),n.Yb(),n.Yb(),n.Yb(),n.Yb()),2&t&&(n.Hb(6),n.pc("ngIf",e.errorMsg),n.Hb(2),n.pc("ngIf",e.successMessage),n.Hb(1),n.pc("formGroup",e.jobForm),n.Hb(9),n.pc("ngForOf",e.validationMessage.categoryName),n.Hb(9),n.pc("disabled",e.jobForm.invalid||-1===e.permissionInfo.search("Edit JobCategory")))},directives:[i.m,Z.x,Z.o,Z.i,Z.c,Z.n,Z.g,Z.t,i.l,Z.b,c.c],encapsulation:2}),w)},{path:"",redirectTo:"list-job-category",pathMatch:"full"}]}],T=((x=function e(){t(this,e)}).\u0275mod=n.Rb({type:x}),x.\u0275inj=n.Qb({factory:function(t){return new(t||x)},imports:[[i.c,c.f.forChild(H)]]}),x),L=((J=function e(){t(this,e)}).\u0275mod=n.Rb({type:J}),J.\u0275inj=n.Qb({factory:function(t){return new(t||J)},imports:[[i.c,T,Z.j,Z.s,c.f]]}),J)}}])}();
//# sourceMappingURL=20-es5.ca52df8343bc565e5bc2.js.map